!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){var r=t.exports={};function n(t){return(t%360+360)%360}function o(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}r.rgb2Hsl=function(t,e,r){if("object"==typeof t){const n=t;t=n.r,e=n.g,r=n.b}t=255===t?1:t%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255),r=255===r?1:r%255/parseFloat(255);var n,o,s=Math.max(t,e,r),a=Math.min(t,e,r),h=(s+a)/2;if(s===a)n=o=0;else{var c=s-a;switch(o=h>.5?c/(2-s-a):c/(s+a),s){case t:n=(e-r)/c+(e<r?6:0);break;case e:n=(r-t)/c+2;break;case r:n=(t-e)/c+4}n/=6}return{h:Math.round(360*n),s:Math.round(100*o),l:Math.round(100*h)}},r.rgb_to_hsl=r.rgbToHsl=r.rgb2Hsl,r.rgb2Hsv=function(t,e,r){if("object"==typeof t){const n=t;t=n.r,e=n.g,r=n.b}t=255===t?1:t%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255),r=255===r?1:r%255/parseFloat(255);var n,o,s=Math.max(t,e,r),a=Math.min(t,e,r),h=s,c=s-a;if(o=0===s?0:c/s,s===a)n=0;else{switch(s){case t:n=(e-r)/c+(e<r?6:0);break;case e:n=(r-t)/c+2;break;case r:n=(t-e)/c+4}n/=6}return{h:Math.round(360*n),s:Math.round(100*o),v:Math.round(100*h)}},r.rgb_to_hsv=r.rgbToHsv=r.rgb2Hsv,r.hsl2Rgb=function(t,e,r){if("object"==typeof t){const n=t;t=n.h,e=n.s,r=n.l}var s,a,h;if(t=360===(t=n(t))?1:t%360/parseFloat(360),e=100===e?1:e%100/parseFloat(100),r=100===r?1:r%100/parseFloat(100),0===e)s=a=h=r;else{var c=r<.5?r*(1+e):r+e-r*e,i=2*r-c;s=o(i,c,t+1/3),a=o(i,c,t),h=o(i,c,t-1/3)}return{r:Math.round(255*s),g:Math.round(255*a),b:Math.round(255*h)}},r.hsl_to_rgb=r.hslToRgb=r.hsl2Rgb,r.hsv2Rgb=function(t,e,r){if("object"==typeof t){const n=t;t=n.h,e=n.s,r=n.v}t=360===(t=n(t))?1:t%360/parseFloat(360)*6,e=100===e?1:e%100/parseFloat(100),r=100===r?1:r%100/parseFloat(100);var o=Math.floor(t),s=t-o,a=r*(1-e),h=r*(1-s*e),c=r*(1-(1-s)*e),i=o%6,b=[r,h,a,a,c,r][i],u=[c,r,r,h,a,a][i],g=[a,a,c,r,r,h][i];return{r:Math.floor(255*b),g:Math.floor(255*u),b:Math.floor(255*g)}},r.hsv_to_rgb=r.hsv2Rgb,r.hsvToRgb=r.hsv2Rgb,r.rgb2Hex=function(t,e,r){if("object"==typeof t){const n=t;t=n.r,e=n.g,r=n.b}return t=Math.round(t).toString(16),e=Math.round(e).toString(16),r=Math.round(r).toString(16),"#"+(t=1===t.length?"0"+t:t)+(e=1===e.length?"0"+e:e)+(r=1===r.length?"0"+r:r)},r.rgb_to_hex=r.rgbToHex=r.rgb2Hex,r.hex2Rgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},r.hex_to_rgb=r.hexToRgb=r.hex2Rgb,r.hsv2Hex=function(t,e,n){var o=r.hsv2Rgb(t,e,n);return r.rgb2Hex(o.r,o.g,o.b)},r.hsv_to_hex=r.hsv2Hex,r.hsvToHex=r.hsv2Hex,r.hex2Hsv=function(t){var e=r.hex2Rgb(t);return r.rgb2Hsv(e.r,e.g,e.b)},r.hex_to_hsv=r.hexToHsv=r.hex2Hsv,r.hsl2Hex=function(t,e,n){var o=r.hsl2Rgb(t,e,n);return r.rgb2Hex(o.r,o.g,o.b)},r.hsl_to_hex=r.hslToHex=r.hsl2Hex,r.hex2Hsl=function(t){var e=r.hex2Rgb(t);return r.rgb2Hsl(e.r,e.g,e.b)},r.hex_to_hsl=r.hexToHsl=r.hex2Hsl,r.rgb2Cmyk=function(t,e,r){if("object"==typeof t){const n=t;t=n.r,e=n.g,r=n.b}var n=t/255,o=e/255,s=r/255,a=1-Math.max(n,o,s),h=(1-o-a)/(1-a),c=(1-s-a)/(1-a);return{c:((1-n-a)/(1-a)).toFixed(3),m:h.toFixed(3),y:c.toFixed(3),k:a.toFixed(3)}},r.rgb_to_cmyk=r.rgbToCmyk=r.rgb2Cmyk,r.cmyk2Rgb=function(t,e,r,n){if("object"==typeof t){const o=t;t=o.c,e=o.m,r=o.y,n=o.k}var o=255*(1-t)*(1-n),s=255*(1-e)*(1-n),a=255*(1-r)*(1-n);return{r:Math.floor(o),g:Math.floor(s),b:Math.floor(a)}},r.cmyk_to_rgb=r.cmykToRgb=r.cmyk2Rgb,r.hsv2Hsl=function(t,e,r){if("object"==typeof t){const n=t;t=n.h,e=n.s,r=n.v}var n=(2-e)*r/2;return 0!==n&&(e=100===n?0:n<50?e*r/(2*n):e*r/(2-2*n)),{h:t,s:e,l:n}},r.hsv_to_hsl=r.hsvToHsl=r.hsv2Hsl,r.hsl2Hsv=function(t,e,r){if("object"==typeof t){const n=t;t=n.h,e=n.s,r=n.l}return e*=r<50?r:100-r,{h:t,s:Math.floor(2*e/(r+e)),v:Math.floor(r+e)}},r.hsl_to_hsv=r.hslToHsv=r.hsl2Hsv,r.parseCss=function(t){if(t.indexOf("#")>-1)return r.hex2Rgb(t);const e=t.split("(")[0],n=t.split("(")[1].split(")")[0].split(",");return e.split("").reduce(function(t,e,r){const o=t;return o[e]=parseFloat(n[r]),o},{})},r.parse_css=r.parseCss,r.stringify=function(t){return Object.keys(t).join("")+"("+Object.keys(t).map(function(e){var r=t[e];return"s"!==e&&"v"!==e&&"l"!==e||(r+="%"),r}).join(", ")+")"},r.random=function(){return"#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).substr(-6)},r.rotateHue=function(t,e){void 0===e&&(e=0);const r="object"==typeof t?(t.h+e)%360:(t+e)%360,n=r<0?360+r:r;return"object"==typeof t?Object.assign(t,{h:n}):n}},function(t,e,r){"use strict";var n=r(0),o=[{beg:0,end:94},{beg:180,end:274}],s=10;function a(t,e){return e.reduce(function(e,r){return 0==e.distance?{distance:0,border:0}:r.beg<t.h&&r.end>t.h?{distance:0,border:0}:r.beg<t.h+360&&r.end>t.h+360?{distance:0,border:0}:function(){for(var t={distance:1e3,border:0},e=0;e<arguments.length;e++)t.distance>arguments[e].distance&&(t=arguments[e]);return t}({distance:Math.abs(t.h-r.beg),border:r.beg},{distance:Math.abs(t.h-r.end),border:r.end},{distance:Math.abs(t.h+360-r.beg),border:r.beg},{distance:Math.abs(t.h+360-r.end),border:r.end},{distance:e.distance,border:0})},{distance:1e3,border:0})}function h(t,e){return t.map(function(t){return{beg:t.beg+e,end:t.end+e}})}window.onload=function(){!function(){var t=document.getElementsByTagName("img")[0];t.crossOrigin="Anonymous",t.setAttribute("crossOrigin","");var e=document.getElementById("canvas"),r=e.getContext("2d");e.width=t.width,e.height=t.height,r.drawImage(t,0,0);for(var c=r.getImageData(0,0,e.width,e.height),i=c.data,b=[],u=0;u<i.length;u+=4)b.push(n.rgb_to_hsl({r:i[u],g:i[u+1],b:i[u+2]}));for(var g=o,f=1/0,l=0,d=0;d<=360;d+=s){g=h(o,d);var v=b.reduce(function(t,e){return t+a(e,g).distance},0);f>v&&(l=d),f=Math.min(f,v)}g=h(o,d),b=b.map(function(t){var e=a(t,g);return t.distance=e.distance,t.border=e.border,t},0),console.log(l)}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbG9yc3lzL2NvbG9yc3lzLmpzIiwid2VicGFjazovLy8uL2pzL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbG9yc3lzIiwiX25vcm1hbGl6ZUFuZ2xlIiwiZGVncmVlcyIsIl9odWUyUmdiIiwicSIsInQiLCJyZ2IySHNsIiwiZyIsImIiLCJhcmdzIiwicGFyc2VGbG9hdCIsImgiLCJtYXgiLCJNYXRoIiwibWluIiwicm91bmQiLCJyZ2JfdG9faHNsIiwicmdiVG9Ic2wiLCJyZ2IySHN2IiwidiIsInJnYl90b19oc3YiLCJyZ2JUb0hzdiIsImhzbDJSZ2IiLCJoc2xfdG9fcmdiIiwiaHNsVG9SZ2IiLCJoc3YyUmdiIiwiZmxvb3IiLCJmIiwibW9kIiwiaHN2X3RvX3JnYiIsImhzdlRvUmdiIiwicmdiMkhleCIsInRvU3RyaW5nIiwibGVuZ3RoIiwicmdiX3RvX2hleCIsInJnYlRvSGV4IiwiaGV4MlJnYiIsImhleCIsInJlc3VsdCIsImV4ZWMiLCJwYXJzZUludCIsImhleF90b19yZ2IiLCJoZXhUb1JnYiIsImhzdjJIZXgiLCJyZ2IiLCJoc3ZfdG9faGV4IiwiaHN2VG9IZXgiLCJoZXgySHN2IiwiaGV4X3RvX2hzdiIsImhleFRvSHN2IiwiaHNsMkhleCIsImhzbF90b19oZXgiLCJoc2xUb0hleCIsImhleDJIc2wiLCJoZXhfdG9faHNsIiwiaGV4VG9Ic2wiLCJyZ2IyQ215ayIsInJwcmltIiwiZ3ByaW0iLCJicHJpbSIsImsiLCJ5IiwidG9GaXhlZCIsInJnYl90b19jbXlrIiwicmdiVG9DbXlrIiwiY215azJSZ2IiLCJjbXlrX3RvX3JnYiIsImNteWtUb1JnYiIsImhzdjJIc2wiLCJTVl9NQVgiLCJoc3ZfdG9faHNsIiwiaHN2VG9Ic2wiLCJoc2wySHN2IiwiaHNsX3RvX2hzdiIsImhzbFRvSHN2IiwicGFyc2VDc3MiLCJjc3NTdHJpbmciLCJpbmRleE9mIiwicHJlZml4Iiwic3BsaXQiLCJyZWR1Y2UiLCJjb2xvciIsInBhcmFtIiwiaWR4IiwibmV4dENvbG9yIiwicGFyc2VfY3NzIiwic3RyaW5naWZ5Iiwib2JqIiwia2V5cyIsImpvaW4iLCJtYXAiLCJrZXkiLCJ2YWwiLCJyYW5kb20iLCJzdWJzdHIiLCJyb3RhdGVIdWUiLCJodWUiLCJhbW91bnQiLCJhdXgiLCJuZXh0SHVlIiwiYXNzaWduIiwidGVtcGxhdGUxIiwiYmVnIiwiZW5kIiwiYW5nbGVTdGVwIiwibWluQm9yZGVyRGlzdGFuY2UiLCJwaXhlbCIsInRlbXBsYXRlIiwiaW5mIiwic2VjdGlvbiIsImRpc3RhbmNlIiwiYm9yZGVyIiwibWluRGlzdGFuY2UiLCJhcmd1bWVudHMiLCJkaXN0YW5jZU1pbiIsImFicyIsInRlbXBsYXRlUm90YXRlIiwiYW5nbGUiLCJ3aW5kb3ciLCJvbmxvYWQiLCJpbWciLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY3Jvc3NPcmlnaW4iLCJzZXRBdHRyaWJ1dGUiLCJjYW52YXMiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJ3aWR0aCIsImhlaWdodCIsImRyYXdJbWFnZSIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsImRhdGEiLCJkYXRhSFNMIiwicHVzaCIsIm1pblN1bURpc3RhbmNlIiwiSW5maW5pdHkiLCJiZXN0QW5n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QkMsSUFDakJDLEVBQVksRUFFUHRCLEVBQVEsRUFBR0EsR0FBTyxJQUFLQSxHQUFPYixFQUFVLENBTTdDRyxFQUFXUyxFQUFlZixFQUFXZ0IsR0FLckMsSUFBSXVCLEVBQU1MLEVBQVF2RCxPQUFPLFNBQUM0RCxFQUFLbEMsR0FFM0IsT0FBT2tDLEVBQU1uQyxFQUFrQkMsRUFBT0MsR0FBVUcsVUFDakQsR0FTQzJCLEVBQWlCRyxJQUNqQkQsRUFBWXRCLEdBR2hCb0IsRUFBaUI1SCxLQUFLQyxJQUFJMkgsRUFBZ0JHLEdBTzlDakMsRUFBV1MsRUFBZWYsRUFBV2dCLEdBR3JDa0IsRUFBVUEsRUFBUTdDLElBQUksU0FBQ2dCLEdBRW5CLElBQUk0QixFQUFPN0IsRUFBa0JDLEVBQU9DLEdBR3BDLE9BRkFELEVBQU1JLFNBQVd3QixFQUFLeEIsU0FDdEJKLEVBQU1LLE9BQVN1QixFQUFLdkIsT0FDYkwsR0FDUixHQU1IbUMsUUFBUUMsSUFBSUgsR0E1RWhCSSIsImZpbGUiOiIuL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJcbmNvbnN0IFJHQl9NQVggPSAyNTVcbmNvbnN0IEhVRV9NQVggPSAzNjBcbmNvbnN0IFNWX01BWCA9IDEwMFxuXG52YXIgY29sb3JzeXMgPSBtb2R1bGUuZXhwb3J0cyA9IHt9XG5cbmNvbG9yc3lzLnJnYjJIc2wgPSBmdW5jdGlvbiAociwgZywgYikge1xuICBpZiAodHlwZW9mIHIgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IHJcbiAgICByID0gYXJncy5yOyBnID0gYXJncy5nOyBiID0gYXJncy5iO1xuICB9XG4gIC8vIEl0IGNvbnZlcnRzIFswLDI1NV0gZm9ybWF0LCB0byBbMCwxXVxuICByID0gKHIgPT09IFJHQl9NQVgpID8gMSA6IChyICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG4gIGcgPSAoZyA9PT0gUkdCX01BWCkgPyAxIDogKGcgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcbiAgYiA9IChiID09PSBSR0JfTUFYKSA/IDEgOiAoYiAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuXG4gIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKVxuICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYilcbiAgdmFyIGgsIHMsIGwgPSAobWF4ICsgbWluKSAvIDJcblxuICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICBoID0gcyA9IDAgLy8gYWNocm9tYXRpY1xuICB9IGVsc2Uge1xuICAgIHZhciBkID0gbWF4IC0gbWluXG4gICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pXG4gICAgc3dpdGNoIChtYXgpIHtcbiAgICAgIGNhc2UgcjpcbiAgICAgICAgaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIGc6XG4gICAgICAgIGggPSAoYiAtIHIpIC8gZCArIDJcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgYjpcbiAgICAgICAgaCA9IChyIC0gZykgLyBkICsgNFxuICAgICAgICBicmVha1xuICAgIH1cbiAgICBoIC89IDZcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaDogTWF0aC5yb3VuZChoICogSFVFX01BWCksXG4gICAgczogTWF0aC5yb3VuZChzICogU1ZfTUFYKSxcbiAgICBsOiBNYXRoLnJvdW5kKGwgKiBTVl9NQVgpXG4gIH1cbn1cblxuY29sb3JzeXMucmdiX3RvX2hzbCA9IGNvbG9yc3lzLnJnYlRvSHNsID0gY29sb3JzeXMucmdiMkhzbFxuXG5jb2xvcnN5cy5yZ2IySHN2ID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSByXG4gICAgciA9IGFyZ3MucjsgZyA9IGFyZ3MuZzsgYiA9IGFyZ3MuYjtcbiAgfVxuXG4gIC8vIEl0IGNvbnZlcnRzIFswLDI1NV0gZm9ybWF0LCB0byBbMCwxXVxuICByID0gKHIgPT09IFJHQl9NQVgpID8gMSA6IChyICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG4gIGcgPSAoZyA9PT0gUkdCX01BWCkgPyAxIDogKGcgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcbiAgYiA9IChiID09PSBSR0JfTUFYKSA/IDEgOiAoYiAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuXG4gIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKVxuICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYilcbiAgdmFyIGgsIHMsIHYgPSBtYXhcblxuICB2YXIgZCA9IG1heCAtIG1pblxuXG4gIHMgPSBtYXggPT09IDAgPyAwIDogZCAvIG1heFxuXG4gIGlmIChtYXggPT09IG1pbikge1xuICAgIGggPSAwIC8vIGFjaHJvbWF0aWNcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgY2FzZSByOlxuICAgICAgICBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgZzpcbiAgICAgICAgaCA9IChiIC0gcikgLyBkICsgMlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBiOlxuICAgICAgICBoID0gKHIgLSBnKSAvIGQgKyA0XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIGggLz0gNlxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoOiBNYXRoLnJvdW5kKGggKiBIVUVfTUFYKSxcbiAgICBzOiBNYXRoLnJvdW5kKHMgKiBTVl9NQVgpLFxuICAgIHY6IE1hdGgucm91bmQodiAqIFNWX01BWClcbiAgfVxufVxuXG5jb2xvcnN5cy5yZ2JfdG9faHN2ID0gY29sb3JzeXMucmdiVG9Ic3YgPSBjb2xvcnN5cy5yZ2IySHN2XG5cbmNvbG9yc3lzLmhzbDJSZ2IgPSBmdW5jdGlvbiAoaCwgcywgbCkge1xuICBpZiAodHlwZW9mIGggPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGhcbiAgICBoID0gYXJncy5oOyBzID0gYXJncy5zOyBsID0gYXJncy5sO1xuICB9XG5cbiAgdmFyIHIsIGcsIGJcblxuICBoID0gX25vcm1hbGl6ZUFuZ2xlKGgpXG4gIGggPSAoaCA9PT0gSFVFX01BWCkgPyAxIDogKGggJSBIVUVfTUFYIC8gcGFyc2VGbG9hdChIVUVfTUFYKSlcbiAgcyA9IChzID09PSBTVl9NQVgpID8gMSA6IChzICUgU1ZfTUFYIC8gcGFyc2VGbG9hdChTVl9NQVgpKVxuICBsID0gKGwgPT09IFNWX01BWCkgPyAxIDogKGwgJSBTVl9NQVggLyBwYXJzZUZsb2F0KFNWX01BWCkpXG5cbiAgaWYgKHMgPT09IDApIHtcbiAgICByID0gZyA9IGIgPSBsIC8vIGFjaHJvbWF0aWNcbiAgfSBlbHNlIHtcbiAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgciA9IF9odWUyUmdiKHAsIHEsIGggKyAxIC8gMylcbiAgICBnID0gX2h1ZTJSZ2IocCwgcSwgaClcbiAgICBiID0gX2h1ZTJSZ2IocCwgcSwgaCAtIDEgLyAzKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByOiBNYXRoLnJvdW5kKHIgKiBSR0JfTUFYKSxcbiAgICBnOiBNYXRoLnJvdW5kKGcgKiBSR0JfTUFYKSxcbiAgICBiOiBNYXRoLnJvdW5kKGIgKiBSR0JfTUFYKSxcbiAgfVxufVxuXG5jb2xvcnN5cy5oc2xfdG9fcmdiID0gY29sb3JzeXMuaHNsVG9SZ2IgPSBjb2xvcnN5cy5oc2wyUmdiXG5cbmNvbG9yc3lzLmhzdjJSZ2IgPSBmdW5jdGlvbiAoaCwgcywgdikge1xuICBpZiAodHlwZW9mIGggPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGhcbiAgICBoID0gYXJncy5oOyBzID0gYXJncy5zOyB2ID0gYXJncy52O1xuICB9XG5cbiAgaCA9IF9ub3JtYWxpemVBbmdsZShoKVxuICBoID0gKGggPT09IEhVRV9NQVgpID8gMSA6IChoICUgSFVFX01BWCAvIHBhcnNlRmxvYXQoSFVFX01BWCkgKiA2KVxuICBzID0gKHMgPT09IFNWX01BWCkgPyAxIDogKHMgJSBTVl9NQVggLyBwYXJzZUZsb2F0KFNWX01BWCkpXG4gIHYgPSAodiA9PT0gU1ZfTUFYKSA/IDEgOiAodiAlIFNWX01BWCAvIHBhcnNlRmxvYXQoU1ZfTUFYKSlcblxuICB2YXIgaSA9IE1hdGguZmxvb3IoaClcbiAgdmFyIGYgPSBoIC0gaVxuICB2YXIgcCA9IHYgKiAoMSAtIHMpXG4gIHZhciBxID0gdiAqICgxIC0gZiAqIHMpXG4gIHZhciB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpXG4gIHZhciBtb2QgPSBpICUgNlxuICB2YXIgciA9IFt2LCBxLCBwLCBwLCB0LCB2XVttb2RdXG4gIHZhciBnID0gW3QsIHYsIHYsIHEsIHAsIHBdW21vZF1cbiAgdmFyIGIgPSBbcCwgcCwgdCwgdiwgdiwgcV1bbW9kXVxuXG4gIHJldHVybiB7XG4gICAgcjogTWF0aC5mbG9vcihyICogUkdCX01BWCksXG4gICAgZzogTWF0aC5mbG9vcihnICogUkdCX01BWCksXG4gICAgYjogTWF0aC5mbG9vcihiICogUkdCX01BWCksXG4gIH1cbn1cblxuY29sb3JzeXMuaHN2X3RvX3JnYiA9IGNvbG9yc3lzLmhzdjJSZ2JcbmNvbG9yc3lzLmhzdlRvUmdiID0gY29sb3JzeXMuaHN2MlJnYlxuXG5jb2xvcnN5cy5yZ2IySGV4ID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSByXG4gICAgciA9IGFyZ3MucjsgZyA9IGFyZ3MuZzsgYiA9IGFyZ3MuYjtcbiAgfVxuICByID0gTWF0aC5yb3VuZChyKS50b1N0cmluZygxNilcbiAgZyA9IE1hdGgucm91bmQoZykudG9TdHJpbmcoMTYpXG4gIGIgPSBNYXRoLnJvdW5kKGIpLnRvU3RyaW5nKDE2KVxuXG4gIHIgPSByLmxlbmd0aCA9PT0gMSA/ICcwJyArIHIgOiByXG4gIGcgPSBnLmxlbmd0aCA9PT0gMSA/ICcwJyArIGcgOiBnXG4gIGIgPSBiLmxlbmd0aCA9PT0gMSA/ICcwJyArIGIgOiBiXG5cbiAgcmV0dXJuICcjJyArIHIgKyBnICsgYlxufVxuXG5jb2xvcnN5cy5yZ2JfdG9faGV4ID0gY29sb3JzeXMucmdiVG9IZXggPSBjb2xvcnN5cy5yZ2IySGV4XG5cbmNvbG9yc3lzLmhleDJSZ2IgPSBmdW5jdGlvbiAoaGV4KSB7XG4gIHZhciByZXN1bHQgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KVxuICByZXR1cm4gcmVzdWx0ID8ge1xuICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgIGc6IHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpLFxuICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXG4gIH0gOiBudWxsXG59XG5cbmNvbG9yc3lzLmhleF90b19yZ2IgPSBjb2xvcnN5cy5oZXhUb1JnYiA9IGNvbG9yc3lzLmhleDJSZ2JcblxuY29sb3JzeXMuaHN2MkhleCA9IGZ1bmN0aW9uIChoLCBzLCB2KSB7XG4gIHZhciByZ2IgPSBjb2xvcnN5cy5oc3YyUmdiKGgsIHMsIHYpXG4gIHJldHVybiBjb2xvcnN5cy5yZ2IySGV4KHJnYi5yLCByZ2IuZywgcmdiLmIpXG59XG5cbmNvbG9yc3lzLmhzdl90b19oZXggPSBjb2xvcnN5cy5oc3YySGV4XG5jb2xvcnN5cy5oc3ZUb0hleCA9IGNvbG9yc3lzLmhzdjJIZXhcblxuY29sb3JzeXMuaGV4MkhzdiA9IGZ1bmN0aW9uIChoZXgpIHtcbiAgdmFyIHJnYiA9IGNvbG9yc3lzLmhleDJSZ2IoaGV4KVxuICByZXR1cm4gY29sb3JzeXMucmdiMkhzdihyZ2IuciwgcmdiLmcsIHJnYi5iKVxufVxuXG5jb2xvcnN5cy5oZXhfdG9faHN2ID0gY29sb3JzeXMuaGV4VG9Ic3YgPSBjb2xvcnN5cy5oZXgySHN2XG5cbmNvbG9yc3lzLmhzbDJIZXggPSBmdW5jdGlvbiAoaCwgcywgbCkge1xuICB2YXIgcmdiID0gY29sb3JzeXMuaHNsMlJnYihoLCBzLCBsKVxuICByZXR1cm4gY29sb3JzeXMucmdiMkhleChyZ2IuciwgcmdiLmcsIHJnYi5iKVxufVxuXG5jb2xvcnN5cy5oc2xfdG9faGV4ID0gY29sb3JzeXMuaHNsVG9IZXggPSBjb2xvcnN5cy5oc2wySGV4XG5cbmNvbG9yc3lzLmhleDJIc2wgPSBmdW5jdGlvbiAoaGV4KSB7XG4gIHZhciByZ2IgPSBjb2xvcnN5cy5oZXgyUmdiKGhleClcbiAgcmV0dXJuIGNvbG9yc3lzLnJnYjJIc2wocmdiLnIsIHJnYi5nLCByZ2IuYilcbn1cblxuY29sb3JzeXMuaGV4X3RvX2hzbCA9IGNvbG9yc3lzLmhleFRvSHNsID0gY29sb3JzeXMuaGV4MkhzbFxuXG5jb2xvcnN5cy5yZ2IyQ215ayA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gIGlmICh0eXBlb2YgciA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gclxuICAgIHIgPSBhcmdzLnI7IGcgPSBhcmdzLmc7IGIgPSBhcmdzLmI7XG4gIH1cblxuICB2YXIgcnByaW0gPSByIC8gMjU1XG4gIHZhciBncHJpbSA9IGcgLyAyNTVcbiAgdmFyIGJwcmltID0gYiAvIDI1NVxuXG4gIHZhciBrID0gMSAtIE1hdGgubWF4KHJwcmltLCBncHJpbSwgYnByaW0pXG5cbiAgdmFyIGMgPSAoMSAtIHJwcmltIC0gaykgLyAoMSAtIGspXG4gIHZhciBtID0gKDEgLSBncHJpbSAtIGspIC8gKDEgLSBrKVxuICB2YXIgeSA9ICgxIC0gYnByaW0gLSBrKSAvICgxIC0gaylcblxuICByZXR1cm4ge1xuICAgIGM6IGMudG9GaXhlZCgzKSxcbiAgICBtOiBtLnRvRml4ZWQoMyksXG4gICAgeTogeS50b0ZpeGVkKDMpLFxuICAgIGs6IGsudG9GaXhlZCgzKVxuICB9XG59XG5cbmNvbG9yc3lzLnJnYl90b19jbXlrID0gY29sb3JzeXMucmdiVG9DbXlrID0gY29sb3JzeXMucmdiMkNteWtcblxuY29sb3JzeXMuY215azJSZ2IgPSBmdW5jdGlvbiAoYywgbSwgeSwgaykge1xuICBpZiAodHlwZW9mIGMgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGNcbiAgICBjID0gYXJncy5jOyBtID0gYXJncy5tOyB5ID0gYXJncy55OyBrID0gYXJncy5rO1xuICB9XG5cbiAgdmFyIHIgPSAyNTUgKiAoMSAtIGMpICogKDEgLSBrKVxuICB2YXIgZyA9IDI1NSAqICgxIC0gbSkgKiAoMSAtIGspXG4gIHZhciBiID0gMjU1ICogKDEgLSB5KSAqICgxIC0gaylcblxuICByZXR1cm4ge1xuICAgIHI6IE1hdGguZmxvb3IociksXG4gICAgZzogTWF0aC5mbG9vcihnKSxcbiAgICBiOiBNYXRoLmZsb29yKGIpXG4gIH1cbn1cblxuY29sb3JzeXMuY215a190b19yZ2IgPSBjb2xvcnN5cy5jbXlrVG9SZ2IgPSBjb2xvcnN5cy5jbXlrMlJnYlxuXG5jb2xvcnN5cy5oc3YySHNsID0gZnVuY3Rpb24gKGgsIHMsIHYpIHtcbiAgaWYgKHR5cGVvZiBoID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSBoXG4gICAgaCA9IGFyZ3MuaDsgcyA9IGFyZ3MuczsgdiA9IGFyZ3MudjtcbiAgfVxuXG4gIHZhciBsID0gKDIgLSBzKSAqIHYgLyAyXG5cbiAgaWYgKGwgIT09IDApIHtcbiAgICBpZiAobCA9PT0gU1ZfTUFYKSB7XG4gICAgICBzID0gMFxuICAgIH0gZWxzZSBpZiAobCA8IFNWX01BWCAvIDIpIHtcbiAgICAgIHMgPSBzICogdiAvIChsICogMilcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IHMgKiB2IC8gKDIgLSBsICogMilcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBoOiBoLCBzOiBzLCBsOiBsIH1cbn1cblxuY29sb3JzeXMuaHN2X3RvX2hzbCA9IGNvbG9yc3lzLmhzdlRvSHNsID0gY29sb3JzeXMuaHN2MkhzbFxuXG5jb2xvcnN5cy5oc2wySHN2ID0gZnVuY3Rpb24gKGgsIHMsIGwpIHtcbiAgaWYgKHR5cGVvZiBoID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSBoXG4gICAgaCA9IGFyZ3MuaDsgcyA9IGFyZ3MuczsgbCA9IGFyZ3MubDtcbiAgfVxuXG4gIHMgPSBzICogKGwgPCA1MCA/IGwgOiAoMTAwIC0gbCkpXG5cbiAgcmV0dXJuIHtcbiAgICBoOiBoLFxuICAgIHM6IE1hdGguZmxvb3IoMiAqIHMgLyAobCArIHMpKSxcbiAgICB2OiBNYXRoLmZsb29yKGwgKyBzKSxcbiAgfVxufVxuXG5jb2xvcnN5cy5oc2xfdG9faHN2ID0gY29sb3JzeXMuaHNsVG9Ic3YgPSBjb2xvcnN5cy5oc2wySHN2XG5cbi8qKlxuKiBQYXJzZXMgdmFsdWVzIGZyb20gYSBzdHJpbmcgaW50byBhIGphdmFzY3JpcHQgb2JqZWN0XG4qIGUuZzogaHNsYSgxNDAsIDMwJSwgNDAlLCAuNSkgPT4geyBoOiAxNDAsIHM6IDMwLCBsOiA0MCwgYWxwaGE6IDAuNX1cbiovXG5jb2xvcnN5cy5wYXJzZUNzcyA9IGZ1bmN0aW9uIChjc3NTdHJpbmcpIHtcbiAgaWYgKGNzc1N0cmluZy5pbmRleE9mKCcjJykgPiAtMSkge1xuICAgIHJldHVybiBjb2xvcnN5cy5oZXgyUmdiKGNzc1N0cmluZylcbiAgfVxuXG4gIGNvbnN0IHByZWZpeCA9IGNzc1N0cmluZy5zcGxpdCgnKCcpWzBdXG4gIGNvbnN0IGFyZ3MgPSBjc3NTdHJpbmcuc3BsaXQoJygnKVsxXS5zcGxpdCgnKScpWzBdLnNwbGl0KCcsJylcblxuICAvLyBVc2UgdGhlIHByZWZpeCBhcyBhbiBhcnJheSBbciwgZywgYiwgYV0gdG8gcGFyc2UgdGhlIGNvbG91cnNcbiAgcmV0dXJuIHByZWZpeC5zcGxpdCgnJykucmVkdWNlKGZ1bmN0aW9uIChjb2xvciwgcGFyYW0sIGlkeCkge1xuICAgIGNvbnN0IG5leHRDb2xvciA9IGNvbG9yXG4gICAgbmV4dENvbG9yW3BhcmFtXSA9IHBhcnNlRmxvYXQoYXJnc1tpZHhdKVxuICAgIHJldHVybiBuZXh0Q29sb3JcbiAgfSwge30pXG59XG5cbmNvbG9yc3lzLnBhcnNlX2NzcyA9IGNvbG9yc3lzLnBhcnNlQ3NzXG5cbmNvbG9yc3lzLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgY29uc3QgcHJlZml4ID0gT2JqZWN0LmtleXMob2JqKS5qb2luKCcnKVxuICBjb25zdCB2YWx1ZXMgPSBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbCA9IG9ialtrZXldXG4gICAgaWYgKGtleSA9PT0gJ3MnIHx8wqBrZXkgPT09ICd2JyB8fCBrZXkgPT09ICdsJykge1xuICAgICAgdmFsID0gdmFsICsgJyUnXG4gICAgfVxuICAgIHJldHVybiB2YWxcbiAgfSlcbiAgcmV0dXJuIHByZWZpeCArICcoJyArIHZhbHVlcy5qb2luKCcsICcpICsgJyknXG59XG5cbi8vIFdpbGwgcmV0dXJuIGEgcmFuZG9tIGhleCBjb2xvdXJcbmNvbG9yc3lzLnJhbmRvbSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgYmFzZSA9ICcwMDAwMDAnXG4gIGNvbnN0IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2Nzc3MjE1KS50b1N0cmluZygxNilcbiAgcmV0dXJuICcjJyArIChiYXNlICsgbnVtYmVyKS5zdWJzdHIoLTYpXG59XG5cbmNvbG9yc3lzLnJvdGF0ZUh1ZSA9IGZ1bmN0aW9uIChodWUsIGFtb3VudCkge1xuICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMDsgfVxuICBjb25zdCBhdXggPSB0eXBlb2YgaHVlID09PSAnb2JqZWN0J1xuICAgICAgPyAoaHVlLmggKyBhbW91bnQpICUgMzYwXG4gICAgICA6IChodWUgKyBhbW91bnQpICUgMzYwXG4gICAgICBcbiAgY29uc3QgbmV4dEh1ZSA9IGF1eCA8IDAgPyAoMzYwICsgYXV4KSA6IGF1eFxuICByZXR1cm4gdHlwZW9mIGh1ZSA9PT0gJ29iamVjdCdcbiAgICAgID8gT2JqZWN0LmFzc2lnbihodWUsIHsgaDogbmV4dEh1ZSB9KVxuICAgICAgOiBuZXh0SHVlXG59XG5cbmZ1bmN0aW9uIF9ub3JtYWxpemVBbmdsZSAoZGVncmVlcykge1xuICByZXR1cm4gKGRlZ3JlZXMgJSAzNjAgKyAzNjApICUgMzYwO1xufVxuXG5mdW5jdGlvbiBfaHVlMlJnYiAocCwgcSwgdCkge1xuICBpZiAodCA8IDApIHQgKz0gMVxuICBpZiAodCA+IDEpIHQgLT0gMVxuICBpZiAodCA8IDEgLyA2KSByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdFxuICBpZiAodCA8IDEgLyAyKSByZXR1cm4gcVxuICBpZiAodCA8IDIgLyAzKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDZcbiAgcmV0dXJuIHBcbn1cbiIsInZhciBjb2xvcnN5cyA9IHJlcXVpcmUoJ2NvbG9yc3lzJyk7XHJcbmNvbnN0IHRlbXBsYXRlMSA9IFt7YmVnOiAwLCBlbmQ6IDk0fSwge2JlZzogMTgwLCBlbmQ6IDI3NH0gXTtcclxuY29uc3QgYW5nbGVTdGVwID0gMTA7XHJcblxyXG4vKiBcclxuICAgIHJlc3VsdCAtMSAtINCy0L3Rg9GC0YDQuCDQs9GA0LDQvdC40YbRiztcclxuICAgIHJlc3VsdCA+PTAgLSDQstC90LUg0LPRgNCw0L3QuNGG0Ys7XHJcbiovXHJcbi8vIGZ1bmN0aW9uIG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSl7XHJcbi8vICAgICByZXR1cm4gdGVtcGxhdGUucmVkdWNlKChkaXN0YW5jZSwgc2VjdGlvbik9PntcclxuLy8gICAgICAgICAvL9C10YHQu9C4INC/0LjQutGB0LXQu9GMINGD0LbQtSDQstC90YPRgtGA0Lgg0LPRgNCw0L3QuNGGLCDRgtC+INC/0YDQvtC00L7Qu9C20LDQtdC8INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIC0xXHJcbi8vICAgICAgICAgaWYgKGRpc3RhbmNlID09IDApIHJldHVybiAwO1xyXG4vLyAgICAgICAgIC8v0LXRgdC70Lgg0L/QuNC60YHQtdC70Ywg0YHRgtCw0Lsg0LLQvdGD0YLRgNC4INCz0YDQsNC90LjRhiwg0L3QsNGH0LjQvdCw0LXQvCDQstC+0LfQstGA0LDRidCw0YLRjCAtMVxyXG4vLyAgICAgICAgIGlmICgoc2VjdGlvbi5iZWcgPCBwaXhlbC5oKSAmJiAoc2VjdGlvbi5lbmQgPiBwaXhlbC5oKSl7XHJcbi8vICAgICAgICAgICAgIHJldHVybiAwO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBpZiAoKHNlY3Rpb24uYmVnIDwgKHBpeGVsLmggKyAzNjApKSAmJiAoc2VjdGlvbi5lbmQgPiAocGl4ZWwuaCArIDM2MCkpKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIDA7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIC8v0LjQvdCw0YfQtSDQstC+0LfQstGA0LDRidCw0LXQvCDQvNC40L3QuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUg0LzQtdC20LTRgyDQs9GA0LDQvdC40YbQsNC80Lgg0Lgg0L/RgNC10LTRi9C00YPRidC40Lwg0LLRi9GH0LjRgdC70LXQvdC90YvQvCDQt9C90LDRh9C10L3QuNC10LxcclxuLy8gICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5hYnMocGl4ZWwuaCAtIHNlY3Rpb24uYmVnKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMocGl4ZWwuaCAtIHNlY3Rpb24uZW5kKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoKHBpeGVsLmggKyAzNjApIC0gc2VjdGlvbi5iZWcpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicygocGl4ZWwuaCArIDM2MCkgLSBzZWN0aW9uLmVuZCksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICk7XHJcbi8vICAgICB9LCAxMDAwKTtcclxuLy8gfVxyXG5mdW5jdGlvbiBkaXN0YW5jZU1pbigpe1xyXG4gICAgdmFyIG1pbkRpc3RhbmNlID0ge1wiZGlzdGFuY2VcIjogMTAwMCwgXCJib3JkZXJcIjogMH07XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChtaW5EaXN0YW5jZS5kaXN0YW5jZSA+IGFyZ3VtZW50c1tpXS5kaXN0YW5jZSkge1xyXG4gICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICByZXR1cm4gbWluRGlzdGFuY2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSl7XHJcbiAgICByZXR1cm4gdGVtcGxhdGUucmVkdWNlKChpbmYsIHNlY3Rpb24pPT57XHJcbiAgICAgICAgLy/QtdGB0LvQuCDQv9C40LrRgdC10LvRjCDRg9C20LUg0LLQvdGD0YLRgNC4INCz0YDQsNC90LjRhiwg0YLQviDQv9GA0L7QtNC+0LvQttCw0LXQvCDQstC+0LfQstGA0LDRidCw0YLRjCAtMVxyXG4gICAgICAgIGlmIChpbmYuZGlzdGFuY2UgPT0gMCkgcmV0dXJuIHtcImRpc3RhbmNlXCI6IDAsIFwiYm9yZGVyXCI6IDB9O1xyXG4gICAgICAgIC8v0LXRgdC70Lgg0L/QuNC60YHQtdC70Ywg0YHRgtCw0Lsg0LLQvdGD0YLRgNC4INCz0YDQsNC90LjRhiwg0L3QsNGH0LjQvdCw0LXQvCDQstC+0LfQstGA0LDRidCw0YLRjCAtMVxyXG4gICAgICAgIGlmICgoc2VjdGlvbi5iZWcgPCBwaXhlbC5oKSAmJiAoc2VjdGlvbi5lbmQgPiBwaXhlbC5oKSl7XHJcbiAgICAgICAgICAgIHJldHVybiB7XCJkaXN0YW5jZVwiOiAwLCBcImJvcmRlclwiOiAwfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChzZWN0aW9uLmJlZyA8IChwaXhlbC5oICsgMzYwKSkgJiYgKHNlY3Rpb24uZW5kID4gKHBpeGVsLmggKyAzNjApKSl7XHJcbiAgICAgICAgICAgIHJldHVybiB7XCJkaXN0YW5jZVwiOiAwLCBcImJvcmRlclwiOiAwfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/QuNC90LDRh9C1INCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC80LjQvdC40LzQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDQvNC10LbQtNGDINCz0YDQsNC90LjRhtCw0LzQuCDQuCDQv9GA0LXQtNGL0LTRg9GJ0LjQvCDQstGL0YfQuNGB0LvQtdC90L3Ri9C8INC30L3QsNGH0LXQvdC40LXQvFxyXG4gICAgICAgIHJldHVybiBkaXN0YW5jZU1pbih7XCJkaXN0YW5jZVwiOiBNYXRoLmFicyhwaXhlbC5oIC0gc2VjdGlvbi5iZWcpLCBcImJvcmRlclwiOiBzZWN0aW9uLmJlZ30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJkaXN0YW5jZVwiOiBNYXRoLmFicyhwaXhlbC5oIC0gc2VjdGlvbi5lbmQpLCBcImJvcmRlclwiOiBzZWN0aW9uLmVuZH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XCJkaXN0YW5jZVwiOiBNYXRoLmFicygocGl4ZWwuaCArIDM2MCkgLSBzZWN0aW9uLmJlZyksIFwiYm9yZGVyXCI6IHNlY3Rpb24uYmVnfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcImRpc3RhbmNlXCI6IE1hdGguYWJzKChwaXhlbC5oICsgMzYwKSAtIHNlY3Rpb24uZW5kKSwgXCJib3JkZXJcIjogc2VjdGlvbi5lbmR9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1wiZGlzdGFuY2VcIjogaW5mLmRpc3RhbmNlLCBcImJvcmRlclwiOiAwfSk7XHJcbiAgICB9LCB7XCJkaXN0YW5jZVwiOiAxMDAwLCBcImJvcmRlclwiOiAwfSlcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gZ2V0TmV3ZGF0YUhTTChkYXRhSFNMLCB0ZW1wbGF0ZSwgYmVzdEFuZ2xlKXtcclxuLy8gICAgIHZhciBuZXdEYXRhSFNMID0gZGF0YUhTTDtcclxuLy8gICAgIG5ld0RhdGFIU0wgPSBuZXdEYXRhSFNMLm1hcCgocGl4ZWwpID0+IHtcclxuLy8gICAgICAgICAvL2NvbnNvbGUubG9nKG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSkuZGlzdGFuY2UpO1xyXG4vLyAgICAgICAgIHBpeGVsLlxyXG4vLyAgICAgICAgIHJldHVybiBwaXhlbDtcclxuLy8gICAgIH0sIDApO1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiB0ZW1wbGF0ZVJvdGF0ZSh0ZW1wbGF0ZSwgYW5nbGUpe1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlLm1hcCgodmFsdWUpID0+IHtcclxuICAgICAgICByZXR1cm4ge1wiYmVnXCI6IHZhbHVlLmJlZythbmdsZSwgXCJlbmRcIjogdmFsdWUuZW5kK2FuZ2xlfTtcclxuICAgIH0pXHJcbn1cclxuXHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpe1xyXG4gICAgZHJhdygpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyYXcoKXtcclxuICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbWdcIilbMF07XHJcbiAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcclxuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdjcm9zc09yaWdpbicsICcnKVxyXG4gICAgICAgIC8vY29uc29sZS5sb2coaW1nKTtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xyXG4gICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xyXG4gICAgICAgIC8vaW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcclxuICAgICAgICB2YXIgdGVtcEhTTCwgdGVtcFJHQjsgICBcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEubGVuZ3RoKTtcclxuICAgICAgICB2YXIgZGF0YUhTTCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICBkYXRhSFNMLnB1c2goY29sb3JzeXMucmdiX3RvX2hzbCh7IHI6IGRhdGFbaV0sIGc6IGRhdGFbaSArIDFdLCBiOiBkYXRhW2kgKyAyXSB9KSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gdGVtcGxhdGUxO1xyXG4gICAgICAgIHZhciBtaW5TdW1EaXN0YW5jZSA9IEluZmluaXR5O1xyXG4gICAgICAgIHZhciBiZXN0QW5nbGUgPSAwO1xyXG4gICAgICAgIC8v0L/QtdGA0LXQsdC40YDQsNC10Lwg0LLQvtC30LzQvtC20L3Ri9C1INGD0LPQu9GLINC/0L7QstC+0YDQvtGC0LAg0YjQsNCx0LvQvtC90LBcclxuICAgICAgICBmb3IgKHZhciBhbmdsZSA9IDA7IGFuZ2xlPD0zNjA7IGFuZ2xlKz1hbmdsZVN0ZXApe1xyXG4gICAgICAgICAgICAvL9C/0L7QstC+0YDQsNGH0LjQstCw0LXQvCDRiNCw0LHQu9C+0L1cclxuICAgICAgICAgICAgLy8gdGVtcGxhdGUgPSB0ZW1wbGF0ZTEubWFwKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIHtcImJlZ1wiOiB2YWx1ZS5iZWcrYW5nbGUsIFwiZW5kXCI6IHZhbHVlLmVuZCthbmdsZX07XHJcbiAgICAgICAgICAgIC8vIH0pXHJcblxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlUm90YXRlKHRlbXBsYXRlMSwgYW5nbGUpO1xyXG4gICAgICAgICAgICAvL9GB0YfQuNGC0LDQtdC8INGB0YPQvNC80YMg0YDQsNGB0YLQvtGP0L3QuNC5INC/0LjQutGB0LvQtdC5INC00L4g0LHQu9C40LbQsNC50YnQtdC5INCz0YDQsNC90LjRhtGLINC90L7QstC+0LPQviDRiNCw0LHQu9C+0L3QsFxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGFIU0xbMF0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBzdW0gPSBkYXRhSFNMLnJlZHVjZSgoc3VtLCBwaXhlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhzdW0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSkuZGlzdGFuY2U7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAvLyBkYXRhSFNMLmZvckVhY2goKHBpeGVsKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAvL2NvbnNvbGUubG9nKHN1bSk7XHJcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhtaW5Cb3JkZXJEaXN0YW5jZShwaXhlbCwgdGVtcGxhdGUpKTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL9C10YHQu9C4INGB0YPQvNC80LAg0YHRgtCw0LvQsCDQvNC10L3RjNGI0LUsINGH0LXQvCDQtNC70Y8g0L/RgNC10LTRi9C00YPRidC40YUg0YjQsNCx0LvQvtC90L7QsiAtINC30LDQv9C+0LzQuNC90LDQtdC8INGN0YLQvtGCINGI0LDQsdC70L7QvVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm1pblN1bURpc3RhbmNlOiBcIiArIG1pblN1bURpc3RhbmNlKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJzdW06IFwiICsgc3VtKTtcclxuICAgICAgICAgICAgaWYgKG1pblN1bURpc3RhbmNlID4gc3VtKSB7XHJcbiAgICAgICAgICAgICAgICBiZXN0QW5nbGUgPSBhbmdsZTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYW5nbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1pblN1bURpc3RhbmNlID0gTWF0aC5taW4obWluU3VtRGlzdGFuY2UsIHN1bSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL9C/0L7Qu9GD0YfQtdC8INGB0LXQutGG0LjQuCDQuNC00LXQsNC70YzQvdC+0LPQviDRiNCw0LHQu9C+0L3QsFxyXG4gICAgICAgIC8vIHRlbXBsYXRlID0gdGVtcGxhdGUxLm1hcCgodmFsdWUpID0+IHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHtcImJlZ1wiOiB2YWx1ZS5iZWcrYmVzdEFuZ2xlLCBcImVuZFwiOiB2YWx1ZS5lbmQrYmVzdEFuZ2xlfTtcclxuICAgICAgICAvLyB9KVxyXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGVSb3RhdGUodGVtcGxhdGUxLCBhbmdsZSk7XHJcblxyXG4gICAgICAgIC8v0L/QvtC70YPRh9Cw0LXQvCDQsdC70LjQttCw0LnRidC40LUg0LPRgNCw0L3QuNGG0Ysg0LTQu9GPINC/0LjQutGB0LXQu9C10LlcclxuICAgICAgICBkYXRhSFNMID0gZGF0YUhTTC5tYXAoKHBpeGVsKSA9PiB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cobWluQm9yZGVyRGlzdGFuY2UocGl4ZWwsIHRlbXBsYXRlKS5kaXN0YW5jZSk7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gbWluQm9yZGVyRGlzdGFuY2UocGl4ZWwsIHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgcGl4ZWwuZGlzdGFuY2UgPSBkYXRhLmRpc3RhbmNlOyBcclxuICAgICAgICAgICAgcGl4ZWwuYm9yZGVyID0gZGF0YS5ib3JkZXI7XHJcbiAgICAgICAgICAgIHJldHVybiBwaXhlbDtcclxuICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgLy8gZGF0YUhTTC5mb3JFYWNoKChpKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGkuYm9yZGVyKTtcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYmVzdEFuZ2xlKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKG1pbkJvcmRlckRpc3RhbmNlKHsgXCJoXCI6IDUwfSwgdGVtcGxhdGUxKSk7XHJcblxyXG4gICAgICAgIC8vdmFyIG5ld2RhdGFIU0wgPSBnZXROZXdkYXRhSFNMKGRhdGFIU0wpO1xyXG4gICAgICAgIHZhciBpbnZlcnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7XHJcbiAgICAgICAgICAgIHRlbXBIU0wgPSBjb2xvcnN5cy5yZ2JfdG9faHNsKHsgcjogZGF0YVtpXSwgZzogZGF0YVtpICsgMV0sIGI6IGRhdGFbaSArIDJdIH0pO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRlbXBIU0wpO1xyXG4gICAgICAgICAgICB0ZW1wUkdCID0gY29sb3JzeXMuaHNsVG9SZ2IoeyBoOiB0ZW1wSFNMLmgsIHM6IHRlbXBIU0wucywgbDogdGVtcEhTTC5sfSk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coY29sb3JzeXMucm90YXRlSHVlKDIwMCwgMjAwKSk7XHJcbiAgICAgICAgICAgIGRhdGFbaV0gICAgID0gMjU2IC0gdGVtcFJHQi5yLy9kYXRhW2ldOyAgICAgLy8gcmVkXHJcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gMjU2IC0gdGVtcFJHQi5nLy9kYXRhW2kgKyAxXTsgLy8gZ3JlZW5cclxuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSAyNTYgLSB0ZW1wUkdCLmIvL2RhdGFbaSArIDJdOyAvLyBibHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9pbWcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICBjdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvL2ludmVydCgpOyBcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=