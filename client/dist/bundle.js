!function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=2)}([function(t,r,e){!function(t){var r=function(t){var r=Math.abs(t),e=1/(1+r/2),n=e*Math.exp(-r*r-1.26551223+e*(1.00002368+e*(.37409196+e*(.09678418+e*(e*(.27886807+e*(e*(1.48851587+e*(.17087277*e-.82215223))-1.13520398))-.18628806)))));return t>=0?n:2-n},e=function(t,r){if(r<=0)throw new Error("Variance must be > 0 (but was "+r+")");this.mean=t,this.variance=r,this.standardDeviation=Math.sqrt(r)};e.prototype.pdf=function(t){var r=this.standardDeviation*Math.sqrt(2*Math.PI);return Math.exp(-Math.pow(t-this.mean,2)/(2*this.variance))/r},e.prototype.cdf=function(t){return.5*r(-(t-this.mean)/(this.standardDeviation*Math.sqrt(2)))},e.prototype.ppf=function(t){return this.mean-this.standardDeviation*Math.sqrt(2)*function(t){if(t>=2)return-100;if(t<=0)return 100;for(var e=t<1?t:2-t,n=Math.sqrt(-2*Math.log(e/2)),o=-.70711*((2.30753+.27061*n)/(1+n*(.99229+.04481*n))-n),a=0;a<2;a++){var s=r(o)-e;o+=s/(1.1283791670955126*Math.exp(-o*o)-o*s)}return t<1?o:-o}(2*t)},e.prototype.mul=function(t){if("number"==typeof t)return this.scale(t);var r=1/this.variance,e=1/t.variance;return o(r+e,r*this.mean+e*t.mean)},e.prototype.div=function(t){if("number"==typeof t)return this.scale(1/t);var r=1/this.variance,e=1/t.variance;return o(r-e,r*this.mean-e*t.mean)},e.prototype.add=function(t){return n(this.mean+t.mean,this.variance+t.variance)},e.prototype.sub=function(t){return n(this.mean-t.mean,this.variance+t.variance)},e.prototype.scale=function(t){return n(this.mean*t,this.variance*t*t)};var n=function(t,r){return new e(t,r)},o=function(t,r){return n(r/t,1/t)};t(n)}(function(r){t.exports=r})},function(t,r){var e=t.exports={};function n(t){return(t%360+360)%360}function o(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+(r-t)*(2/3-e)*6:t}e.rgb2Hsl=function(t,r,e){if("object"==typeof t){const n=t;t=n.r,r=n.g,e=n.b}t=255===t?1:t%255/parseFloat(255),r=255===r?1:r%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255);var n,o,a=Math.max(t,r,e),s=Math.min(t,r,e),i=(a+s)/2;if(a===s)n=o=0;else{var h=a-s;switch(o=i>.5?h/(2-a-s):h/(a+s),a){case t:n=(r-e)/h+(r<e?6:0);break;case r:n=(e-t)/h+2;break;case e:n=(t-r)/h+4}n/=6}return{h:Math.round(360*n),s:Math.round(100*o),l:Math.round(100*i)}},e.rgb_to_hsl=e.rgbToHsl=e.rgb2Hsl,e.rgb2Hsv=function(t,r,e){if("object"==typeof t){const n=t;t=n.r,r=n.g,e=n.b}t=255===t?1:t%255/parseFloat(255),r=255===r?1:r%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255);var n,o,a=Math.max(t,r,e),s=Math.min(t,r,e),i=a,h=a-s;if(o=0===a?0:h/a,a===s)n=0;else{switch(a){case t:n=(r-e)/h+(r<e?6:0);break;case r:n=(e-t)/h+2;break;case e:n=(t-r)/h+4}n/=6}return{h:Math.round(360*n),s:Math.round(100*o),v:Math.round(100*i)}},e.rgb_to_hsv=e.rgbToHsv=e.rgb2Hsv,e.hsl2Rgb=function(t,r,e){if("object"==typeof t){const n=t;t=n.h,r=n.s,e=n.l}var a,s,i;if(t=360===(t=n(t))?1:t%360/parseFloat(360),r=100===r?1:r%100/parseFloat(100),e=100===e?1:e%100/parseFloat(100),0===r)a=s=i=e;else{var h=e<.5?e*(1+r):e+r-e*r,c=2*e-h;a=o(c,h,t+1/3),s=o(c,h,t),i=o(c,h,t-1/3)}return{r:Math.round(255*a),g:Math.round(255*s),b:Math.round(255*i)}},e.hsl_to_rgb=e.hslToRgb=e.hsl2Rgb,e.hsv2Rgb=function(t,r,e){if("object"==typeof t){const n=t;t=n.h,r=n.s,e=n.v}t=360===(t=n(t))?1:t%360/parseFloat(360)*6,r=100===r?1:r%100/parseFloat(100),e=100===e?1:e%100/parseFloat(100);var o=Math.floor(t),a=t-o,s=e*(1-r),i=e*(1-a*r),h=e*(1-(1-a)*r),c=o%6,u=[e,i,s,s,h,e][c],b=[h,e,e,i,s,s][c],f=[s,s,h,e,e,i][c];return{r:Math.floor(255*u),g:Math.floor(255*b),b:Math.floor(255*f)}},e.hsv_to_rgb=e.hsv2Rgb,e.hsvToRgb=e.hsv2Rgb,e.rgb2Hex=function(t,r,e){if("object"==typeof t){const n=t;t=n.r,r=n.g,e=n.b}return t=Math.round(t).toString(16),r=Math.round(r).toString(16),e=Math.round(e).toString(16),"#"+(t=1===t.length?"0"+t:t)+(r=1===r.length?"0"+r:r)+(e=1===e.length?"0"+e:e)},e.rgb_to_hex=e.rgbToHex=e.rgb2Hex,e.hex2Rgb=function(t){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},e.hex_to_rgb=e.hexToRgb=e.hex2Rgb,e.hsv2Hex=function(t,r,n){var o=e.hsv2Rgb(t,r,n);return e.rgb2Hex(o.r,o.g,o.b)},e.hsv_to_hex=e.hsv2Hex,e.hsvToHex=e.hsv2Hex,e.hex2Hsv=function(t){var r=e.hex2Rgb(t);return e.rgb2Hsv(r.r,r.g,r.b)},e.hex_to_hsv=e.hexToHsv=e.hex2Hsv,e.hsl2Hex=function(t,r,n){var o=e.hsl2Rgb(t,r,n);return e.rgb2Hex(o.r,o.g,o.b)},e.hsl_to_hex=e.hslToHex=e.hsl2Hex,e.hex2Hsl=function(t){var r=e.hex2Rgb(t);return e.rgb2Hsl(r.r,r.g,r.b)},e.hex_to_hsl=e.hexToHsl=e.hex2Hsl,e.rgb2Cmyk=function(t,r,e){if("object"==typeof t){const n=t;t=n.r,r=n.g,e=n.b}var n=t/255,o=r/255,a=e/255,s=1-Math.max(n,o,a),i=(1-o-s)/(1-s),h=(1-a-s)/(1-s);return{c:((1-n-s)/(1-s)).toFixed(3),m:i.toFixed(3),y:h.toFixed(3),k:s.toFixed(3)}},e.rgb_to_cmyk=e.rgbToCmyk=e.rgb2Cmyk,e.cmyk2Rgb=function(t,r,e,n){if("object"==typeof t){const o=t;t=o.c,r=o.m,e=o.y,n=o.k}var o=255*(1-t)*(1-n),a=255*(1-r)*(1-n),s=255*(1-e)*(1-n);return{r:Math.floor(o),g:Math.floor(a),b:Math.floor(s)}},e.cmyk_to_rgb=e.cmykToRgb=e.cmyk2Rgb,e.hsv2Hsl=function(t,r,e){if("object"==typeof t){const n=t;t=n.h,r=n.s,e=n.v}var n=(2-r)*e/2;return 0!==n&&(r=100===n?0:n<50?r*e/(2*n):r*e/(2-2*n)),{h:t,s:r,l:n}},e.hsv_to_hsl=e.hsvToHsl=e.hsv2Hsl,e.hsl2Hsv=function(t,r,e){if("object"==typeof t){const n=t;t=n.h,r=n.s,e=n.l}return r*=e<50?e:100-e,{h:t,s:Math.floor(2*r/(e+r)),v:Math.floor(e+r)}},e.hsl_to_hsv=e.hslToHsv=e.hsl2Hsv,e.parseCss=function(t){if(t.indexOf("#")>-1)return e.hex2Rgb(t);const r=t.split("(")[0],n=t.split("(")[1].split(")")[0].split(",");return r.split("").reduce(function(t,r,e){const o=t;return o[r]=parseFloat(n[e]),o},{})},e.parse_css=e.parseCss,e.stringify=function(t){return Object.keys(t).join("")+"("+Object.keys(t).map(function(r){var e=t[r];return"s"!==r&&"v"!==r&&"l"!==r||(e+="%"),e}).join(", ")+")"},e.random=function(){return"#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).substr(-6)},e.rotateHue=function(t,r){void 0===r&&(r=0);const e="object"==typeof t?(t.h+r)%360:(t+r)%360,n=e<0?360+e:e;return"object"==typeof t?Object.assign(t,{h:n}):n}},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(1),o=e(0),a=0,s=.2,i=20,h=[{beg:0,end:40},{beg:180,end:240}],c=10;function u(){for(var t={distance:1e3,border:0},r=0;r<arguments.length;r++)t.distance>arguments[r].distance&&(t=arguments[r]);return t}function b(t,r){return r.reduce(function(r,e){return 0==r.distance?{distance:0,border:0}:e.beg<t.h&&e.end>t.h?{distance:0,border:0}:e.beg<t.h+360&&e.end>t.h+360?{distance:0,border:0}:u({distance:Math.abs(t.h-e.beg),border:e.beg},{distance:Math.abs(t.h-e.end),border:e.end},{distance:Math.abs(t.h+360-e.beg),border:e.beg},{distance:Math.abs(t.h+360-e.end),border:e.end},{distance:r.distance,border:r.border})},{distance:1e3,border:0})}function f(t,r,e){var n=t;return n=n.map(function(t){var r;return 0!=t.distance?(Math.abs(t.h-t.border)<Math.abs(t.h+360-t.border)?r=t:(r=t).h+=360,r.h>r.border?r.h=r.border-i+i*(1-o(a,s).pdf(r.h-r.border)):r.h=r.border+i-i*(1-o(a,s).pdf(r.border-r.h)),r):t})}function d(t,r){return t.map(function(t){return{beg:t.beg+r,end:t.end+r}})}function g(t){for(var r=[],e=0;e<t.length;e+=4)r.push(n.rgb_to_hsl({r:t[e],g:t[e+1],b:t[e+2]}));return r}window.onload=function(){!function(){for(var t,r=function(){var t=document.getElementsByTagName("img")[0];t.crossOrigin="Anonymous",t.setAttribute("crossOrigin","");var r=document.getElementById("canvas"),e=r.getContext("2d");return r.width=t.width,r.height=t.height,e.drawImage(t,0,0),e.getImageData(0,0,r.width,r.height)}(),e=r.data,o=g(e),a=h,s=1/0,i=0,u=0;u<=360;u+=c){a=d(h,u);var l=o.reduce(function(t,r){return t+b(r,a).distance},0);s>l&&(i=u),s=Math.min(s,l)}a=d(h,u),o=o.map(function(t){var r=b(t,a);return t.distance=r.distance,t.border=r.border,t},0),console.log(i);var v=f(o);!function(){var o=0;v.forEach(function(r){r.h>360&&(r.h-=360),t=n.hslToRgb({h:r.h,s:r.s,l:r.l}),e[o]=t.r,e[o+1]=t.g,e[o+2]=t.b,o+=4});var a=document.getElementById("canvas"),s=a.getContext("2d");s.putImageData(r,0,0),console.log("Программа выполнена успешно!")}()}()},r.distanceMin=u,r.minBorderDistance=b,r.dataRGBToHSL=g,r.templateRotate=d,r.getNewdataHSL=f}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dhdXNzaWFuL2xpYi9nYXVzc2lhbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29sb3JzeXMvY29sb3JzeXMuanMiLCJ3ZWJwYWNrOi8vLy4vanMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZXJmYyIsIngiLCJ6IiwiTWF0aCIsImFicyIsInQiLCJleHAiLCJHYXVzc2lhbiIsIm1lYW4iLCJ2YXJpYW5jZSIsIkVycm9yIiwidGhpcyIsInN0YW5kYXJkRGV2aWF0aW9uIiwic3FydCIsInBkZiIsIlBJIiwicG93IiwiY2RmIiwicHBmIiwieHgiLCJsb2ciLCJqIiwiZXJyIiwiaWVyZmMiLCJtdWwiLCJzY2FsZSIsInByZWNpc2lvbiIsImRwcmVjaXNpb24iLCJmcm9tUHJlY2lzaW9uTWVhbiIsImRpdiIsImFkZCIsImdhdXNzaWFuIiwic3ViIiwicHJlY2lzaW9ubWVhbiIsImUiLCJjb2xvcnN5cyIsIl9ub3JtYWxpemVBbmdsZSIsImRlZ3JlZXMiLCJfaHVlMlJnYiIsInEiLCJyZ2IySHNsIiwiZyIsImIiLCJhcmdzIiwicGFyc2VGbG9hdCIsImgiLCJtYXgiLCJtaW4iLCJyb3VuZCIsInJnYl90b19oc2wiLCJyZ2JUb0hzbCIsInJnYjJIc3YiLCJ2IiwicmdiX3RvX2hzdiIsInJnYlRvSHN2IiwiaHNsMlJnYiIsImhzbF90b19yZ2IiLCJoc2xUb1JnYiIsImhzdjJSZ2IiLCJmbG9vciIsImYiLCJtb2QiLCJoc3ZfdG9fcmdiIiwiaHN2VG9SZ2IiLCJyZ2IySGV4IiwidG9TdHJpbmciLCJsZW5ndGgiLCJyZ2JfdG9faGV4IiwicmdiVG9IZXgiLCJoZXgyUmdiIiwiaGV4IiwicmVzdWx0IiwiZXhlYyIsInBhcnNlSW50IiwiaGV4X3RvX3JnYiIsImhleFRvUmdiIiwiaHN2MkhleCIsInJnYiIsImhzdl90b19oZXgiLCJoc3ZUb0hleCIsImhleDJIc3YiLCJoZXhfdG9faHN2IiwiaGV4VG9Ic3YiLCJoc2wySGV4IiwiaHNsX3RvX2hleCIsImhzbFRvSGV4IiwiaGV4MkhzbCIsImhleF90b19oc2wiLCJoZXhUb0hzbCIsInJnYjJDbXlrIiwicnByaW0iLCJncHJpbSIsImJwcmltIiwiayIsInkiLCJ0b0ZpeGVkIiwicmdiX3RvX2NteWsiLCJyZ2JUb0NteWsiLCJjbXlrMlJnYiIsImNteWtfdG9fcmdiIiwiY215a1RvUmdiIiwiaHN2MkhzbCIsIlNWX01BWCIsImhzdl90b19oc2wiLCJoc3ZUb0hzbCIsImhzbDJIc3YiLCJoc2xfdG9faHN2IiwiaHNsVG9Ic3YiLCJwYXJzZUNzcyIsImNzc1N0cmluZyIsImluZGV4T2YiLCJwcmVmaXgiLCJzcGxpdCIsInJlZHVjZSIsImNvbG9yIiwicGFyYW0iLCJpZHgiLCJuZXh0Q29sb3IiLCJwYXJzZV9jc3MiLCJzdHJpbmdpZnkiLCJvYmoiLCJrZXlzIiwiam9pbiIsIm1hcCIsImtleSIsInZhbCIsInJhbmRvbSIsInN1YnN0ciIsInJvdGF0ZUh1ZSIsImh1ZSIsImFtb3VudCIsImF1eCIsIm5leHRIdWUiLCJhc3NpZ24iLCJnYXVzTWVhbiIsImdhdXNWYXJpYW5jZSIsInRlbXBsYXRlX2Jhc2UxX2hhbGZ3aWR0aCIsInRlbXBsYXRlX2Jhc2UxIiwiYmVnIiwiZW5kIiwiYW5nbGVTdGVwIiwiZGlzdGFuY2VNaW4iLCJtaW5EaXN0YW5jZSIsImRpc3RhbmNlIiwiYm9yZGVyIiwiYXJndW1lbnRzIiwibWluQm9yZGVyRGlzdGFuY2UiLCJwaXhlbCIsInRlbXBsYXRlIiwiaW5mIiwic2VjdGlvbiIsImdldE5ld2RhdGFIU0wiLCJkYXRhSFNMIiwiYmVzdEFuZ2xlIiwibmV3RGF0YUhTTCIsInRydWVQaXhlbCIsInRlbXBsYXRlUm90YXRlIiwidGVtcGxhdGVfYmFzZSIsImFuZ2xlIiwiZGF0YVJHQlRvSFNMIiwiZGF0YSIsInB1c2giLCJ3aW5kb3ciLCJvbmxvYWQiLCJ0ZW1wUkdCIiwiaW1hZ2VEYXRhIiwiaW1nIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNyb3NzT3JpZ2luIiwic2V0QXR0cmlidXRlIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJjdHgiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3SW1hZ2UiLCJnZXRJbWFnZURhdGEiLCJnZXRJbWFnZURhdGFGcm9tRG9jdW1lbnRJbWFnZSIsIm1pblN1bURpc3RhbmNlIiwiSW5maW5pdHkiLCJzdW0iLCJjb25zb2xlIiwibmV3ZGF0YUhTTCIsImZvckVhY2giLCJwdXRJbWFnZURhdGEiLCJhcHBseUNvbG9yIiwiZHJhdyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FL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LEdBRVpBLEVBQU10RyxFQUFJLE1BQUtzRyxFQUFNdEcsR0FBRyxLQUM1QnVILEVBQVVqSSxFQUFTc0IsVUFDZlosRUFBS3NHLEVBQU10RyxFQUNYOUMsRUFBS29KLEVBQU1wSixFQUNYdkIsRUFBSzJLLEVBQU0zSyxJQVNmd0wsRUFBS3pMLEdBQUs2TCxFQUFROUssRUFDbEIwSyxFQUFLekwsRUFBSSxHQUFLNkwsRUFBUTNILEVBQ3RCdUgsRUFBS3pMLEVBQUksR0FBSzZMLEVBQVExSCxFQUN0Qm5FLEdBQUcsSUFHUCxJQUFJb00sRUFBU0osU0FBU0ssZUFBZSxVQUNqQ0MsRUFBTUYsRUFBT0csV0FBVyxNQUM1QkQsRUFBSWEsYUFBYXJCLEVBQVcsRUFBRyxHQUMvQmtCLFFBQVFuSyxJQUFJLGdDQUdoQnVLLEdBakdKQyxNQXNHSS9DLGdCQUFhSyxzQkFBbUJhLGlCQUFjSCxtQkFBZ0JMIiwiZmlsZSI6Ii4vYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsIihmdW5jdGlvbihleHBvcnRzKSB7XG5cbiAgLy8gQ29tcGxlbWVudGFyeSBlcnJvciBmdW5jdGlvblxuICAvLyBGcm9tIE51bWVyaWNhbCBSZWNpcGVzIGluIEMgMmUgcDIyMVxuICB2YXIgZXJmYyA9IGZ1bmN0aW9uKHgpIHtcbiAgICB2YXIgeiA9IE1hdGguYWJzKHgpO1xuICAgIHZhciB0ID0gMSAvICgxICsgeiAvIDIpO1xuICAgIHZhciByID0gdCAqIE1hdGguZXhwKC16ICogeiAtIDEuMjY1NTEyMjMgKyB0ICogKDEuMDAwMDIzNjggK1xuICAgICAgICAgICAgdCAqICgwLjM3NDA5MTk2ICsgdCAqICgwLjA5Njc4NDE4ICsgdCAqICgtMC4xODYyODgwNiArXG4gICAgICAgICAgICB0ICogKDAuMjc4ODY4MDcgKyB0ICogKC0xLjEzNTIwMzk4ICsgdCAqICgxLjQ4ODUxNTg3ICtcbiAgICAgICAgICAgIHQgKiAoLTAuODIyMTUyMjMgKyB0ICogMC4xNzA4NzI3NykpKSkpKSkpKVxuICAgIHJldHVybiB4ID49IDAgPyByIDogMiAtIHI7XG4gIH07XG5cbiAgLy8gSW52ZXJzZSBjb21wbGVtZW50YXJ5IGVycm9yIGZ1bmN0aW9uXG4gIC8vIEZyb20gTnVtZXJpY2FsIFJlY2lwZXMgM2UgcDI2NVxuICB2YXIgaWVyZmMgPSBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPj0gMikgeyByZXR1cm4gLTEwMDsgfVxuICAgIGlmICh4IDw9IDApIHsgcmV0dXJuIDEwMDsgfVxuXG4gICAgdmFyIHh4ID0gKHggPCAxKSA/IHggOiAyIC0geDtcbiAgICB2YXIgdCA9IE1hdGguc3FydCgtMiAqIE1hdGgubG9nKHh4IC8gMikpO1xuXG4gICAgdmFyIHIgPSAtMC43MDcxMSAqICgoMi4zMDc1MyArIHQgKiAwLjI3MDYxKSAvXG4gICAgICAgICAgICAoMSArIHQgKiAoMC45OTIyOSArIHQgKiAwLjA0NDgxKSkgLSB0KTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgMjsgaisrKSB7XG4gICAgICB2YXIgZXJyID0gZXJmYyhyKSAtIHh4O1xuICAgICAgciArPSBlcnIgLyAoMS4xMjgzNzkxNjcwOTU1MTI1NyAqIE1hdGguZXhwKC0ociAqIHIpKSAtIHIgKiBlcnIpO1xuICAgIH1cblxuICAgIHJldHVybiAoeCA8IDEpID8gciA6IC1yO1xuICB9O1xuXG4gIC8vIE1vZGVscyB0aGUgbm9ybWFsIGRpc3RyaWJ1dGlvblxuICB2YXIgR2F1c3NpYW4gPSBmdW5jdGlvbihtZWFuLCB2YXJpYW5jZSkge1xuICAgIGlmICh2YXJpYW5jZSA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhcmlhbmNlIG11c3QgYmUgPiAwIChidXQgd2FzICcgKyB2YXJpYW5jZSArICcpJyk7XG4gICAgfVxuICAgIHRoaXMubWVhbiA9IG1lYW47XG4gICAgdGhpcy52YXJpYW5jZSA9IHZhcmlhbmNlO1xuICAgIHRoaXMuc3RhbmRhcmREZXZpYXRpb24gPSBNYXRoLnNxcnQodmFyaWFuY2UpO1xuICB9XG5cbiAgLy8gUHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvblxuICBHYXVzc2lhbi5wcm90b3R5cGUucGRmID0gZnVuY3Rpb24oeCkge1xuICAgIHZhciBtID0gdGhpcy5zdGFuZGFyZERldmlhdGlvbiAqIE1hdGguc3FydCgyICogTWF0aC5QSSk7XG4gICAgdmFyIGUgPSBNYXRoLmV4cCgtTWF0aC5wb3coeCAtIHRoaXMubWVhbiwgMikgLyAoMiAqIHRoaXMudmFyaWFuY2UpKTtcbiAgICByZXR1cm4gZSAvIG07XG4gIH07XG5cbiAgLy8gQ3VtdWxhdGl2ZSBkZW5zaXR5IGZ1bmN0aW9uXG4gIEdhdXNzaWFuLnByb3RvdHlwZS5jZGYgPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIDAuNSAqIGVyZmMoLSh4IC0gdGhpcy5tZWFuKSAvICh0aGlzLnN0YW5kYXJkRGV2aWF0aW9uICogTWF0aC5zcXJ0KDIpKSk7XG4gIH07XG5cbiAgLy8gUGVyY2VudCBwb2ludCBmdW5jdGlvblxuICBHYXVzc2lhbi5wcm90b3R5cGUucHBmID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0aGlzLm1lYW4gLSB0aGlzLnN0YW5kYXJkRGV2aWF0aW9uICogTWF0aC5zcXJ0KDIpICogaWVyZmMoMiAqIHgpO1xuICB9O1xuXG4gIC8vIFByb2R1Y3QgZGlzdHJpYnV0aW9uIG9mIHRoaXMgYW5kIGQgKHNjYWxlIGZvciBjb25zdGFudClcbiAgR2F1c3NpYW4ucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uKGQpIHtcbiAgICBpZiAodHlwZW9mKGQpID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY2FsZShkKTtcbiAgICB9XG4gICAgdmFyIHByZWNpc2lvbiA9IDEgLyB0aGlzLnZhcmlhbmNlO1xuICAgIHZhciBkcHJlY2lzaW9uID0gMSAvIGQudmFyaWFuY2U7XG4gICAgcmV0dXJuIGZyb21QcmVjaXNpb25NZWFuKFxuICAgICAgICBwcmVjaXNpb24gKyBkcHJlY2lzaW9uLCBcbiAgICAgICAgcHJlY2lzaW9uICogdGhpcy5tZWFuICsgZHByZWNpc2lvbiAqIGQubWVhbik7XG4gIH07XG5cbiAgLy8gUXVvdGllbnQgZGlzdHJpYnV0aW9uIG9mIHRoaXMgYW5kIGQgKHNjYWxlIGZvciBjb25zdGFudClcbiAgR2F1c3NpYW4ucHJvdG90eXBlLmRpdiA9IGZ1bmN0aW9uKGQpIHtcbiAgICBpZiAodHlwZW9mKGQpID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY2FsZSgxIC8gZCk7XG4gICAgfVxuICAgIHZhciBwcmVjaXNpb24gPSAxIC8gdGhpcy52YXJpYW5jZTtcbiAgICB2YXIgZHByZWNpc2lvbiA9IDEgLyBkLnZhcmlhbmNlO1xuICAgIHJldHVybiBmcm9tUHJlY2lzaW9uTWVhbihcbiAgICAgICAgcHJlY2lzaW9uIC0gZHByZWNpc2lvbiwgXG4gICAgICAgIHByZWNpc2lvbiAqIHRoaXMubWVhbiAtIGRwcmVjaXNpb24gKiBkLm1lYW4pO1xuICB9O1xuXG4gIC8vIEFkZGl0aW9uIG9mIHRoaXMgYW5kIGRcbiAgR2F1c3NpYW4ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gZ2F1c3NpYW4odGhpcy5tZWFuICsgZC5tZWFuLCB0aGlzLnZhcmlhbmNlICsgZC52YXJpYW5jZSk7XG4gIH07XG5cbiAgLy8gU3VidHJhY3Rpb24gb2YgdGhpcyBhbmQgZFxuICBHYXVzc2lhbi5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb24oZCkge1xuICAgIHJldHVybiBnYXVzc2lhbih0aGlzLm1lYW4gLSBkLm1lYW4sIHRoaXMudmFyaWFuY2UgKyBkLnZhcmlhbmNlKTtcbiAgfTtcblxuICAvLyBTY2FsZSB0aGlzIGJ5IGNvbnN0YW50IGNcbiAgR2F1c3NpYW4ucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24oYykge1xuICAgIHJldHVybiBnYXVzc2lhbih0aGlzLm1lYW4gKiBjLCB0aGlzLnZhcmlhbmNlICogYyAqIGMpO1xuICB9O1xuXG4gIHZhciBnYXVzc2lhbiA9IGZ1bmN0aW9uKG1lYW4sIHZhcmlhbmNlKSB7XG4gICAgcmV0dXJuIG5ldyBHYXVzc2lhbihtZWFuLCB2YXJpYW5jZSk7XG4gIH07XG5cbiAgdmFyIGZyb21QcmVjaXNpb25NZWFuID0gZnVuY3Rpb24ocHJlY2lzaW9uLCBwcmVjaXNpb25tZWFuKSB7XG4gICAgcmV0dXJuIGdhdXNzaWFuKHByZWNpc2lvbm1lYW4gLyBwcmVjaXNpb24sIDEgLyBwcmVjaXNpb24pO1xuICB9O1xuXG4gIGV4cG9ydHMoZ2F1c3NpYW4pO1xufSlcbih0eXBlb2YoZXhwb3J0cykgIT09IFwidW5kZWZpbmVkXCJcbiAgICA/IGZ1bmN0aW9uKGUpIHsgbW9kdWxlLmV4cG9ydHMgPSBlOyB9XG4gICAgOiBmdW5jdGlvbihlKSB7IHRoaXNbXCJnYXVzc2lhblwiXSA9IGU7IH0pO1xuIiwiXG5jb25zdCBSR0JfTUFYID0gMjU1XG5jb25zdCBIVUVfTUFYID0gMzYwXG5jb25zdCBTVl9NQVggPSAxMDBcblxudmFyIGNvbG9yc3lzID0gbW9kdWxlLmV4cG9ydHMgPSB7fVxuXG5jb2xvcnN5cy5yZ2IySHNsID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSByXG4gICAgciA9IGFyZ3MucjsgZyA9IGFyZ3MuZzsgYiA9IGFyZ3MuYjtcbiAgfVxuICAvLyBJdCBjb252ZXJ0cyBbMCwyNTVdIGZvcm1hdCwgdG8gWzAsMV1cbiAgciA9IChyID09PSBSR0JfTUFYKSA/IDEgOiAociAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuICBnID0gKGcgPT09IFJHQl9NQVgpID8gMSA6IChnICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG4gIGIgPSAoYiA9PT0gUkdCX01BWCkgPyAxIDogKGIgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcblxuICB2YXIgbWF4ID0gTWF0aC5tYXgociwgZywgYilcbiAgdmFyIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpXG4gIHZhciBoLCBzLCBsID0gKG1heCArIG1pbikgLyAyXG5cbiAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgaCA9IHMgPSAwIC8vIGFjaHJvbWF0aWNcbiAgfSBlbHNlIHtcbiAgICB2YXIgZCA9IG1heCAtIG1pblxuICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKVxuICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICBjYXNlIHI6XG4gICAgICAgIGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBnOlxuICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIGI6XG4gICAgICAgIGggPSAociAtIGcpIC8gZCArIDRcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgaCAvPSA2XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGg6IE1hdGgucm91bmQoaCAqIEhVRV9NQVgpLFxuICAgIHM6IE1hdGgucm91bmQocyAqIFNWX01BWCksXG4gICAgbDogTWF0aC5yb3VuZChsICogU1ZfTUFYKVxuICB9XG59XG5cbmNvbG9yc3lzLnJnYl90b19oc2wgPSBjb2xvcnN5cy5yZ2JUb0hzbCA9IGNvbG9yc3lzLnJnYjJIc2xcblxuY29sb3JzeXMucmdiMkhzdiA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gIGlmICh0eXBlb2YgciA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gclxuICAgIHIgPSBhcmdzLnI7IGcgPSBhcmdzLmc7IGIgPSBhcmdzLmI7XG4gIH1cblxuICAvLyBJdCBjb252ZXJ0cyBbMCwyNTVdIGZvcm1hdCwgdG8gWzAsMV1cbiAgciA9IChyID09PSBSR0JfTUFYKSA/IDEgOiAociAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuICBnID0gKGcgPT09IFJHQl9NQVgpID8gMSA6IChnICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG4gIGIgPSAoYiA9PT0gUkdCX01BWCkgPyAxIDogKGIgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcblxuICB2YXIgbWF4ID0gTWF0aC5tYXgociwgZywgYilcbiAgdmFyIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpXG4gIHZhciBoLCBzLCB2ID0gbWF4XG5cbiAgdmFyIGQgPSBtYXggLSBtaW5cblxuICBzID0gbWF4ID09PSAwID8gMCA6IGQgLyBtYXhcblxuICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICBoID0gMCAvLyBhY2hyb21hdGljXG4gIH0gZWxzZSB7XG4gICAgc3dpdGNoIChtYXgpIHtcbiAgICAgIGNhc2UgcjpcbiAgICAgICAgaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIGc6XG4gICAgICAgIGggPSAoYiAtIHIpIC8gZCArIDJcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgYjpcbiAgICAgICAgaCA9IChyIC0gZykgLyBkICsgNFxuICAgICAgICBicmVha1xuICAgIH1cbiAgICBoIC89IDZcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaDogTWF0aC5yb3VuZChoICogSFVFX01BWCksXG4gICAgczogTWF0aC5yb3VuZChzICogU1ZfTUFYKSxcbiAgICB2OiBNYXRoLnJvdW5kKHYgKiBTVl9NQVgpXG4gIH1cbn1cblxuY29sb3JzeXMucmdiX3RvX2hzdiA9IGNvbG9yc3lzLnJnYlRvSHN2ID0gY29sb3JzeXMucmdiMkhzdlxuXG5jb2xvcnN5cy5oc2wyUmdiID0gZnVuY3Rpb24gKGgsIHMsIGwpIHtcbiAgaWYgKHR5cGVvZiBoID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSBoXG4gICAgaCA9IGFyZ3MuaDsgcyA9IGFyZ3MuczsgbCA9IGFyZ3MubDtcbiAgfVxuXG4gIHZhciByLCBnLCBiXG5cbiAgaCA9IF9ub3JtYWxpemVBbmdsZShoKVxuICBoID0gKGggPT09IEhVRV9NQVgpID8gMSA6IChoICUgSFVFX01BWCAvIHBhcnNlRmxvYXQoSFVFX01BWCkpXG4gIHMgPSAocyA9PT0gU1ZfTUFYKSA/IDEgOiAocyAlIFNWX01BWCAvIHBhcnNlRmxvYXQoU1ZfTUFYKSlcbiAgbCA9IChsID09PSBTVl9NQVgpID8gMSA6IChsICUgU1ZfTUFYIC8gcGFyc2VGbG9hdChTVl9NQVgpKVxuXG4gIGlmIChzID09PSAwKSB7XG4gICAgciA9IGcgPSBiID0gbCAvLyBhY2hyb21hdGljXG4gIH0gZWxzZSB7XG4gICAgdmFyIHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgIHZhciBwID0gMiAqIGwgLSBxO1xuICAgIHIgPSBfaHVlMlJnYihwLCBxLCBoICsgMSAvIDMpXG4gICAgZyA9IF9odWUyUmdiKHAsIHEsIGgpXG4gICAgYiA9IF9odWUyUmdiKHAsIHEsIGggLSAxIC8gMylcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcjogTWF0aC5yb3VuZChyICogUkdCX01BWCksXG4gICAgZzogTWF0aC5yb3VuZChnICogUkdCX01BWCksXG4gICAgYjogTWF0aC5yb3VuZChiICogUkdCX01BWCksXG4gIH1cbn1cblxuY29sb3JzeXMuaHNsX3RvX3JnYiA9IGNvbG9yc3lzLmhzbFRvUmdiID0gY29sb3JzeXMuaHNsMlJnYlxuXG5jb2xvcnN5cy5oc3YyUmdiID0gZnVuY3Rpb24gKGgsIHMsIHYpIHtcbiAgaWYgKHR5cGVvZiBoID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSBoXG4gICAgaCA9IGFyZ3MuaDsgcyA9IGFyZ3MuczsgdiA9IGFyZ3MudjtcbiAgfVxuXG4gIGggPSBfbm9ybWFsaXplQW5nbGUoaClcbiAgaCA9IChoID09PSBIVUVfTUFYKSA/IDEgOiAoaCAlIEhVRV9NQVggLyBwYXJzZUZsb2F0KEhVRV9NQVgpICogNilcbiAgcyA9IChzID09PSBTVl9NQVgpID8gMSA6IChzICUgU1ZfTUFYIC8gcGFyc2VGbG9hdChTVl9NQVgpKVxuICB2ID0gKHYgPT09IFNWX01BWCkgPyAxIDogKHYgJSBTVl9NQVggLyBwYXJzZUZsb2F0KFNWX01BWCkpXG5cbiAgdmFyIGkgPSBNYXRoLmZsb29yKGgpXG4gIHZhciBmID0gaCAtIGlcbiAgdmFyIHAgPSB2ICogKDEgLSBzKVxuICB2YXIgcSA9IHYgKiAoMSAtIGYgKiBzKVxuICB2YXIgdCA9IHYgKiAoMSAtICgxIC0gZikgKiBzKVxuICB2YXIgbW9kID0gaSAlIDZcbiAgdmFyIHIgPSBbdiwgcSwgcCwgcCwgdCwgdl1bbW9kXVxuICB2YXIgZyA9IFt0LCB2LCB2LCBxLCBwLCBwXVttb2RdXG4gIHZhciBiID0gW3AsIHAsIHQsIHYsIHYsIHFdW21vZF1cblxuICByZXR1cm4ge1xuICAgIHI6IE1hdGguZmxvb3IociAqIFJHQl9NQVgpLFxuICAgIGc6IE1hdGguZmxvb3IoZyAqIFJHQl9NQVgpLFxuICAgIGI6IE1hdGguZmxvb3IoYiAqIFJHQl9NQVgpLFxuICB9XG59XG5cbmNvbG9yc3lzLmhzdl90b19yZ2IgPSBjb2xvcnN5cy5oc3YyUmdiXG5jb2xvcnN5cy5oc3ZUb1JnYiA9IGNvbG9yc3lzLmhzdjJSZ2JcblxuY29sb3JzeXMucmdiMkhleCA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gIGlmICh0eXBlb2YgciA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gclxuICAgIHIgPSBhcmdzLnI7IGcgPSBhcmdzLmc7IGIgPSBhcmdzLmI7XG4gIH1cbiAgciA9IE1hdGgucm91bmQocikudG9TdHJpbmcoMTYpXG4gIGcgPSBNYXRoLnJvdW5kKGcpLnRvU3RyaW5nKDE2KVxuICBiID0gTWF0aC5yb3VuZChiKS50b1N0cmluZygxNilcblxuICByID0gci5sZW5ndGggPT09IDEgPyAnMCcgKyByIDogclxuICBnID0gZy5sZW5ndGggPT09IDEgPyAnMCcgKyBnIDogZ1xuICBiID0gYi5sZW5ndGggPT09IDEgPyAnMCcgKyBiIDogYlxuXG4gIHJldHVybiAnIycgKyByICsgZyArIGJcbn1cblxuY29sb3JzeXMucmdiX3RvX2hleCA9IGNvbG9yc3lzLnJnYlRvSGV4ID0gY29sb3JzeXMucmdiMkhleFxuXG5jb2xvcnN5cy5oZXgyUmdiID0gZnVuY3Rpb24gKGhleCkge1xuICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleClcbiAgcmV0dXJuIHJlc3VsdCA/IHtcbiAgICByOiBwYXJzZUludChyZXN1bHRbMV0sIDE2KSxcbiAgICBnOiBwYXJzZUludChyZXN1bHRbMl0sIDE2KSxcbiAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KVxuICB9IDogbnVsbFxufVxuXG5jb2xvcnN5cy5oZXhfdG9fcmdiID0gY29sb3JzeXMuaGV4VG9SZ2IgPSBjb2xvcnN5cy5oZXgyUmdiXG5cbmNvbG9yc3lzLmhzdjJIZXggPSBmdW5jdGlvbiAoaCwgcywgdikge1xuICB2YXIgcmdiID0gY29sb3JzeXMuaHN2MlJnYihoLCBzLCB2KVxuICByZXR1cm4gY29sb3JzeXMucmdiMkhleChyZ2IuciwgcmdiLmcsIHJnYi5iKVxufVxuXG5jb2xvcnN5cy5oc3ZfdG9faGV4ID0gY29sb3JzeXMuaHN2MkhleFxuY29sb3JzeXMuaHN2VG9IZXggPSBjb2xvcnN5cy5oc3YySGV4XG5cbmNvbG9yc3lzLmhleDJIc3YgPSBmdW5jdGlvbiAoaGV4KSB7XG4gIHZhciByZ2IgPSBjb2xvcnN5cy5oZXgyUmdiKGhleClcbiAgcmV0dXJuIGNvbG9yc3lzLnJnYjJIc3YocmdiLnIsIHJnYi5nLCByZ2IuYilcbn1cblxuY29sb3JzeXMuaGV4X3RvX2hzdiA9IGNvbG9yc3lzLmhleFRvSHN2ID0gY29sb3JzeXMuaGV4MkhzdlxuXG5jb2xvcnN5cy5oc2wySGV4ID0gZnVuY3Rpb24gKGgsIHMsIGwpIHtcbiAgdmFyIHJnYiA9IGNvbG9yc3lzLmhzbDJSZ2IoaCwgcywgbClcbiAgcmV0dXJuIGNvbG9yc3lzLnJnYjJIZXgocmdiLnIsIHJnYi5nLCByZ2IuYilcbn1cblxuY29sb3JzeXMuaHNsX3RvX2hleCA9IGNvbG9yc3lzLmhzbFRvSGV4ID0gY29sb3JzeXMuaHNsMkhleFxuXG5jb2xvcnN5cy5oZXgySHNsID0gZnVuY3Rpb24gKGhleCkge1xuICB2YXIgcmdiID0gY29sb3JzeXMuaGV4MlJnYihoZXgpXG4gIHJldHVybiBjb2xvcnN5cy5yZ2IySHNsKHJnYi5yLCByZ2IuZywgcmdiLmIpXG59XG5cbmNvbG9yc3lzLmhleF90b19oc2wgPSBjb2xvcnN5cy5oZXhUb0hzbCA9IGNvbG9yc3lzLmhleDJIc2xcblxuY29sb3JzeXMucmdiMkNteWsgPSBmdW5jdGlvbiAociwgZywgYikge1xuICBpZiAodHlwZW9mIHIgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IHJcbiAgICByID0gYXJncy5yOyBnID0gYXJncy5nOyBiID0gYXJncy5iO1xuICB9XG5cbiAgdmFyIHJwcmltID0gciAvIDI1NVxuICB2YXIgZ3ByaW0gPSBnIC8gMjU1XG4gIHZhciBicHJpbSA9IGIgLyAyNTVcblxuICB2YXIgayA9IDEgLSBNYXRoLm1heChycHJpbSwgZ3ByaW0sIGJwcmltKVxuXG4gIHZhciBjID0gKDEgLSBycHJpbSAtIGspIC8gKDEgLSBrKVxuICB2YXIgbSA9ICgxIC0gZ3ByaW0gLSBrKSAvICgxIC0gaylcbiAgdmFyIHkgPSAoMSAtIGJwcmltIC0gaykgLyAoMSAtIGspXG5cbiAgcmV0dXJuIHtcbiAgICBjOiBjLnRvRml4ZWQoMyksXG4gICAgbTogbS50b0ZpeGVkKDMpLFxuICAgIHk6IHkudG9GaXhlZCgzKSxcbiAgICBrOiBrLnRvRml4ZWQoMylcbiAgfVxufVxuXG5jb2xvcnN5cy5yZ2JfdG9fY215ayA9IGNvbG9yc3lzLnJnYlRvQ215ayA9IGNvbG9yc3lzLnJnYjJDbXlrXG5cbmNvbG9yc3lzLmNteWsyUmdiID0gZnVuY3Rpb24gKGMsIG0sIHksIGspIHtcbiAgaWYgKHR5cGVvZiBjID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSBjXG4gICAgYyA9IGFyZ3MuYzsgbSA9IGFyZ3MubTsgeSA9IGFyZ3MueTsgayA9IGFyZ3MuaztcbiAgfVxuXG4gIHZhciByID0gMjU1ICogKDEgLSBjKSAqICgxIC0gaylcbiAgdmFyIGcgPSAyNTUgKiAoMSAtIG0pICogKDEgLSBrKVxuICB2YXIgYiA9IDI1NSAqICgxIC0geSkgKiAoMSAtIGspXG5cbiAgcmV0dXJuIHtcbiAgICByOiBNYXRoLmZsb29yKHIpLFxuICAgIGc6IE1hdGguZmxvb3IoZyksXG4gICAgYjogTWF0aC5mbG9vcihiKVxuICB9XG59XG5cbmNvbG9yc3lzLmNteWtfdG9fcmdiID0gY29sb3JzeXMuY215a1RvUmdiID0gY29sb3JzeXMuY215azJSZ2JcblxuY29sb3JzeXMuaHN2MkhzbCA9IGZ1bmN0aW9uIChoLCBzLCB2KSB7XG4gIGlmICh0eXBlb2YgaCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gaFxuICAgIGggPSBhcmdzLmg7IHMgPSBhcmdzLnM7IHYgPSBhcmdzLnY7XG4gIH1cblxuICB2YXIgbCA9ICgyIC0gcykgKiB2IC8gMlxuXG4gIGlmIChsICE9PSAwKSB7XG4gICAgaWYgKGwgPT09IFNWX01BWCkge1xuICAgICAgcyA9IDBcbiAgICB9IGVsc2UgaWYgKGwgPCBTVl9NQVggLyAyKSB7XG4gICAgICBzID0gcyAqIHYgLyAobCAqIDIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHMgPSBzICogdiAvICgyIC0gbCAqIDIpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgaDogaCwgczogcywgbDogbCB9XG59XG5cbmNvbG9yc3lzLmhzdl90b19oc2wgPSBjb2xvcnN5cy5oc3ZUb0hzbCA9IGNvbG9yc3lzLmhzdjJIc2xcblxuY29sb3JzeXMuaHNsMkhzdiA9IGZ1bmN0aW9uIChoLCBzLCBsKSB7XG4gIGlmICh0eXBlb2YgaCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gaFxuICAgIGggPSBhcmdzLmg7IHMgPSBhcmdzLnM7IGwgPSBhcmdzLmw7XG4gIH1cblxuICBzID0gcyAqIChsIDwgNTAgPyBsIDogKDEwMCAtIGwpKVxuXG4gIHJldHVybiB7XG4gICAgaDogaCxcbiAgICBzOiBNYXRoLmZsb29yKDIgKiBzIC8gKGwgKyBzKSksXG4gICAgdjogTWF0aC5mbG9vcihsICsgcyksXG4gIH1cbn1cblxuY29sb3JzeXMuaHNsX3RvX2hzdiA9IGNvbG9yc3lzLmhzbFRvSHN2ID0gY29sb3JzeXMuaHNsMkhzdlxuXG4vKipcbiogUGFyc2VzIHZhbHVlcyBmcm9tIGEgc3RyaW5nIGludG8gYSBqYXZhc2NyaXB0IG9iamVjdFxuKiBlLmc6IGhzbGEoMTQwLCAzMCUsIDQwJSwgLjUpID0+IHsgaDogMTQwLCBzOiAzMCwgbDogNDAsIGFscGhhOiAwLjV9XG4qL1xuY29sb3JzeXMucGFyc2VDc3MgPSBmdW5jdGlvbiAoY3NzU3RyaW5nKSB7XG4gIGlmIChjc3NTdHJpbmcuaW5kZXhPZignIycpID4gLTEpIHtcbiAgICByZXR1cm4gY29sb3JzeXMuaGV4MlJnYihjc3NTdHJpbmcpXG4gIH1cblxuICBjb25zdCBwcmVmaXggPSBjc3NTdHJpbmcuc3BsaXQoJygnKVswXVxuICBjb25zdCBhcmdzID0gY3NzU3RyaW5nLnNwbGl0KCcoJylbMV0uc3BsaXQoJyknKVswXS5zcGxpdCgnLCcpXG5cbiAgLy8gVXNlIHRoZSBwcmVmaXggYXMgYW4gYXJyYXkgW3IsIGcsIGIsIGFdIHRvIHBhcnNlIHRoZSBjb2xvdXJzXG4gIHJldHVybiBwcmVmaXguc3BsaXQoJycpLnJlZHVjZShmdW5jdGlvbiAoY29sb3IsIHBhcmFtLCBpZHgpIHtcbiAgICBjb25zdCBuZXh0Q29sb3IgPSBjb2xvclxuICAgIG5leHRDb2xvcltwYXJhbV0gPSBwYXJzZUZsb2F0KGFyZ3NbaWR4XSlcbiAgICByZXR1cm4gbmV4dENvbG9yXG4gIH0sIHt9KVxufVxuXG5jb2xvcnN5cy5wYXJzZV9jc3MgPSBjb2xvcnN5cy5wYXJzZUNzc1xuXG5jb2xvcnN5cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiAob2JqKSB7XG4gIGNvbnN0IHByZWZpeCA9IE9iamVjdC5rZXlzKG9iaikuam9pbignJylcbiAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciB2YWwgPSBvYmpba2V5XVxuICAgIGlmIChrZXkgPT09ICdzJyB8fMKga2V5ID09PSAndicgfHwga2V5ID09PSAnbCcpIHtcbiAgICAgIHZhbCA9IHZhbCArICclJ1xuICAgIH1cbiAgICByZXR1cm4gdmFsXG4gIH0pXG4gIHJldHVybiBwcmVmaXggKyAnKCcgKyB2YWx1ZXMuam9pbignLCAnKSArICcpJ1xufVxuXG4vLyBXaWxsIHJldHVybiBhIHJhbmRvbSBoZXggY29sb3VyXG5jb2xvcnN5cy5yYW5kb20gPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGJhc2UgPSAnMDAwMDAwJ1xuICBjb25zdCBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNjc3NzIxNSkudG9TdHJpbmcoMTYpXG4gIHJldHVybiAnIycgKyAoYmFzZSArIG51bWJlcikuc3Vic3RyKC02KVxufVxuXG5jb2xvcnN5cy5yb3RhdGVIdWUgPSBmdW5jdGlvbiAoaHVlLCBhbW91bnQpIHtcbiAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDA7IH1cbiAgY29uc3QgYXV4ID0gdHlwZW9mIGh1ZSA9PT0gJ29iamVjdCdcbiAgICAgID8gKGh1ZS5oICsgYW1vdW50KSAlIDM2MFxuICAgICAgOiAoaHVlICsgYW1vdW50KSAlIDM2MFxuICAgICAgXG4gIGNvbnN0IG5leHRIdWUgPSBhdXggPCAwID8gKDM2MCArIGF1eCkgOiBhdXhcbiAgcmV0dXJuIHR5cGVvZiBodWUgPT09ICdvYmplY3QnXG4gICAgICA/IE9iamVjdC5hc3NpZ24oaHVlLCB7IGg6IG5leHRIdWUgfSlcbiAgICAgIDogbmV4dEh1ZVxufVxuXG5mdW5jdGlvbiBfbm9ybWFsaXplQW5nbGUgKGRlZ3JlZXMpIHtcbiAgcmV0dXJuIChkZWdyZWVzICUgMzYwICsgMzYwKSAlIDM2MDtcbn1cblxuZnVuY3Rpb24gX2h1ZTJSZ2IgKHAsIHEsIHQpIHtcbiAgaWYgKHQgPCAwKSB0ICs9IDFcbiAgaWYgKHQgPiAxKSB0IC09IDFcbiAgaWYgKHQgPCAxIC8gNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHRcbiAgaWYgKHQgPCAxIC8gMikgcmV0dXJuIHFcbiAgaWYgKHQgPCAyIC8gMykgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2XG4gIHJldHVybiBwXG59XG4iLCJ2YXIgY29sb3JzeXMgPSByZXF1aXJlKCdjb2xvcnN5cycpO1xyXG52YXIgZ2F1c3NpYW4gPSByZXF1aXJlKCdnYXVzc2lhbicpO1xyXG5cclxuY29uc3QgZ2F1c01lYW4gPSAwO1xyXG5jb25zdCBnYXVzVmFyaWFuY2UgPSAwLjI7XHJcblxyXG5jb25zdCB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGggPSAyMDtcclxuY29uc3QgdGVtcGxhdGVfYmFzZTEgPSBbe1xyXG4gICAgYmVnOiAwLFxyXG4gICAgZW5kOiA0MFxyXG59LCB7XHJcbiAgICBiZWc6IDE4MCxcclxuICAgIGVuZDogMjQwXHJcbn1dO1xyXG4vLyBjb25zdCB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGggPSA0NztcclxuY29uc3QgYW5nbGVTdGVwID0gMTA7XHJcblxyXG4vKiBcclxuICAgIHJlc3VsdCAtMSAtINCy0L3Rg9GC0YDQuCDQs9GA0LDQvdC40YbRiztcclxuICAgIHJlc3VsdCA+PTAgLSDQstC90LUg0LPRgNCw0L3QuNGG0Ys7XHJcbiovXHJcblxyXG4vL9CS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC/0LjQutGB0LXQu9GMINGBINC80LjQvdC40LzQsNC70YzQvdGL0Lwg0YDQsNC30LzQtdGA0L7QvCDQtNC40YHRgtCw0L3RhtC40Lgg0LTQviDQsdC70LjQttCw0LnRidC10Lkg0LPRgNCw0L3QuNGG0YtcclxuZnVuY3Rpb24gZGlzdGFuY2VNaW4oKSB7XHJcbiAgICB2YXIgbWluRGlzdGFuY2UgPSB7XHJcbiAgICAgICAgXCJkaXN0YW5jZVwiOiAxMDAwLFxyXG4gICAgICAgIFwiYm9yZGVyXCI6IDBcclxuICAgIH07XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChtaW5EaXN0YW5jZS5kaXN0YW5jZSA+IGFyZ3VtZW50c1tpXS5kaXN0YW5jZSkge1xyXG4gICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1pbkRpc3RhbmNlO1xyXG59XHJcblxyXG4vL9CS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRitC10YIg0LTQsNC90L3Ri9GFINGBINCx0LvQuNC20LDQudGI0LXQuSDQtNC70Y8g0L/QuNC60YHQtdC70Y8g0LPRgNCw0L3QuNGG0LXQuSDQuCDRgNCw0YHRgdGC0L7Rj9C90LjQtdC8INC00L4g0L3QtdGRXHJcbmZ1bmN0aW9uIG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSkge1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlLnJlZHVjZSgoaW5mLCBzZWN0aW9uKSA9PiB7XHJcbiAgICAgICAgLy/QtdGB0LvQuCDQv9C40LrRgdC10LvRjCDRg9C20LUg0LLQvdGD0YLRgNC4INCz0YDQsNC90LjRhiwg0YLQviDQv9GA0L7QtNC+0LvQttCw0LXQvCDQstC+0LfQstGA0LDRidCw0YLRjCAtMVxyXG4gICAgICAgIGlmIChpbmYuZGlzdGFuY2UgPT0gMCkgcmV0dXJuIHtcclxuICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiAwLFxyXG4gICAgICAgICAgICBcImJvcmRlclwiOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvL9C10YHQu9C4INC/0LjQutGB0LXQu9GMINGB0YLQsNC7INCy0L3Rg9GC0YDQuCDQs9GA0LDQvdC40YYsINC90LDRh9C40L3QsNC10Lwg0LLQvtC30LLRgNCw0YnQsNGC0YwgLTFcclxuICAgICAgICBpZiAoKHNlY3Rpb24uYmVnIDwgcGl4ZWwuaCkgJiYgKHNlY3Rpb24uZW5kID4gcGl4ZWwuaCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIFwiZGlzdGFuY2VcIjogMCxcclxuICAgICAgICAgICAgICAgIFwiYm9yZGVyXCI6IDBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChzZWN0aW9uLmJlZyA8IChwaXhlbC5oICsgMzYwKSkgJiYgKHNlY3Rpb24uZW5kID4gKHBpeGVsLmggKyAzNjApKSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiAwLFxyXG4gICAgICAgICAgICAgICAgXCJib3JkZXJcIjogMFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL9C40L3QsNGH0LUg0LLQvtC30LLRgNCw0YnQsNC10Lwg0LzQuNC90LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INC80LXQttC00YMg0LPRgNCw0L3QuNGG0LDQvNC4INC4INC/0YDQtdC00YvQtNGD0YnQuNC8INCy0YvRh9C40YHQu9C10L3QvdGL0Lwg0LfQvdCw0YfQtdC90LjQtdC8XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlTWluKHtcclxuICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiBNYXRoLmFicyhwaXhlbC5oIC0gc2VjdGlvbi5iZWcpLFxyXG4gICAgICAgICAgICBcImJvcmRlclwiOiBzZWN0aW9uLmJlZ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiBNYXRoLmFicyhwaXhlbC5oIC0gc2VjdGlvbi5lbmQpLFxyXG4gICAgICAgICAgICBcImJvcmRlclwiOiBzZWN0aW9uLmVuZFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiBNYXRoLmFicygocGl4ZWwuaCArIDM2MCkgLSBzZWN0aW9uLmJlZyksXHJcbiAgICAgICAgICAgIFwiYm9yZGVyXCI6IHNlY3Rpb24uYmVnXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBcImRpc3RhbmNlXCI6IE1hdGguYWJzKChwaXhlbC5oICsgMzYwKSAtIHNlY3Rpb24uZW5kKSxcclxuICAgICAgICAgICAgXCJib3JkZXJcIjogc2VjdGlvbi5lbmRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIFwiZGlzdGFuY2VcIjogaW5mLmRpc3RhbmNlLFxyXG4gICAgICAgICAgICBcImJvcmRlclwiOiBpbmYuYm9yZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCB7XHJcbiAgICAgICAgXCJkaXN0YW5jZVwiOiAxMDAwLFxyXG4gICAgICAgIFwiYm9yZGVyXCI6IDBcclxuICAgIH0pXHJcbn1cclxuXHJcbi8v0JLQvtC30LLRgNCw0YnQsNC10YIg0LzQsNGB0YHQuNCyINC/0LjQutGB0LXQu9C10Lkg0YEg0L3QvtCy0YvQvNC4INC30L3QsNGH0LXQvdC40Y/QvNC4IGhcclxuZnVuY3Rpb24gZ2V0TmV3ZGF0YUhTTChkYXRhSFNMLCB0ZW1wbGF0ZSwgYmVzdEFuZ2xlKSB7XHJcbiAgICB2YXIgbmV3RGF0YUhTTCA9IGRhdGFIU0w7XHJcbiAgICBuZXdEYXRhSFNMID0gbmV3RGF0YUhTTC5tYXAoKHBpeGVsKSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwaXhlbCk7XHJcbiAgICAgICAgaWYgKHBpeGVsLmRpc3RhbmNlICE9IDApIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInBpeGVsLmRpc3RhbmNlID4gMFwiKTtcclxuICAgICAgICAgICAgdmFyIHRydWVQaXhlbDtcclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBpeGVsLmggLSBwaXhlbC5ib3JkZXIpIDwgTWF0aC5hYnMocGl4ZWwuaCArIDM2MCAtIHBpeGVsLmJvcmRlcikpIHtcclxuICAgICAgICAgICAgICAgIHRydWVQaXhlbCA9IHBpeGVsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJ1ZVBpeGVsID0gcGl4ZWw7XHJcbiAgICAgICAgICAgICAgICB0cnVlUGl4ZWwuaCArPSAzNjA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0cnVlUGl4ZWwuaCA+IHRydWVQaXhlbC5ib3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRydWVQaXhlbC5oID0gKHRydWVQaXhlbC5ib3JkZXIgLSB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGgpICtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGggKiAoMSAtIGdhdXNzaWFuKGdhdXNNZWFuLCBnYXVzVmFyaWFuY2UpLnBkZih0cnVlUGl4ZWwuaCAtIHRydWVQaXhlbC5ib3JkZXIpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCh0cnVlUGl4ZWwuYm9yZGVyIC0gdGVtcGxhdGVfYmFzZTFfaGFsZndpZHRoKSArIHRlbXBsYXRlX2Jhc2UxX2hhbGZ3aWR0aCAqICgxIC0gZ2F1c3NpYW4oZ2F1c01lYW4sIGdhdXNWYXJpYW5jZSkucGRmKHRydWVQaXhlbC5oIC0gdHJ1ZVBpeGVsLmJvcmRlcikpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRydWVQaXhlbC5oID0gKHRydWVQaXhlbC5ib3JkZXIgKyB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGgpIC1cclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGggKiAoMSAtIGdhdXNzaWFuKGdhdXNNZWFuLCBnYXVzVmFyaWFuY2UpLnBkZih0cnVlUGl4ZWwuYm9yZGVyIC0gdHJ1ZVBpeGVsLmgpKTtcclxuICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codHJ1ZVBpeGVsLmggPSAodHJ1ZVBpeGVsLmJvcmRlciArIHRlbXBsYXRlX2Jhc2UxX2hhbGZ3aWR0aCkgLSB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGggKiAoMSAtIGdhdXNzaWFuKGdhdXNNZWFuLCBnYXVzVmFyaWFuY2UpLnBkZih0cnVlUGl4ZWwuYm9yZGVyIC0gdHJ1ZVBpeGVsLmgpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0cnVlUGl4ZWwuYm9yZGVyKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0cnVlUGl4ZWwuaCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVBpeGVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBwaXhlbDtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG5ld0RhdGFIU0w7XHJcbn1cclxuXHJcbi8v0J/QvtCy0L7RgNCw0YfQuNCy0LDQtdGCINGI0LDQsdC70L7QvSDQvdCwINGD0LrQsNC30LDQvdC90YvQuSDRg9Cz0L7Qu1xyXG5mdW5jdGlvbiB0ZW1wbGF0ZVJvdGF0ZSh0ZW1wbGF0ZV9iYXNlLCBhbmdsZSkge1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlX2Jhc2UubWFwKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFwiYmVnXCI6IHZhbHVlLmJlZyArIGFuZ2xlLFxyXG4gICAgICAgICAgICBcImVuZFwiOiB2YWx1ZS5lbmQgKyBhbmdsZVxyXG4gICAgICAgIH07XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRJbWFnZURhdGFGcm9tRG9jdW1lbnRJbWFnZSgpe1xyXG4gICAgdmFyIGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1nXCIpWzBdO1xyXG4gICAgaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcclxuICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2Nyb3NzT3JpZ2luJywgJycpXHJcbiAgICAvL2NvbnNvbGUubG9nKGltZyk7XHJcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xyXG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XHJcbiAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XHJcbiAgICAvL2ltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdmFyIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIHJldHVybiBpbWFnZURhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRhdGFSR0JUb0hTTChkYXRhKXtcclxuICAgIHZhciBkYXRhSFNMID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgICBkYXRhSFNMLnB1c2goY29sb3JzeXMucmdiX3RvX2hzbCh7XHJcbiAgICAgICAgICAgIHI6IGRhdGFbaV0sXHJcbiAgICAgICAgICAgIGc6IGRhdGFbaSArIDFdLFxyXG4gICAgICAgICAgICBiOiBkYXRhW2kgKyAyXVxyXG4gICAgICAgIH0pKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZGF0YUhTTDtcclxufVxyXG5cclxuLy/Qs9C70LDQstC90LDRjyDRhNGD0L3QutGG0LjRjyDQv9GA0L7Qs9GA0LDQvNC80Ytcclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGRyYXcoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBkcmF3KCkge1xyXG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBnZXRJbWFnZURhdGFGcm9tRG9jdW1lbnRJbWFnZSgpO1xyXG4gICAgICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XHJcbiAgICAgICAgdmFyIHRlbXBIU0wsIHRlbXBSR0I7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhLmxlbmd0aCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIGRhdGFIU0wgPSBkYXRhUkdCVG9IU0woZGF0YSk7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gdGVtcGxhdGVfYmFzZTE7XHJcbiAgICAgICAgdmFyIG1pblN1bURpc3RhbmNlID0gSW5maW5pdHk7XHJcbiAgICAgICAgdmFyIGJlc3RBbmdsZSA9IDA7XHJcbiAgICAgICAgLy/Qv9C10YDQtdCx0LjRgNCw0LXQvCDQstC+0LfQvNC+0LbQvdGL0LUg0YPQs9C70Ysg0L/QvtCy0L7RgNC+0YLQsCDRiNCw0LHQu9C+0L3QsFxyXG4gICAgICAgIGZvciAodmFyIGFuZ2xlID0gMDsgYW5nbGUgPD0gMzYwOyBhbmdsZSArPSBhbmdsZVN0ZXApIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8v0L/QvtCy0L7RgNCw0YfQuNCy0LDQtdC8INGI0LDQsdC70L7QvVxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlUm90YXRlKHRlbXBsYXRlX2Jhc2UxLCBhbmdsZSk7XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGFIU0xbMF0pO1xyXG5cclxuICAgICAgICAgICAgLy/RgdGH0LjRgtCw0LXQvCDRgdGD0LzQvNGDINGA0LDRgdGC0L7Rj9C90LjQuSDQv9C40LrRgdC70LXQuSDQtNC+INCx0LvQuNC20LDQudGJ0LXQuSDQs9GA0LDQvdC40YbRiyDQvdC+0LLQvtCz0L4g0YjQsNCx0LvQvtC90LBcclxuICAgICAgICAgICAgdmFyIHN1bSA9IGRhdGFIU0wucmVkdWNlKChzdW0sIHBpeGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHN1bSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VtICsgbWluQm9yZGVyRGlzdGFuY2UocGl4ZWwsIHRlbXBsYXRlKS5kaXN0YW5jZTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIC8vIGRhdGFIU0wuZm9yRWFjaCgocGl4ZWwpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIC8vY29uc29sZS5sb2coc3VtKTtcclxuICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSkpO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgICAgIC8v0LXRgdC70Lgg0YHRg9C80LzQsCDRgdGC0LDQu9CwINC80LXQvdGM0YjQtSwg0YfQtdC8INC00LvRjyDQv9GA0LXQtNGL0LTRg9GJ0LjRhSDRiNCw0LHQu9C+0L3QvtCyIC0g0LfQsNC/0L7QvNC40L3QsNC10Lwg0Y3RgtC+0YIg0YjQsNCx0LvQvtC9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwibWluU3VtRGlzdGFuY2U6IFwiICsgbWluU3VtRGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInN1bTogXCIgKyBzdW0pO1xyXG4gICAgICAgICAgICBpZiAobWluU3VtRGlzdGFuY2UgPiBzdW0pIHtcclxuICAgICAgICAgICAgICAgIGJlc3RBbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhbmdsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWluU3VtRGlzdGFuY2UgPSBNYXRoLm1pbihtaW5TdW1EaXN0YW5jZSwgc3VtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v0L/QvtC70YPRh9C10Lwg0YHQtdC60YbQuNC4INC40LTQtdCw0LvRjNC90L7Qs9C+INGI0LDQsdC70L7QvdCwXHJcbiAgICAgICAgLy8gdGVtcGxhdGUgPSB0ZW1wbGF0ZTEubWFwKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4ge1wiYmVnXCI6IHZhbHVlLmJlZytiZXN0QW5nbGUsIFwiZW5kXCI6IHZhbHVlLmVuZCtiZXN0QW5nbGV9O1xyXG4gICAgICAgIC8vIH0pXHJcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZVJvdGF0ZSh0ZW1wbGF0ZV9iYXNlMSwgYW5nbGUpO1xyXG5cclxuICAgICAgICAvL9C/0L7Qu9GD0YfQsNC10Lwg0LHQu9C40LbQsNC50YnQuNC1INCz0YDQsNC90LjRhtGLINC00LvRjyDQv9C40LrRgdC10LvQtdC5XHJcbiAgICAgICAgZGF0YUhTTCA9IGRhdGFIU0wubWFwKChwaXhlbCkgPT4ge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSkuZGlzdGFuY2UpO1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIHBpeGVsLmRpc3RhbmNlID0gZGF0YS5kaXN0YW5jZTtcclxuICAgICAgICAgICAgcGl4ZWwuYm9yZGVyID0gZGF0YS5ib3JkZXI7XHJcbiAgICAgICAgICAgIHJldHVybiBwaXhlbDtcclxuICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgLy8gZGF0YUhTTC5mb3JFYWNoKChpKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGkuaCk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGJlc3RBbmdsZSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhtaW5Cb3JkZXJEaXN0YW5jZSh7IFwiaFwiOiA1MH0sIHRlbXBsYXRlMSkpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coZ2F1c3NpYW4oZ2F1c01lYW4sIGdhdXNWYXJpYW5jZSkucGRmKDApKTtcclxuICAgICAgICB2YXIgbmV3ZGF0YUhTTCA9IGdldE5ld2RhdGFIU0woZGF0YUhTTCk7XHJcblxyXG4gICAgICAgIC8vIG5ld2RhdGFIU0wuZm9yRWFjaCgoaSkgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhpLmgpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICB2YXIgYXBwbHlDb2xvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBuZXdkYXRhSFNMLmZvckVhY2goKHBpeGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHBpeGVsKTtcclxuICAgICAgICAgICAgICAgIGlmIChwaXhlbC5oID4gMzYwKSBwaXhlbC5oLT0zNjA7XHJcbiAgICAgICAgICAgICAgICB0ZW1wUkdCID0gY29sb3JzeXMuaHNsVG9SZ2Ioe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiaFwiOiBwaXhlbC5oLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiBwaXhlbC5zLFxyXG4gICAgICAgICAgICAgICAgICAgIFwibFwiOiBwaXhlbC5sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRlbXBSR0Iucik7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhW2ldKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRlbXBSR0IuZyk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhW2krMV0pO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGVtcFJHQi5iKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGFbaSsyXSk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGNvbG9yc3lzLnJvdGF0ZUh1ZSgyMDAsIDIwMCkpO1xyXG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IHRlbXBSR0IuciAvL2RhdGFbaV07ICAgICAvLyByZWRcclxuICAgICAgICAgICAgICAgIGRhdGFbaSArIDFdID0gdGVtcFJHQi5nIC8vZGF0YVtpICsgMV07IC8vIGdyZWVuXHJcbiAgICAgICAgICAgICAgICBkYXRhW2kgKyAyXSA9IHRlbXBSR0IuYiAvL2RhdGFbaSArIDJdOyAvLyBibHVlXHJcbiAgICAgICAgICAgICAgICBpKz00O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgY3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcItCf0YDQvtCz0YDQsNC80LzQsCDQstGL0L/QvtC70L3QtdC90LAg0YPRgdC/0LXRiNC90L4hXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXBwbHlDb2xvcigpO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtkaXN0YW5jZU1pbiwgbWluQm9yZGVyRGlzdGFuY2UsIGRhdGFSR0JUb0hTTCwgdGVtcGxhdGVSb3RhdGUsIGdldE5ld2RhdGFIU0x9Il0sInNvdXJjZVJvb3QiOiIifQ==