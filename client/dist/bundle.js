!function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=2)}([function(t,r,e){!function(t){var r=function(t){var r=Math.abs(t),e=1/(1+r/2),n=e*Math.exp(-r*r-1.26551223+e*(1.00002368+e*(.37409196+e*(.09678418+e*(e*(.27886807+e*(e*(1.48851587+e*(.17087277*e-.82215223))-1.13520398))-.18628806)))));return t>=0?n:2-n},e=function(t,r){if(r<=0)throw new Error("Variance must be > 0 (but was "+r+")");this.mean=t,this.variance=r,this.standardDeviation=Math.sqrt(r)};e.prototype.pdf=function(t){var r=this.standardDeviation*Math.sqrt(2*Math.PI);return Math.exp(-Math.pow(t-this.mean,2)/(2*this.variance))/r},e.prototype.cdf=function(t){return.5*r(-(t-this.mean)/(this.standardDeviation*Math.sqrt(2)))},e.prototype.ppf=function(t){return this.mean-this.standardDeviation*Math.sqrt(2)*function(t){if(t>=2)return-100;if(t<=0)return 100;for(var e=t<1?t:2-t,n=Math.sqrt(-2*Math.log(e/2)),o=-.70711*((2.30753+.27061*n)/(1+n*(.99229+.04481*n))-n),a=0;a<2;a++){var s=r(o)-e;o+=s/(1.1283791670955126*Math.exp(-o*o)-o*s)}return t<1?o:-o}(2*t)},e.prototype.mul=function(t){if("number"==typeof t)return this.scale(t);var r=1/this.variance,e=1/t.variance;return o(r+e,r*this.mean+e*t.mean)},e.prototype.div=function(t){if("number"==typeof t)return this.scale(1/t);var r=1/this.variance,e=1/t.variance;return o(r-e,r*this.mean-e*t.mean)},e.prototype.add=function(t){return n(this.mean+t.mean,this.variance+t.variance)},e.prototype.sub=function(t){return n(this.mean-t.mean,this.variance+t.variance)},e.prototype.scale=function(t){return n(this.mean*t,this.variance*t*t)};var n=function(t,r){return new e(t,r)},o=function(t,r){return n(r/t,1/t)};t(n)}(function(r){t.exports=r})},function(t,r){var e=t.exports={};function n(t){return(t%360+360)%360}function o(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+(r-t)*(2/3-e)*6:t}e.rgb2Hsl=function(t,r,e){if("object"==typeof t){const n=t;t=n.r,r=n.g,e=n.b}t=255===t?1:t%255/parseFloat(255),r=255===r?1:r%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255);var n,o,a=Math.max(t,r,e),s=Math.min(t,r,e),i=(a+s)/2;if(a===s)n=o=0;else{var h=a-s;switch(o=i>.5?h/(2-a-s):h/(a+s),a){case t:n=(r-e)/h+(r<e?6:0);break;case r:n=(e-t)/h+2;break;case e:n=(t-r)/h+4}n/=6}return{h:Math.round(360*n),s:Math.round(100*o),l:Math.round(100*i)}},e.rgb_to_hsl=e.rgbToHsl=e.rgb2Hsl,e.rgb2Hsv=function(t,r,e){if("object"==typeof t){const n=t;t=n.r,r=n.g,e=n.b}t=255===t?1:t%255/parseFloat(255),r=255===r?1:r%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255);var n,o,a=Math.max(t,r,e),s=Math.min(t,r,e),i=a,h=a-s;if(o=0===a?0:h/a,a===s)n=0;else{switch(a){case t:n=(r-e)/h+(r<e?6:0);break;case r:n=(e-t)/h+2;break;case e:n=(t-r)/h+4}n/=6}return{h:Math.round(360*n),s:Math.round(100*o),v:Math.round(100*i)}},e.rgb_to_hsv=e.rgbToHsv=e.rgb2Hsv,e.hsl2Rgb=function(t,r,e){if("object"==typeof t){const n=t;t=n.h,r=n.s,e=n.l}var a,s,i;if(t=360===(t=n(t))?1:t%360/parseFloat(360),r=100===r?1:r%100/parseFloat(100),e=100===e?1:e%100/parseFloat(100),0===r)a=s=i=e;else{var h=e<.5?e*(1+r):e+r-e*r,c=2*e-h;a=o(c,h,t+1/3),s=o(c,h,t),i=o(c,h,t-1/3)}return{r:Math.round(255*a),g:Math.round(255*s),b:Math.round(255*i)}},e.hsl_to_rgb=e.hslToRgb=e.hsl2Rgb,e.hsv2Rgb=function(t,r,e){if("object"==typeof t){const n=t;t=n.h,r=n.s,e=n.v}t=360===(t=n(t))?1:t%360/parseFloat(360)*6,r=100===r?1:r%100/parseFloat(100),e=100===e?1:e%100/parseFloat(100);var o=Math.floor(t),a=t-o,s=e*(1-r),i=e*(1-a*r),h=e*(1-(1-a)*r),c=o%6,u=[e,i,s,s,h,e][c],b=[h,e,e,i,s,s][c],f=[s,s,h,e,e,i][c];return{r:Math.floor(255*u),g:Math.floor(255*b),b:Math.floor(255*f)}},e.hsv_to_rgb=e.hsv2Rgb,e.hsvToRgb=e.hsv2Rgb,e.rgb2Hex=function(t,r,e){if("object"==typeof t){const n=t;t=n.r,r=n.g,e=n.b}return t=Math.round(t).toString(16),r=Math.round(r).toString(16),e=Math.round(e).toString(16),"#"+(t=1===t.length?"0"+t:t)+(r=1===r.length?"0"+r:r)+(e=1===e.length?"0"+e:e)},e.rgb_to_hex=e.rgbToHex=e.rgb2Hex,e.hex2Rgb=function(t){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},e.hex_to_rgb=e.hexToRgb=e.hex2Rgb,e.hsv2Hex=function(t,r,n){var o=e.hsv2Rgb(t,r,n);return e.rgb2Hex(o.r,o.g,o.b)},e.hsv_to_hex=e.hsv2Hex,e.hsvToHex=e.hsv2Hex,e.hex2Hsv=function(t){var r=e.hex2Rgb(t);return e.rgb2Hsv(r.r,r.g,r.b)},e.hex_to_hsv=e.hexToHsv=e.hex2Hsv,e.hsl2Hex=function(t,r,n){var o=e.hsl2Rgb(t,r,n);return e.rgb2Hex(o.r,o.g,o.b)},e.hsl_to_hex=e.hslToHex=e.hsl2Hex,e.hex2Hsl=function(t){var r=e.hex2Rgb(t);return e.rgb2Hsl(r.r,r.g,r.b)},e.hex_to_hsl=e.hexToHsl=e.hex2Hsl,e.rgb2Cmyk=function(t,r,e){if("object"==typeof t){const n=t;t=n.r,r=n.g,e=n.b}var n=t/255,o=r/255,a=e/255,s=1-Math.max(n,o,a),i=(1-o-s)/(1-s),h=(1-a-s)/(1-s);return{c:((1-n-s)/(1-s)).toFixed(3),m:i.toFixed(3),y:h.toFixed(3),k:s.toFixed(3)}},e.rgb_to_cmyk=e.rgbToCmyk=e.rgb2Cmyk,e.cmyk2Rgb=function(t,r,e,n){if("object"==typeof t){const o=t;t=o.c,r=o.m,e=o.y,n=o.k}var o=255*(1-t)*(1-n),a=255*(1-r)*(1-n),s=255*(1-e)*(1-n);return{r:Math.floor(o),g:Math.floor(a),b:Math.floor(s)}},e.cmyk_to_rgb=e.cmykToRgb=e.cmyk2Rgb,e.hsv2Hsl=function(t,r,e){if("object"==typeof t){const n=t;t=n.h,r=n.s,e=n.v}var n=(2-r)*e/2;return 0!==n&&(r=100===n?0:n<50?r*e/(2*n):r*e/(2-2*n)),{h:t,s:r,l:n}},e.hsv_to_hsl=e.hsvToHsl=e.hsv2Hsl,e.hsl2Hsv=function(t,r,e){if("object"==typeof t){const n=t;t=n.h,r=n.s,e=n.l}return r*=e<50?e:100-e,{h:t,s:Math.floor(2*r/(e+r)),v:Math.floor(e+r)}},e.hsl_to_hsv=e.hslToHsv=e.hsl2Hsv,e.parseCss=function(t){if(t.indexOf("#")>-1)return e.hex2Rgb(t);const r=t.split("(")[0],n=t.split("(")[1].split(")")[0].split(",");return r.split("").reduce(function(t,r,e){const o=t;return o[r]=parseFloat(n[e]),o},{})},e.parse_css=e.parseCss,e.stringify=function(t){return Object.keys(t).join("")+"("+Object.keys(t).map(function(r){var e=t[r];return"s"!==r&&"v"!==r&&"l"!==r||(e+="%"),e}).join(", ")+")"},e.random=function(){return"#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).substr(-6)},e.rotateHue=function(t,r){void 0===r&&(r=0);const e="object"==typeof t?(t.h+r)%360:(t+r)%360,n=e<0?360+e:e;return"object"==typeof t?Object.assign(t,{h:n}):n}},function(t,r,e){"use strict";var n=e(1),o=e(0),a=0,s=.2,i=20,h=[{beg:0,end:40},{beg:180,end:240}],c=10;function u(t,r){return r.reduce(function(r,e){return 0==r.distance?{distance:0,border:0}:e.beg<t.h&&e.end>t.h?{distance:0,border:0}:e.beg<t.h+360&&e.end>t.h+360?{distance:0,border:0}:function(){for(var t={distance:1e3,border:0},r=0;r<arguments.length;r++)t.distance>arguments[r].distance&&(t=arguments[r]);return t}({distance:Math.abs(t.h-e.beg),border:e.beg},{distance:Math.abs(t.h-e.end),border:e.end},{distance:Math.abs(t.h+360-e.beg),border:e.beg},{distance:Math.abs(t.h+360-e.end),border:e.end},{distance:r.distance,border:r.border})},{distance:1e3,border:0})}function b(t,r){return t.map(function(t){return{beg:t.beg+r,end:t.end+r}})}window.onload=function(){!function(){for(var t,r=function(){var t=document.getElementsByTagName("img")[0];t.crossOrigin="Anonymous",t.setAttribute("crossOrigin","");var r=document.getElementById("canvas"),e=r.getContext("2d");return r.width=t.width,r.height=t.height,e.drawImage(t,0,0),e.getImageData(0,0,r.width,r.height)}(),e=r.data,f=function(t){for(var r=[],e=0;e<t.length;e+=4)r.push(n.rgb_to_hsl({r:t[e],g:t[e+1],b:t[e+2]}));return r}(e),d=h,g=1/0,l=0,v=0;v<=360;v+=c){d=b(h,v);var p=f.reduce(function(t,r){return t+u(r,d).distance},0);g>p&&(l=v),g=Math.min(g,p)}d=b(h,v),f=f.map(function(t){var r=u(t,d);return t.distance=r.distance,t.border=r.border,t},0),console.log(l);var m=function(t,r,e){var n=t;return n=n.map(function(t){var r;return 0!=t.distance?(Math.abs(t.h-t.border)<Math.abs(t.h+360-t.border)?r=t:(r=t).h+=360,r.h>r.border?r.h=r.border-i+i*(1-o(a,s).pdf(r.h-r.border)):r.h=r.border+i-i*(1-o(a,s).pdf(r.border-r.h)),r):t})}(f);!function(){var o=0;m.forEach(function(r){r.h>360&&(r.h-=360),t=n.hslToRgb({h:r.h,s:r.s,l:r.l}),e[o]=t.r,e[o+1]=t.g,e[o+2]=t.b,o+=4});var a=document.getElementById("canvas"),s=a.getContext("2d");s.putImageData(r,0,0),console.log("Программа выполнена успешно!")}()}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dhdXNzaWFuL2xpYi9nYXVzc2lhbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29sb3JzeXMvY29sb3JzeXMuanMiLCJ3ZWJwYWNrOi8vLy4vanMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZXJmYyIsIngiLCJ6IiwiTWF0aCIsImFicyIsInQiLCJleHAiLCJHYXVzc2lhbiIsIm1lYW4iLCJ2YXJpYW5jZSIsIkVycm9yIiwidGhpcyIsInN0YW5kYXJkRGV2aWF0aW9uIiwic3FydCIsInBkZiIsIlBJIiwicG93IiwiY2RmIiwicHBmIiwieHgiLCJsb2ciLCJqIiwiZXJyIiwiaWVyZmMiLCJtdWwiLCJzY2FsZSIsInByZWNpc2lvbiIsImRwcmVjaXNpb24iLCJmcm9tUHJlY2lzaW9uTWVhbiIsImRpdiIsImFkZCIsImdhdXNzaWFuIiwic3ViIiwicHJlY2lzaW9ubWVhbiIsImUiLCJjb2xvcnN5cyIsIl9ub3JtYWxpemVBbmdsZSIsImRlZ3JlZXMiLCJfaHVlMlJnYiIsInEiLCJyZ2IySHNsIiwiZyIsImIiLCJhcmdzIiwicGFyc2VGbG9hdCIsImgiLCJtYXgiLCJtaW4iLCJyb3VuZCIsInJnYl90b19oc2wiLCJyZ2JUb0hzbCIsInJnYjJIc3YiLCJ2IiwicmdiX3RvX2hzdiIsInJnYlRvSHN2IiwiaHNsMlJnYiIsImhzbF90b19yZ2IiLCJoc2xUb1JnYiIsImhzdjJSZ2IiLCJmbG9vciIsImYiLCJtb2QiLCJoc3ZfdG9fcmdiIiwiaHN2VG9SZ2IiLCJyZ2IySGV4IiwidG9TdHJpbmciLCJsZW5ndGgiLCJyZ2JfdG9faGV4IiwicmdiVG9IZXgiLCJoZXgyUmdiIiwiaGV4IiwicmVzdWx0IiwiZXhlYyIsInBhcnNlSW50IiwiaGV4X3RvX3JnYiIsImhleFRvUmdiIiwiaHN2MkhleCIsInJnYiIsImhzdl90b19oZXgiLCJoc3ZUb0hleCIsImhleDJIc3YiLCJoZXhfdG9faHN2IiwiaGV4VG9Ic3YiLCJoc2wySGV4IiwiaHNsX3RvX2hleCIsImhzbFRvSGV4IiwiaGV4MkhzbCIsImhleF90b19oc2wiLCJoZXhUb0hzbCIsInJnYjJDbXlrIiwicnByaW0iLCJncHJpbSIsImJwcmltIiwiayIsInkiLCJ0b0ZpeGVkIiwicmdiX3RvX2NteWsiLCJyZ2JUb0NteWsiLCJjbXlrMlJnYiIsImNteWtfdG9fcmdiIiwiY215a1RvUmdiIiwiaHN2MkhzbCIsIlNWX01BWCIsImhzdl90b19oc2wiLCJoc3ZUb0hzbCIsImhzbDJIc3YiLCJoc2xfdG9faHN2IiwiaHNsVG9Ic3YiLCJwYXJzZUNzcyIsImNzc1N0cmluZyIsImluZGV4T2YiLCJwcmVmaXgiLCJzcGxpdCIsInJlZHVjZSIsImNvbG9yIiwicGFyYW0iLCJpZHgiLCJuZXh0Q29sb3IiLCJwYXJzZV9jc3MiLCJzdHJpbmdpZnkiLCJvYmoiLCJrZXlzIiwiam9pbiIsIm1hcCIsImtleSIsInZhbCIsInJhbmRvbSIsInN1YnN0ciIsInJvdGF0ZUh1ZSIsImh1ZSIsImFtb3VudCIsImF1eCIsIm5leHRIdWUiLCJhc3NpZ24iLCJnYXVzTWVhbiIsImdhdXNWYXJpYW5jZSIsInRlbXBsYXRlX2Jhc2UxX2hhbGZ3aWR0aCIsInRlbXBsYXRlX2Jhc2UxIiwiYmVnIiwiZW5kIiwiYW5nbGVTdGVwIiwibWluQm9yZGVyRGlzdGFuY2UiLCJwaXhlbCIsInRlbXBsYXRlIiwiaW5mIiwic2VjdGlvbiIsImRpc3RhbmNlIiwiYm9yZGVyIiwibWluRGlzdGFuY2UiLCJhcmd1bWVudHMiLCJkaXN0YW5jZU1pbiIsInRlbXBsYXRlUm90YXRlIiwidGVtcGxhdGVfYmFzZSIsImFuZ2xlIiwid2luZG93Iiwib25sb2FkIiwidGVtcFJHQiIsImltYWdlRGF0YSIsImltZyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjcm9zc09yaWdpbiIsInNldEF0dHJpYnV0ZSIsImNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwiZ2V0SW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhRnJvbURvY3VtZW50SW1hZ2UiLCJkYXRhIiwiZGF0YUhTTCIsInB1c2giLCJkYXRhUkdCVG9IU0wiLCJtaW5TdW1EaXN0YW5jZSIsIkluZmluaXR5IiwiYmVzdEFuZ2xlIiwic3VtIiwiY29uc29sZSIsIm5ld2RhdGFIU0wiLCJuZXdEYXRhSFNMIiwidHJ1ZVBpeGVsIiwiZ2V0TmV3ZGF0YUhTTCIsImZvckVhY2giLCJwdXRJbWFnZURhdGEiLCJhcHBseUNvbG9yIiwiZHJhdyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FL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QzNDLEdBRVpBLEVBQU1qRyxFQUFJLE1BQUtpRyxFQUFNakcsR0FBRyxLQUM1QitHLEVBQVV6SCxFQUFTc0IsVUFDZlosRUFBS2lHLEVBQU1qRyxFQUNYOUMsRUFBSytJLEVBQU0vSSxFQUNYdkIsRUFBS3NLLEVBQU10SyxJQVNmb00sRUFBS3JNLEdBQUtxTCxFQUFRdEssRUFDbEJzTCxFQUFLck0sRUFBSSxHQUFLcUwsRUFBUW5ILEVBQ3RCbUksRUFBS3JNLEVBQUksR0FBS3FMLEVBQVFsSCxFQUN0Qm5FLEdBQUcsSUFHUCxJQUFJNEwsRUFBU0osU0FBU0ssZUFBZSxVQUNqQ0MsRUFBTUYsRUFBT0csV0FBVyxNQUM1QkQsRUFBSXFCLGFBQWE3QixFQUFXLEVBQUcsR0FDL0J1QixRQUFRaEssSUFBSSxnQ0FHaEJ1SyxHQWpHSkMiLCJmaWxlIjoiLi9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiKGZ1bmN0aW9uKGV4cG9ydHMpIHtcblxuICAvLyBDb21wbGVtZW50YXJ5IGVycm9yIGZ1bmN0aW9uXG4gIC8vIEZyb20gTnVtZXJpY2FsIFJlY2lwZXMgaW4gQyAyZSBwMjIxXG4gIHZhciBlcmZjID0gZnVuY3Rpb24oeCkge1xuICAgIHZhciB6ID0gTWF0aC5hYnMoeCk7XG4gICAgdmFyIHQgPSAxIC8gKDEgKyB6IC8gMik7XG4gICAgdmFyIHIgPSB0ICogTWF0aC5leHAoLXogKiB6IC0gMS4yNjU1MTIyMyArIHQgKiAoMS4wMDAwMjM2OCArXG4gICAgICAgICAgICB0ICogKDAuMzc0MDkxOTYgKyB0ICogKDAuMDk2Nzg0MTggKyB0ICogKC0wLjE4NjI4ODA2ICtcbiAgICAgICAgICAgIHQgKiAoMC4yNzg4NjgwNyArIHQgKiAoLTEuMTM1MjAzOTggKyB0ICogKDEuNDg4NTE1ODcgK1xuICAgICAgICAgICAgdCAqICgtMC44MjIxNTIyMyArIHQgKiAwLjE3MDg3Mjc3KSkpKSkpKSkpXG4gICAgcmV0dXJuIHggPj0gMCA/IHIgOiAyIC0gcjtcbiAgfTtcblxuICAvLyBJbnZlcnNlIGNvbXBsZW1lbnRhcnkgZXJyb3IgZnVuY3Rpb25cbiAgLy8gRnJvbSBOdW1lcmljYWwgUmVjaXBlcyAzZSBwMjY1XG4gIHZhciBpZXJmYyA9IGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA+PSAyKSB7IHJldHVybiAtMTAwOyB9XG4gICAgaWYgKHggPD0gMCkgeyByZXR1cm4gMTAwOyB9XG5cbiAgICB2YXIgeHggPSAoeCA8IDEpID8geCA6IDIgLSB4O1xuICAgIHZhciB0ID0gTWF0aC5zcXJ0KC0yICogTWF0aC5sb2coeHggLyAyKSk7XG5cbiAgICB2YXIgciA9IC0wLjcwNzExICogKCgyLjMwNzUzICsgdCAqIDAuMjcwNjEpIC9cbiAgICAgICAgICAgICgxICsgdCAqICgwLjk5MjI5ICsgdCAqIDAuMDQ0ODEpKSAtIHQpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCAyOyBqKyspIHtcbiAgICAgIHZhciBlcnIgPSBlcmZjKHIpIC0geHg7XG4gICAgICByICs9IGVyciAvICgxLjEyODM3OTE2NzA5NTUxMjU3ICogTWF0aC5leHAoLShyICogcikpIC0gciAqIGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuICh4IDwgMSkgPyByIDogLXI7XG4gIH07XG5cbiAgLy8gTW9kZWxzIHRoZSBub3JtYWwgZGlzdHJpYnV0aW9uXG4gIHZhciBHYXVzc2lhbiA9IGZ1bmN0aW9uKG1lYW4sIHZhcmlhbmNlKSB7XG4gICAgaWYgKHZhcmlhbmNlIDw9IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFyaWFuY2UgbXVzdCBiZSA+IDAgKGJ1dCB3YXMgJyArIHZhcmlhbmNlICsgJyknKTtcbiAgICB9XG4gICAgdGhpcy5tZWFuID0gbWVhbjtcbiAgICB0aGlzLnZhcmlhbmNlID0gdmFyaWFuY2U7XG4gICAgdGhpcy5zdGFuZGFyZERldmlhdGlvbiA9IE1hdGguc3FydCh2YXJpYW5jZSk7XG4gIH1cblxuICAvLyBQcm9iYWJpbGl0eSBkZW5zaXR5IGZ1bmN0aW9uXG4gIEdhdXNzaWFuLnByb3RvdHlwZS5wZGYgPSBmdW5jdGlvbih4KSB7XG4gICAgdmFyIG0gPSB0aGlzLnN0YW5kYXJkRGV2aWF0aW9uICogTWF0aC5zcXJ0KDIgKiBNYXRoLlBJKTtcbiAgICB2YXIgZSA9IE1hdGguZXhwKC1NYXRoLnBvdyh4IC0gdGhpcy5tZWFuLCAyKSAvICgyICogdGhpcy52YXJpYW5jZSkpO1xuICAgIHJldHVybiBlIC8gbTtcbiAgfTtcblxuICAvLyBDdW11bGF0aXZlIGRlbnNpdHkgZnVuY3Rpb25cbiAgR2F1c3NpYW4ucHJvdG90eXBlLmNkZiA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gMC41ICogZXJmYygtKHggLSB0aGlzLm1lYW4pIC8gKHRoaXMuc3RhbmRhcmREZXZpYXRpb24gKiBNYXRoLnNxcnQoMikpKTtcbiAgfTtcblxuICAvLyBQZXJjZW50IHBvaW50IGZ1bmN0aW9uXG4gIEdhdXNzaWFuLnByb3RvdHlwZS5wcGYgPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHRoaXMubWVhbiAtIHRoaXMuc3RhbmRhcmREZXZpYXRpb24gKiBNYXRoLnNxcnQoMikgKiBpZXJmYygyICogeCk7XG4gIH07XG5cbiAgLy8gUHJvZHVjdCBkaXN0cmlidXRpb24gb2YgdGhpcyBhbmQgZCAoc2NhbGUgZm9yIGNvbnN0YW50KVxuICBHYXVzc2lhbi5wcm90b3R5cGUubXVsID0gZnVuY3Rpb24oZCkge1xuICAgIGlmICh0eXBlb2YoZCkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnNjYWxlKGQpO1xuICAgIH1cbiAgICB2YXIgcHJlY2lzaW9uID0gMSAvIHRoaXMudmFyaWFuY2U7XG4gICAgdmFyIGRwcmVjaXNpb24gPSAxIC8gZC52YXJpYW5jZTtcbiAgICByZXR1cm4gZnJvbVByZWNpc2lvbk1lYW4oXG4gICAgICAgIHByZWNpc2lvbiArIGRwcmVjaXNpb24sIFxuICAgICAgICBwcmVjaXNpb24gKiB0aGlzLm1lYW4gKyBkcHJlY2lzaW9uICogZC5tZWFuKTtcbiAgfTtcblxuICAvLyBRdW90aWVudCBkaXN0cmlidXRpb24gb2YgdGhpcyBhbmQgZCAoc2NhbGUgZm9yIGNvbnN0YW50KVxuICBHYXVzc2lhbi5wcm90b3R5cGUuZGl2ID0gZnVuY3Rpb24oZCkge1xuICAgIGlmICh0eXBlb2YoZCkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnNjYWxlKDEgLyBkKTtcbiAgICB9XG4gICAgdmFyIHByZWNpc2lvbiA9IDEgLyB0aGlzLnZhcmlhbmNlO1xuICAgIHZhciBkcHJlY2lzaW9uID0gMSAvIGQudmFyaWFuY2U7XG4gICAgcmV0dXJuIGZyb21QcmVjaXNpb25NZWFuKFxuICAgICAgICBwcmVjaXNpb24gLSBkcHJlY2lzaW9uLCBcbiAgICAgICAgcHJlY2lzaW9uICogdGhpcy5tZWFuIC0gZHByZWNpc2lvbiAqIGQubWVhbik7XG4gIH07XG5cbiAgLy8gQWRkaXRpb24gb2YgdGhpcyBhbmQgZFxuICBHYXVzc2lhbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZCkge1xuICAgIHJldHVybiBnYXVzc2lhbih0aGlzLm1lYW4gKyBkLm1lYW4sIHRoaXMudmFyaWFuY2UgKyBkLnZhcmlhbmNlKTtcbiAgfTtcblxuICAvLyBTdWJ0cmFjdGlvbiBvZiB0aGlzIGFuZCBkXG4gIEdhdXNzaWFuLnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbihkKSB7XG4gICAgcmV0dXJuIGdhdXNzaWFuKHRoaXMubWVhbiAtIGQubWVhbiwgdGhpcy52YXJpYW5jZSArIGQudmFyaWFuY2UpO1xuICB9O1xuXG4gIC8vIFNjYWxlIHRoaXMgYnkgY29uc3RhbnQgY1xuICBHYXVzc2lhbi5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuIGdhdXNzaWFuKHRoaXMubWVhbiAqIGMsIHRoaXMudmFyaWFuY2UgKiBjICogYyk7XG4gIH07XG5cbiAgdmFyIGdhdXNzaWFuID0gZnVuY3Rpb24obWVhbiwgdmFyaWFuY2UpIHtcbiAgICByZXR1cm4gbmV3IEdhdXNzaWFuKG1lYW4sIHZhcmlhbmNlKTtcbiAgfTtcblxuICB2YXIgZnJvbVByZWNpc2lvbk1lYW4gPSBmdW5jdGlvbihwcmVjaXNpb24sIHByZWNpc2lvbm1lYW4pIHtcbiAgICByZXR1cm4gZ2F1c3NpYW4ocHJlY2lzaW9ubWVhbiAvIHByZWNpc2lvbiwgMSAvIHByZWNpc2lvbik7XG4gIH07XG5cbiAgZXhwb3J0cyhnYXVzc2lhbik7XG59KVxuKHR5cGVvZihleHBvcnRzKSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgID8gZnVuY3Rpb24oZSkgeyBtb2R1bGUuZXhwb3J0cyA9IGU7IH1cbiAgICA6IGZ1bmN0aW9uKGUpIHsgdGhpc1tcImdhdXNzaWFuXCJdID0gZTsgfSk7XG4iLCJcbmNvbnN0IFJHQl9NQVggPSAyNTVcbmNvbnN0IEhVRV9NQVggPSAzNjBcbmNvbnN0IFNWX01BWCA9IDEwMFxuXG52YXIgY29sb3JzeXMgPSBtb2R1bGUuZXhwb3J0cyA9IHt9XG5cbmNvbG9yc3lzLnJnYjJIc2wgPSBmdW5jdGlvbiAociwgZywgYikge1xuICBpZiAodHlwZW9mIHIgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IHJcbiAgICByID0gYXJncy5yOyBnID0gYXJncy5nOyBiID0gYXJncy5iO1xuICB9XG4gIC8vIEl0IGNvbnZlcnRzIFswLDI1NV0gZm9ybWF0LCB0byBbMCwxXVxuICByID0gKHIgPT09IFJHQl9NQVgpID8gMSA6IChyICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG4gIGcgPSAoZyA9PT0gUkdCX01BWCkgPyAxIDogKGcgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcbiAgYiA9IChiID09PSBSR0JfTUFYKSA/IDEgOiAoYiAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuXG4gIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKVxuICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYilcbiAgdmFyIGgsIHMsIGwgPSAobWF4ICsgbWluKSAvIDJcblxuICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICBoID0gcyA9IDAgLy8gYWNocm9tYXRpY1xuICB9IGVsc2Uge1xuICAgIHZhciBkID0gbWF4IC0gbWluXG4gICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pXG4gICAgc3dpdGNoIChtYXgpIHtcbiAgICAgIGNhc2UgcjpcbiAgICAgICAgaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIGc6XG4gICAgICAgIGggPSAoYiAtIHIpIC8gZCArIDJcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgYjpcbiAgICAgICAgaCA9IChyIC0gZykgLyBkICsgNFxuICAgICAgICBicmVha1xuICAgIH1cbiAgICBoIC89IDZcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaDogTWF0aC5yb3VuZChoICogSFVFX01BWCksXG4gICAgczogTWF0aC5yb3VuZChzICogU1ZfTUFYKSxcbiAgICBsOiBNYXRoLnJvdW5kKGwgKiBTVl9NQVgpXG4gIH1cbn1cblxuY29sb3JzeXMucmdiX3RvX2hzbCA9IGNvbG9yc3lzLnJnYlRvSHNsID0gY29sb3JzeXMucmdiMkhzbFxuXG5jb2xvcnN5cy5yZ2IySHN2ID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSByXG4gICAgciA9IGFyZ3MucjsgZyA9IGFyZ3MuZzsgYiA9IGFyZ3MuYjtcbiAgfVxuXG4gIC8vIEl0IGNvbnZlcnRzIFswLDI1NV0gZm9ybWF0LCB0byBbMCwxXVxuICByID0gKHIgPT09IFJHQl9NQVgpID8gMSA6IChyICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG4gIGcgPSAoZyA9PT0gUkdCX01BWCkgPyAxIDogKGcgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcbiAgYiA9IChiID09PSBSR0JfTUFYKSA/IDEgOiAoYiAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuXG4gIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKVxuICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYilcbiAgdmFyIGgsIHMsIHYgPSBtYXhcblxuICB2YXIgZCA9IG1heCAtIG1pblxuXG4gIHMgPSBtYXggPT09IDAgPyAwIDogZCAvIG1heFxuXG4gIGlmIChtYXggPT09IG1pbikge1xuICAgIGggPSAwIC8vIGFjaHJvbWF0aWNcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgY2FzZSByOlxuICAgICAgICBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgZzpcbiAgICAgICAgaCA9IChiIC0gcikgLyBkICsgMlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBiOlxuICAgICAgICBoID0gKHIgLSBnKSAvIGQgKyA0XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIGggLz0gNlxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoOiBNYXRoLnJvdW5kKGggKiBIVUVfTUFYKSxcbiAgICBzOiBNYXRoLnJvdW5kKHMgKiBTVl9NQVgpLFxuICAgIHY6IE1hdGgucm91bmQodiAqIFNWX01BWClcbiAgfVxufVxuXG5jb2xvcnN5cy5yZ2JfdG9faHN2ID0gY29sb3JzeXMucmdiVG9Ic3YgPSBjb2xvcnN5cy5yZ2IySHN2XG5cbmNvbG9yc3lzLmhzbDJSZ2IgPSBmdW5jdGlvbiAoaCwgcywgbCkge1xuICBpZiAodHlwZW9mIGggPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGhcbiAgICBoID0gYXJncy5oOyBzID0gYXJncy5zOyBsID0gYXJncy5sO1xuICB9XG5cbiAgdmFyIHIsIGcsIGJcblxuICBoID0gX25vcm1hbGl6ZUFuZ2xlKGgpXG4gIGggPSAoaCA9PT0gSFVFX01BWCkgPyAxIDogKGggJSBIVUVfTUFYIC8gcGFyc2VGbG9hdChIVUVfTUFYKSlcbiAgcyA9IChzID09PSBTVl9NQVgpID8gMSA6IChzICUgU1ZfTUFYIC8gcGFyc2VGbG9hdChTVl9NQVgpKVxuICBsID0gKGwgPT09IFNWX01BWCkgPyAxIDogKGwgJSBTVl9NQVggLyBwYXJzZUZsb2F0KFNWX01BWCkpXG5cbiAgaWYgKHMgPT09IDApIHtcbiAgICByID0gZyA9IGIgPSBsIC8vIGFjaHJvbWF0aWNcbiAgfSBlbHNlIHtcbiAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgciA9IF9odWUyUmdiKHAsIHEsIGggKyAxIC8gMylcbiAgICBnID0gX2h1ZTJSZ2IocCwgcSwgaClcbiAgICBiID0gX2h1ZTJSZ2IocCwgcSwgaCAtIDEgLyAzKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByOiBNYXRoLnJvdW5kKHIgKiBSR0JfTUFYKSxcbiAgICBnOiBNYXRoLnJvdW5kKGcgKiBSR0JfTUFYKSxcbiAgICBiOiBNYXRoLnJvdW5kKGIgKiBSR0JfTUFYKSxcbiAgfVxufVxuXG5jb2xvcnN5cy5oc2xfdG9fcmdiID0gY29sb3JzeXMuaHNsVG9SZ2IgPSBjb2xvcnN5cy5oc2wyUmdiXG5cbmNvbG9yc3lzLmhzdjJSZ2IgPSBmdW5jdGlvbiAoaCwgcywgdikge1xuICBpZiAodHlwZW9mIGggPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGhcbiAgICBoID0gYXJncy5oOyBzID0gYXJncy5zOyB2ID0gYXJncy52O1xuICB9XG5cbiAgaCA9IF9ub3JtYWxpemVBbmdsZShoKVxuICBoID0gKGggPT09IEhVRV9NQVgpID8gMSA6IChoICUgSFVFX01BWCAvIHBhcnNlRmxvYXQoSFVFX01BWCkgKiA2KVxuICBzID0gKHMgPT09IFNWX01BWCkgPyAxIDogKHMgJSBTVl9NQVggLyBwYXJzZUZsb2F0KFNWX01BWCkpXG4gIHYgPSAodiA9PT0gU1ZfTUFYKSA/IDEgOiAodiAlIFNWX01BWCAvIHBhcnNlRmxvYXQoU1ZfTUFYKSlcblxuICB2YXIgaSA9IE1hdGguZmxvb3IoaClcbiAgdmFyIGYgPSBoIC0gaVxuICB2YXIgcCA9IHYgKiAoMSAtIHMpXG4gIHZhciBxID0gdiAqICgxIC0gZiAqIHMpXG4gIHZhciB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpXG4gIHZhciBtb2QgPSBpICUgNlxuICB2YXIgciA9IFt2LCBxLCBwLCBwLCB0LCB2XVttb2RdXG4gIHZhciBnID0gW3QsIHYsIHYsIHEsIHAsIHBdW21vZF1cbiAgdmFyIGIgPSBbcCwgcCwgdCwgdiwgdiwgcV1bbW9kXVxuXG4gIHJldHVybiB7XG4gICAgcjogTWF0aC5mbG9vcihyICogUkdCX01BWCksXG4gICAgZzogTWF0aC5mbG9vcihnICogUkdCX01BWCksXG4gICAgYjogTWF0aC5mbG9vcihiICogUkdCX01BWCksXG4gIH1cbn1cblxuY29sb3JzeXMuaHN2X3RvX3JnYiA9IGNvbG9yc3lzLmhzdjJSZ2JcbmNvbG9yc3lzLmhzdlRvUmdiID0gY29sb3JzeXMuaHN2MlJnYlxuXG5jb2xvcnN5cy5yZ2IySGV4ID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSByXG4gICAgciA9IGFyZ3MucjsgZyA9IGFyZ3MuZzsgYiA9IGFyZ3MuYjtcbiAgfVxuICByID0gTWF0aC5yb3VuZChyKS50b1N0cmluZygxNilcbiAgZyA9IE1hdGgucm91bmQoZykudG9TdHJpbmcoMTYpXG4gIGIgPSBNYXRoLnJvdW5kKGIpLnRvU3RyaW5nKDE2KVxuXG4gIHIgPSByLmxlbmd0aCA9PT0gMSA/ICcwJyArIHIgOiByXG4gIGcgPSBnLmxlbmd0aCA9PT0gMSA/ICcwJyArIGcgOiBnXG4gIGIgPSBiLmxlbmd0aCA9PT0gMSA/ICcwJyArIGIgOiBiXG5cbiAgcmV0dXJuICcjJyArIHIgKyBnICsgYlxufVxuXG5jb2xvcnN5cy5yZ2JfdG9faGV4ID0gY29sb3JzeXMucmdiVG9IZXggPSBjb2xvcnN5cy5yZ2IySGV4XG5cbmNvbG9yc3lzLmhleDJSZ2IgPSBmdW5jdGlvbiAoaGV4KSB7XG4gIHZhciByZXN1bHQgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KVxuICByZXR1cm4gcmVzdWx0ID8ge1xuICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgIGc6IHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpLFxuICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXG4gIH0gOiBudWxsXG59XG5cbmNvbG9yc3lzLmhleF90b19yZ2IgPSBjb2xvcnN5cy5oZXhUb1JnYiA9IGNvbG9yc3lzLmhleDJSZ2JcblxuY29sb3JzeXMuaHN2MkhleCA9IGZ1bmN0aW9uIChoLCBzLCB2KSB7XG4gIHZhciByZ2IgPSBjb2xvcnN5cy5oc3YyUmdiKGgsIHMsIHYpXG4gIHJldHVybiBjb2xvcnN5cy5yZ2IySGV4KHJnYi5yLCByZ2IuZywgcmdiLmIpXG59XG5cbmNvbG9yc3lzLmhzdl90b19oZXggPSBjb2xvcnN5cy5oc3YySGV4XG5jb2xvcnN5cy5oc3ZUb0hleCA9IGNvbG9yc3lzLmhzdjJIZXhcblxuY29sb3JzeXMuaGV4MkhzdiA9IGZ1bmN0aW9uIChoZXgpIHtcbiAgdmFyIHJnYiA9IGNvbG9yc3lzLmhleDJSZ2IoaGV4KVxuICByZXR1cm4gY29sb3JzeXMucmdiMkhzdihyZ2IuciwgcmdiLmcsIHJnYi5iKVxufVxuXG5jb2xvcnN5cy5oZXhfdG9faHN2ID0gY29sb3JzeXMuaGV4VG9Ic3YgPSBjb2xvcnN5cy5oZXgySHN2XG5cbmNvbG9yc3lzLmhzbDJIZXggPSBmdW5jdGlvbiAoaCwgcywgbCkge1xuICB2YXIgcmdiID0gY29sb3JzeXMuaHNsMlJnYihoLCBzLCBsKVxuICByZXR1cm4gY29sb3JzeXMucmdiMkhleChyZ2IuciwgcmdiLmcsIHJnYi5iKVxufVxuXG5jb2xvcnN5cy5oc2xfdG9faGV4ID0gY29sb3JzeXMuaHNsVG9IZXggPSBjb2xvcnN5cy5oc2wySGV4XG5cbmNvbG9yc3lzLmhleDJIc2wgPSBmdW5jdGlvbiAoaGV4KSB7XG4gIHZhciByZ2IgPSBjb2xvcnN5cy5oZXgyUmdiKGhleClcbiAgcmV0dXJuIGNvbG9yc3lzLnJnYjJIc2wocmdiLnIsIHJnYi5nLCByZ2IuYilcbn1cblxuY29sb3JzeXMuaGV4X3RvX2hzbCA9IGNvbG9yc3lzLmhleFRvSHNsID0gY29sb3JzeXMuaGV4MkhzbFxuXG5jb2xvcnN5cy5yZ2IyQ215ayA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gIGlmICh0eXBlb2YgciA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gclxuICAgIHIgPSBhcmdzLnI7IGcgPSBhcmdzLmc7IGIgPSBhcmdzLmI7XG4gIH1cblxuICB2YXIgcnByaW0gPSByIC8gMjU1XG4gIHZhciBncHJpbSA9IGcgLyAyNTVcbiAgdmFyIGJwcmltID0gYiAvIDI1NVxuXG4gIHZhciBrID0gMSAtIE1hdGgubWF4KHJwcmltLCBncHJpbSwgYnByaW0pXG5cbiAgdmFyIGMgPSAoMSAtIHJwcmltIC0gaykgLyAoMSAtIGspXG4gIHZhciBtID0gKDEgLSBncHJpbSAtIGspIC8gKDEgLSBrKVxuICB2YXIgeSA9ICgxIC0gYnByaW0gLSBrKSAvICgxIC0gaylcblxuICByZXR1cm4ge1xuICAgIGM6IGMudG9GaXhlZCgzKSxcbiAgICBtOiBtLnRvRml4ZWQoMyksXG4gICAgeTogeS50b0ZpeGVkKDMpLFxuICAgIGs6IGsudG9GaXhlZCgzKVxuICB9XG59XG5cbmNvbG9yc3lzLnJnYl90b19jbXlrID0gY29sb3JzeXMucmdiVG9DbXlrID0gY29sb3JzeXMucmdiMkNteWtcblxuY29sb3JzeXMuY215azJSZ2IgPSBmdW5jdGlvbiAoYywgbSwgeSwgaykge1xuICBpZiAodHlwZW9mIGMgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGNcbiAgICBjID0gYXJncy5jOyBtID0gYXJncy5tOyB5ID0gYXJncy55OyBrID0gYXJncy5rO1xuICB9XG5cbiAgdmFyIHIgPSAyNTUgKiAoMSAtIGMpICogKDEgLSBrKVxuICB2YXIgZyA9IDI1NSAqICgxIC0gbSkgKiAoMSAtIGspXG4gIHZhciBiID0gMjU1ICogKDEgLSB5KSAqICgxIC0gaylcblxuICByZXR1cm4ge1xuICAgIHI6IE1hdGguZmxvb3IociksXG4gICAgZzogTWF0aC5mbG9vcihnKSxcbiAgICBiOiBNYXRoLmZsb29yKGIpXG4gIH1cbn1cblxuY29sb3JzeXMuY215a190b19yZ2IgPSBjb2xvcnN5cy5jbXlrVG9SZ2IgPSBjb2xvcnN5cy5jbXlrMlJnYlxuXG5jb2xvcnN5cy5oc3YySHNsID0gZnVuY3Rpb24gKGgsIHMsIHYpIHtcbiAgaWYgKHR5cGVvZiBoID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSBoXG4gICAgaCA9IGFyZ3MuaDsgcyA9IGFyZ3MuczsgdiA9IGFyZ3MudjtcbiAgfVxuXG4gIHZhciBsID0gKDIgLSBzKSAqIHYgLyAyXG5cbiAgaWYgKGwgIT09IDApIHtcbiAgICBpZiAobCA9PT0gU1ZfTUFYKSB7XG4gICAgICBzID0gMFxuICAgIH0gZWxzZSBpZiAobCA8IFNWX01BWCAvIDIpIHtcbiAgICAgIHMgPSBzICogdiAvIChsICogMilcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IHMgKiB2IC8gKDIgLSBsICogMilcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBoOiBoLCBzOiBzLCBsOiBsIH1cbn1cblxuY29sb3JzeXMuaHN2X3RvX2hzbCA9IGNvbG9yc3lzLmhzdlRvSHNsID0gY29sb3JzeXMuaHN2MkhzbFxuXG5jb2xvcnN5cy5oc2wySHN2ID0gZnVuY3Rpb24gKGgsIHMsIGwpIHtcbiAgaWYgKHR5cGVvZiBoID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSBoXG4gICAgaCA9IGFyZ3MuaDsgcyA9IGFyZ3MuczsgbCA9IGFyZ3MubDtcbiAgfVxuXG4gIHMgPSBzICogKGwgPCA1MCA/IGwgOiAoMTAwIC0gbCkpXG5cbiAgcmV0dXJuIHtcbiAgICBoOiBoLFxuICAgIHM6IE1hdGguZmxvb3IoMiAqIHMgLyAobCArIHMpKSxcbiAgICB2OiBNYXRoLmZsb29yKGwgKyBzKSxcbiAgfVxufVxuXG5jb2xvcnN5cy5oc2xfdG9faHN2ID0gY29sb3JzeXMuaHNsVG9Ic3YgPSBjb2xvcnN5cy5oc2wySHN2XG5cbi8qKlxuKiBQYXJzZXMgdmFsdWVzIGZyb20gYSBzdHJpbmcgaW50byBhIGphdmFzY3JpcHQgb2JqZWN0XG4qIGUuZzogaHNsYSgxNDAsIDMwJSwgNDAlLCAuNSkgPT4geyBoOiAxNDAsIHM6IDMwLCBsOiA0MCwgYWxwaGE6IDAuNX1cbiovXG5jb2xvcnN5cy5wYXJzZUNzcyA9IGZ1bmN0aW9uIChjc3NTdHJpbmcpIHtcbiAgaWYgKGNzc1N0cmluZy5pbmRleE9mKCcjJykgPiAtMSkge1xuICAgIHJldHVybiBjb2xvcnN5cy5oZXgyUmdiKGNzc1N0cmluZylcbiAgfVxuXG4gIGNvbnN0IHByZWZpeCA9IGNzc1N0cmluZy5zcGxpdCgnKCcpWzBdXG4gIGNvbnN0IGFyZ3MgPSBjc3NTdHJpbmcuc3BsaXQoJygnKVsxXS5zcGxpdCgnKScpWzBdLnNwbGl0KCcsJylcblxuICAvLyBVc2UgdGhlIHByZWZpeCBhcyBhbiBhcnJheSBbciwgZywgYiwgYV0gdG8gcGFyc2UgdGhlIGNvbG91cnNcbiAgcmV0dXJuIHByZWZpeC5zcGxpdCgnJykucmVkdWNlKGZ1bmN0aW9uIChjb2xvciwgcGFyYW0sIGlkeCkge1xuICAgIGNvbnN0IG5leHRDb2xvciA9IGNvbG9yXG4gICAgbmV4dENvbG9yW3BhcmFtXSA9IHBhcnNlRmxvYXQoYXJnc1tpZHhdKVxuICAgIHJldHVybiBuZXh0Q29sb3JcbiAgfSwge30pXG59XG5cbmNvbG9yc3lzLnBhcnNlX2NzcyA9IGNvbG9yc3lzLnBhcnNlQ3NzXG5cbmNvbG9yc3lzLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgY29uc3QgcHJlZml4ID0gT2JqZWN0LmtleXMob2JqKS5qb2luKCcnKVxuICBjb25zdCB2YWx1ZXMgPSBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbCA9IG9ialtrZXldXG4gICAgaWYgKGtleSA9PT0gJ3MnIHx8wqBrZXkgPT09ICd2JyB8fCBrZXkgPT09ICdsJykge1xuICAgICAgdmFsID0gdmFsICsgJyUnXG4gICAgfVxuICAgIHJldHVybiB2YWxcbiAgfSlcbiAgcmV0dXJuIHByZWZpeCArICcoJyArIHZhbHVlcy5qb2luKCcsICcpICsgJyknXG59XG5cbi8vIFdpbGwgcmV0dXJuIGEgcmFuZG9tIGhleCBjb2xvdXJcbmNvbG9yc3lzLnJhbmRvbSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgYmFzZSA9ICcwMDAwMDAnXG4gIGNvbnN0IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2Nzc3MjE1KS50b1N0cmluZygxNilcbiAgcmV0dXJuICcjJyArIChiYXNlICsgbnVtYmVyKS5zdWJzdHIoLTYpXG59XG5cbmNvbG9yc3lzLnJvdGF0ZUh1ZSA9IGZ1bmN0aW9uIChodWUsIGFtb3VudCkge1xuICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMDsgfVxuICBjb25zdCBhdXggPSB0eXBlb2YgaHVlID09PSAnb2JqZWN0J1xuICAgICAgPyAoaHVlLmggKyBhbW91bnQpICUgMzYwXG4gICAgICA6IChodWUgKyBhbW91bnQpICUgMzYwXG4gICAgICBcbiAgY29uc3QgbmV4dEh1ZSA9IGF1eCA8IDAgPyAoMzYwICsgYXV4KSA6IGF1eFxuICByZXR1cm4gdHlwZW9mIGh1ZSA9PT0gJ29iamVjdCdcbiAgICAgID8gT2JqZWN0LmFzc2lnbihodWUsIHsgaDogbmV4dEh1ZSB9KVxuICAgICAgOiBuZXh0SHVlXG59XG5cbmZ1bmN0aW9uIF9ub3JtYWxpemVBbmdsZSAoZGVncmVlcykge1xuICByZXR1cm4gKGRlZ3JlZXMgJSAzNjAgKyAzNjApICUgMzYwO1xufVxuXG5mdW5jdGlvbiBfaHVlMlJnYiAocCwgcSwgdCkge1xuICBpZiAodCA8IDApIHQgKz0gMVxuICBpZiAodCA+IDEpIHQgLT0gMVxuICBpZiAodCA8IDEgLyA2KSByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdFxuICBpZiAodCA8IDEgLyAyKSByZXR1cm4gcVxuICBpZiAodCA8IDIgLyAzKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDZcbiAgcmV0dXJuIHBcbn1cbiIsInZhciBjb2xvcnN5cyA9IHJlcXVpcmUoJ2NvbG9yc3lzJyk7XHJcbnZhciBnYXVzc2lhbiA9IHJlcXVpcmUoJ2dhdXNzaWFuJyk7XHJcblxyXG5jb25zdCBnYXVzTWVhbiA9IDA7XHJcbmNvbnN0IGdhdXNWYXJpYW5jZSA9IDAuMjtcclxuXHJcbmNvbnN0IHRlbXBsYXRlX2Jhc2UxX2hhbGZ3aWR0aCA9IDIwO1xyXG5jb25zdCB0ZW1wbGF0ZV9iYXNlMSA9IFt7XHJcbiAgICBiZWc6IDAsXHJcbiAgICBlbmQ6IDQwXHJcbn0sIHtcclxuICAgIGJlZzogMTgwLFxyXG4gICAgZW5kOiAyNDBcclxufV07XHJcbi8vIGNvbnN0IHRlbXBsYXRlX2Jhc2UxX2hhbGZ3aWR0aCA9IDQ3O1xyXG5jb25zdCBhbmdsZVN0ZXAgPSAxMDtcclxuXHJcbi8qIFxyXG4gICAgcmVzdWx0IC0xIC0g0LLQvdGD0YLRgNC4INCz0YDQsNC90LjRhtGLO1xyXG4gICAgcmVzdWx0ID49MCAtINCy0L3QtSDQs9GA0LDQvdC40YbRiztcclxuKi9cclxuLy8gZnVuY3Rpb24gbWluQm9yZGVyRGlzdGFuY2UocGl4ZWwsIHRlbXBsYXRlKXtcclxuLy8gICAgIHJldHVybiB0ZW1wbGF0ZS5yZWR1Y2UoKGRpc3RhbmNlLCBzZWN0aW9uKT0+e1xyXG4vLyAgICAgICAgIC8v0LXRgdC70Lgg0L/QuNC60YHQtdC70Ywg0YPQttC1INCy0L3Rg9GC0YDQuCDQs9GA0LDQvdC40YYsINGC0L4g0L/RgNC+0LTQvtC70LbQsNC10Lwg0LLQvtC30LLRgNCw0YnQsNGC0YwgLTFcclxuLy8gICAgICAgICBpZiAoZGlzdGFuY2UgPT0gMCkgcmV0dXJuIDA7XHJcbi8vICAgICAgICAgLy/QtdGB0LvQuCDQv9C40LrRgdC10LvRjCDRgdGC0LDQuyDQstC90YPRgtGA0Lgg0LPRgNCw0L3QuNGGLCDQvdCw0YfQuNC90LDQtdC8INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIC0xXHJcbi8vICAgICAgICAgaWYgKChzZWN0aW9uLmJlZyA8IHBpeGVsLmgpICYmIChzZWN0aW9uLmVuZCA+IHBpeGVsLmgpKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIDA7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGlmICgoc2VjdGlvbi5iZWcgPCAocGl4ZWwuaCArIDM2MCkpICYmIChzZWN0aW9uLmVuZCA+IChwaXhlbC5oICsgMzYwKSkpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gMDtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgLy/QuNC90LDRh9C1INCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC80LjQvdC40LzQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDQvNC10LbQtNGDINCz0YDQsNC90LjRhtCw0LzQuCDQuCDQv9GA0LXQtNGL0LTRg9GJ0LjQvCDQstGL0YfQuNGB0LvQtdC90L3Ri9C8INC30L3QsNGH0LXQvdC40LXQvFxyXG4vLyAgICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLmFicyhwaXhlbC5oIC0gc2VjdGlvbi5iZWcpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhwaXhlbC5oIC0gc2VjdGlvbi5lbmQpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicygocGl4ZWwuaCArIDM2MCkgLSBzZWN0aW9uLmJlZyksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKChwaXhlbC5oICsgMzYwKSAtIHNlY3Rpb24uZW5kKSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VcclxuLy8gICAgICAgICAgICAgICAgICAgICAgKTtcclxuLy8gICAgIH0sIDEwMDApO1xyXG4vLyB9XHJcblxyXG4vL9CS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC/0LjQutGB0LXQu9GMINGBINC80LjQvdC40LzQsNC70YzQvdGL0Lwg0YDQsNC30LzQtdGA0L7QvCDQtNC40YHRgtCw0L3RhtC40Lgg0LTQviDQsdC70LjQttCw0LnRidC10Lkg0LPRgNCw0L3QuNGG0YtcclxuZnVuY3Rpb24gZGlzdGFuY2VNaW4oKSB7XHJcbiAgICB2YXIgbWluRGlzdGFuY2UgPSB7XHJcbiAgICAgICAgXCJkaXN0YW5jZVwiOiAxMDAwLFxyXG4gICAgICAgIFwiYm9yZGVyXCI6IDBcclxuICAgIH07XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChtaW5EaXN0YW5jZS5kaXN0YW5jZSA+IGFyZ3VtZW50c1tpXS5kaXN0YW5jZSkge1xyXG4gICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1pbkRpc3RhbmNlO1xyXG59XHJcblxyXG4vL9CS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRitC10YIg0LTQsNC90L3Ri9GFINGBINCx0LvQuNC20LDQudGI0LXQuSDQtNC70Y8g0L/QuNC60YHQtdC70Y8g0LPRgNCw0L3QuNGG0LXQuSDQuCDRgNCw0YHRgdGC0L7Rj9C90LjQtdC8INC00L4g0L3QtdGRXHJcbmZ1bmN0aW9uIG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSkge1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlLnJlZHVjZSgoaW5mLCBzZWN0aW9uKSA9PiB7XHJcbiAgICAgICAgLy/QtdGB0LvQuCDQv9C40LrRgdC10LvRjCDRg9C20LUg0LLQvdGD0YLRgNC4INCz0YDQsNC90LjRhiwg0YLQviDQv9GA0L7QtNC+0LvQttCw0LXQvCDQstC+0LfQstGA0LDRidCw0YLRjCAtMVxyXG4gICAgICAgIGlmIChpbmYuZGlzdGFuY2UgPT0gMCkgcmV0dXJuIHtcclxuICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiAwLFxyXG4gICAgICAgICAgICBcImJvcmRlclwiOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvL9C10YHQu9C4INC/0LjQutGB0LXQu9GMINGB0YLQsNC7INCy0L3Rg9GC0YDQuCDQs9GA0LDQvdC40YYsINC90LDRh9C40L3QsNC10Lwg0LLQvtC30LLRgNCw0YnQsNGC0YwgLTFcclxuICAgICAgICBpZiAoKHNlY3Rpb24uYmVnIDwgcGl4ZWwuaCkgJiYgKHNlY3Rpb24uZW5kID4gcGl4ZWwuaCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIFwiZGlzdGFuY2VcIjogMCxcclxuICAgICAgICAgICAgICAgIFwiYm9yZGVyXCI6IDBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChzZWN0aW9uLmJlZyA8IChwaXhlbC5oICsgMzYwKSkgJiYgKHNlY3Rpb24uZW5kID4gKHBpeGVsLmggKyAzNjApKSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiAwLFxyXG4gICAgICAgICAgICAgICAgXCJib3JkZXJcIjogMFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL9C40L3QsNGH0LUg0LLQvtC30LLRgNCw0YnQsNC10Lwg0LzQuNC90LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INC80LXQttC00YMg0LPRgNCw0L3QuNGG0LDQvNC4INC4INC/0YDQtdC00YvQtNGD0YnQuNC8INCy0YvRh9C40YHQu9C10L3QvdGL0Lwg0LfQvdCw0YfQtdC90LjQtdC8XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlTWluKHtcclxuICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiBNYXRoLmFicyhwaXhlbC5oIC0gc2VjdGlvbi5iZWcpLFxyXG4gICAgICAgICAgICBcImJvcmRlclwiOiBzZWN0aW9uLmJlZ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiBNYXRoLmFicyhwaXhlbC5oIC0gc2VjdGlvbi5lbmQpLFxyXG4gICAgICAgICAgICBcImJvcmRlclwiOiBzZWN0aW9uLmVuZFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiBNYXRoLmFicygocGl4ZWwuaCArIDM2MCkgLSBzZWN0aW9uLmJlZyksXHJcbiAgICAgICAgICAgIFwiYm9yZGVyXCI6IHNlY3Rpb24uYmVnXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBcImRpc3RhbmNlXCI6IE1hdGguYWJzKChwaXhlbC5oICsgMzYwKSAtIHNlY3Rpb24uZW5kKSxcclxuICAgICAgICAgICAgXCJib3JkZXJcIjogc2VjdGlvbi5lbmRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIFwiZGlzdGFuY2VcIjogaW5mLmRpc3RhbmNlLFxyXG4gICAgICAgICAgICBcImJvcmRlclwiOiBpbmYuYm9yZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCB7XHJcbiAgICAgICAgXCJkaXN0YW5jZVwiOiAxMDAwLFxyXG4gICAgICAgIFwiYm9yZGVyXCI6IDBcclxuICAgIH0pXHJcbn1cclxuXHJcbi8v0JLQvtC30LLRgNCw0YnQsNC10YIg0LzQsNGB0YHQuNCyINC/0LjQutGB0LXQu9C10Lkg0YEg0L3QvtCy0YvQvNC4INC30L3QsNGH0LXQvdC40Y/QvNC4IGhcclxuZnVuY3Rpb24gZ2V0TmV3ZGF0YUhTTChkYXRhSFNMLCB0ZW1wbGF0ZSwgYmVzdEFuZ2xlKSB7XHJcbiAgICB2YXIgbmV3RGF0YUhTTCA9IGRhdGFIU0w7XHJcbiAgICBuZXdEYXRhSFNMID0gbmV3RGF0YUhTTC5tYXAoKHBpeGVsKSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwaXhlbCk7XHJcbiAgICAgICAgaWYgKHBpeGVsLmRpc3RhbmNlICE9IDApIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInBpeGVsLmRpc3RhbmNlID4gMFwiKTtcclxuICAgICAgICAgICAgdmFyIHRydWVQaXhlbDtcclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBpeGVsLmggLSBwaXhlbC5ib3JkZXIpIDwgTWF0aC5hYnMocGl4ZWwuaCArIDM2MCAtIHBpeGVsLmJvcmRlcikpIHtcclxuICAgICAgICAgICAgICAgIHRydWVQaXhlbCA9IHBpeGVsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJ1ZVBpeGVsID0gcGl4ZWw7XHJcbiAgICAgICAgICAgICAgICB0cnVlUGl4ZWwuaCArPSAzNjA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0cnVlUGl4ZWwuaCA+IHRydWVQaXhlbC5ib3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRydWVQaXhlbC5oID0gKHRydWVQaXhlbC5ib3JkZXIgLSB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGgpICtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGggKiAoMSAtIGdhdXNzaWFuKGdhdXNNZWFuLCBnYXVzVmFyaWFuY2UpLnBkZih0cnVlUGl4ZWwuaCAtIHRydWVQaXhlbC5ib3JkZXIpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCh0cnVlUGl4ZWwuYm9yZGVyIC0gdGVtcGxhdGVfYmFzZTFfaGFsZndpZHRoKSArIHRlbXBsYXRlX2Jhc2UxX2hhbGZ3aWR0aCAqICgxIC0gZ2F1c3NpYW4oZ2F1c01lYW4sIGdhdXNWYXJpYW5jZSkucGRmKHRydWVQaXhlbC5oIC0gdHJ1ZVBpeGVsLmJvcmRlcikpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRydWVQaXhlbC5oID0gKHRydWVQaXhlbC5ib3JkZXIgKyB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGgpIC1cclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGggKiAoMSAtIGdhdXNzaWFuKGdhdXNNZWFuLCBnYXVzVmFyaWFuY2UpLnBkZih0cnVlUGl4ZWwuYm9yZGVyIC0gdHJ1ZVBpeGVsLmgpKTtcclxuICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codHJ1ZVBpeGVsLmggPSAodHJ1ZVBpeGVsLmJvcmRlciArIHRlbXBsYXRlX2Jhc2UxX2hhbGZ3aWR0aCkgLSB0ZW1wbGF0ZV9iYXNlMV9oYWxmd2lkdGggKiAoMSAtIGdhdXNzaWFuKGdhdXNNZWFuLCBnYXVzVmFyaWFuY2UpLnBkZih0cnVlUGl4ZWwuYm9yZGVyIC0gdHJ1ZVBpeGVsLmgpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0cnVlUGl4ZWwuYm9yZGVyKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0cnVlUGl4ZWwuaCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVBpeGVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBwaXhlbDtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG5ld0RhdGFIU0w7XHJcbn1cclxuXHJcbi8v0J/QvtCy0L7RgNCw0YfQuNCy0LDQtdGCINGI0LDQsdC70L7QvSDQvdCwINGD0LrQsNC30LDQvdC90YvQuSDRg9Cz0L7Qu1xyXG5mdW5jdGlvbiB0ZW1wbGF0ZVJvdGF0ZSh0ZW1wbGF0ZV9iYXNlLCBhbmdsZSkge1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlX2Jhc2UubWFwKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFwiYmVnXCI6IHZhbHVlLmJlZyArIGFuZ2xlLFxyXG4gICAgICAgICAgICBcImVuZFwiOiB2YWx1ZS5lbmQgKyBhbmdsZVxyXG4gICAgICAgIH07XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRJbWFnZURhdGFGcm9tRG9jdW1lbnRJbWFnZSgpe1xyXG4gICAgdmFyIGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1nXCIpWzBdO1xyXG4gICAgaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcclxuICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2Nyb3NzT3JpZ2luJywgJycpXHJcbiAgICAvL2NvbnNvbGUubG9nKGltZyk7XHJcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xyXG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XHJcbiAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XHJcbiAgICAvL2ltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdmFyIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIHJldHVybiBpbWFnZURhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRhdGFSR0JUb0hTTChkYXRhKXtcclxuICAgIHZhciBkYXRhSFNMID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgICBkYXRhSFNMLnB1c2goY29sb3JzeXMucmdiX3RvX2hzbCh7XHJcbiAgICAgICAgICAgIHI6IGRhdGFbaV0sXHJcbiAgICAgICAgICAgIGc6IGRhdGFbaSArIDFdLFxyXG4gICAgICAgICAgICBiOiBkYXRhW2kgKyAyXVxyXG4gICAgICAgIH0pKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZGF0YUhTTDtcclxufVxyXG5cclxuLy/Qs9C70LDQstC90LDRjyDRhNGD0L3QutGG0LjRjyDQv9GA0L7Qs9GA0LDQvNC80Ytcclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGRyYXcoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBkcmF3KCkge1xyXG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBnZXRJbWFnZURhdGFGcm9tRG9jdW1lbnRJbWFnZSgpO1xyXG4gICAgICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XHJcbiAgICAgICAgdmFyIHRlbXBIU0wsIHRlbXBSR0I7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhLmxlbmd0aCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIGRhdGFIU0wgPSBkYXRhUkdCVG9IU0woZGF0YSk7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gdGVtcGxhdGVfYmFzZTE7XHJcbiAgICAgICAgdmFyIG1pblN1bURpc3RhbmNlID0gSW5maW5pdHk7XHJcbiAgICAgICAgdmFyIGJlc3RBbmdsZSA9IDA7XHJcbiAgICAgICAgLy/Qv9C10YDQtdCx0LjRgNCw0LXQvCDQstC+0LfQvNC+0LbQvdGL0LUg0YPQs9C70Ysg0L/QvtCy0L7RgNC+0YLQsCDRiNCw0LHQu9C+0L3QsFxyXG4gICAgICAgIGZvciAodmFyIGFuZ2xlID0gMDsgYW5nbGUgPD0gMzYwOyBhbmdsZSArPSBhbmdsZVN0ZXApIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8v0L/QvtCy0L7RgNCw0YfQuNCy0LDQtdC8INGI0LDQsdC70L7QvVxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlUm90YXRlKHRlbXBsYXRlX2Jhc2UxLCBhbmdsZSk7XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGFIU0xbMF0pO1xyXG5cclxuICAgICAgICAgICAgLy/RgdGH0LjRgtCw0LXQvCDRgdGD0LzQvNGDINGA0LDRgdGC0L7Rj9C90LjQuSDQv9C40LrRgdC70LXQuSDQtNC+INCx0LvQuNC20LDQudGJ0LXQuSDQs9GA0LDQvdC40YbRiyDQvdC+0LLQvtCz0L4g0YjQsNCx0LvQvtC90LBcclxuICAgICAgICAgICAgdmFyIHN1bSA9IGRhdGFIU0wucmVkdWNlKChzdW0sIHBpeGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHN1bSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VtICsgbWluQm9yZGVyRGlzdGFuY2UocGl4ZWwsIHRlbXBsYXRlKS5kaXN0YW5jZTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIC8vIGRhdGFIU0wuZm9yRWFjaCgocGl4ZWwpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIC8vY29uc29sZS5sb2coc3VtKTtcclxuICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSkpO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgICAgIC8v0LXRgdC70Lgg0YHRg9C80LzQsCDRgdGC0LDQu9CwINC80LXQvdGM0YjQtSwg0YfQtdC8INC00LvRjyDQv9GA0LXQtNGL0LTRg9GJ0LjRhSDRiNCw0LHQu9C+0L3QvtCyIC0g0LfQsNC/0L7QvNC40L3QsNC10Lwg0Y3RgtC+0YIg0YjQsNCx0LvQvtC9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwibWluU3VtRGlzdGFuY2U6IFwiICsgbWluU3VtRGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInN1bTogXCIgKyBzdW0pO1xyXG4gICAgICAgICAgICBpZiAobWluU3VtRGlzdGFuY2UgPiBzdW0pIHtcclxuICAgICAgICAgICAgICAgIGJlc3RBbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhbmdsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWluU3VtRGlzdGFuY2UgPSBNYXRoLm1pbihtaW5TdW1EaXN0YW5jZSwgc3VtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v0L/QvtC70YPRh9C10Lwg0YHQtdC60YbQuNC4INC40LTQtdCw0LvRjNC90L7Qs9C+INGI0LDQsdC70L7QvdCwXHJcbiAgICAgICAgLy8gdGVtcGxhdGUgPSB0ZW1wbGF0ZTEubWFwKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4ge1wiYmVnXCI6IHZhbHVlLmJlZytiZXN0QW5nbGUsIFwiZW5kXCI6IHZhbHVlLmVuZCtiZXN0QW5nbGV9O1xyXG4gICAgICAgIC8vIH0pXHJcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZVJvdGF0ZSh0ZW1wbGF0ZV9iYXNlMSwgYW5nbGUpO1xyXG5cclxuICAgICAgICAvL9C/0L7Qu9GD0YfQsNC10Lwg0LHQu9C40LbQsNC50YnQuNC1INCz0YDQsNC90LjRhtGLINC00LvRjyDQv9C40LrRgdC10LvQtdC5XHJcbiAgICAgICAgZGF0YUhTTCA9IGRhdGFIU0wubWFwKChwaXhlbCkgPT4ge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSkuZGlzdGFuY2UpO1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIHBpeGVsLmRpc3RhbmNlID0gZGF0YS5kaXN0YW5jZTtcclxuICAgICAgICAgICAgcGl4ZWwuYm9yZGVyID0gZGF0YS5ib3JkZXI7XHJcbiAgICAgICAgICAgIHJldHVybiBwaXhlbDtcclxuICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgLy8gZGF0YUhTTC5mb3JFYWNoKChpKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGkuaCk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGJlc3RBbmdsZSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhtaW5Cb3JkZXJEaXN0YW5jZSh7IFwiaFwiOiA1MH0sIHRlbXBsYXRlMSkpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coZ2F1c3NpYW4oZ2F1c01lYW4sIGdhdXNWYXJpYW5jZSkucGRmKDApKTtcclxuICAgICAgICB2YXIgbmV3ZGF0YUhTTCA9IGdldE5ld2RhdGFIU0woZGF0YUhTTCk7XHJcblxyXG4gICAgICAgIC8vIG5ld2RhdGFIU0wuZm9yRWFjaCgoaSkgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhpLmgpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICB2YXIgYXBwbHlDb2xvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBuZXdkYXRhSFNMLmZvckVhY2goKHBpeGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHBpeGVsKTtcclxuICAgICAgICAgICAgICAgIGlmIChwaXhlbC5oID4gMzYwKSBwaXhlbC5oLT0zNjA7XHJcbiAgICAgICAgICAgICAgICB0ZW1wUkdCID0gY29sb3JzeXMuaHNsVG9SZ2Ioe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiaFwiOiBwaXhlbC5oLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiBwaXhlbC5zLFxyXG4gICAgICAgICAgICAgICAgICAgIFwibFwiOiBwaXhlbC5sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRlbXBSR0Iucik7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhW2ldKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRlbXBSR0IuZyk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhW2krMV0pO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGVtcFJHQi5iKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGFbaSsyXSk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGNvbG9yc3lzLnJvdGF0ZUh1ZSgyMDAsIDIwMCkpO1xyXG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IHRlbXBSR0IuciAvL2RhdGFbaV07ICAgICAvLyByZWRcclxuICAgICAgICAgICAgICAgIGRhdGFbaSArIDFdID0gdGVtcFJHQi5nIC8vZGF0YVtpICsgMV07IC8vIGdyZWVuXHJcbiAgICAgICAgICAgICAgICBkYXRhW2kgKyAyXSA9IHRlbXBSR0IuYiAvL2RhdGFbaSArIDJdOyAvLyBibHVlXHJcbiAgICAgICAgICAgICAgICBpKz00O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgY3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcItCf0YDQvtCz0YDQsNC80LzQsCDQstGL0L/QvtC70L3QtdC90LAg0YPRgdC/0LXRiNC90L4hXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXBwbHlDb2xvcigpO1xyXG5cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=