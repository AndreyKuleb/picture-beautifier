!function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){var r=t.exports={};function o(t){return(t%360+360)%360}function n(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}r.rgb2Hsl=function(t,e,r){if("object"==typeof t){const o=t;t=o.r,e=o.g,r=o.b}t=255===t?1:t%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255),r=255===r?1:r%255/parseFloat(255);var o,n,s=Math.max(t,e,r),a=Math.min(t,e,r),h=(s+a)/2;if(s===a)o=n=0;else{var u=s-a;switch(n=h>.5?u/(2-s-a):u/(s+a),s){case t:o=(e-r)/u+(e<r?6:0);break;case e:o=(r-t)/u+2;break;case r:o=(t-e)/u+4}o/=6}return{h:Math.round(360*o),s:Math.round(100*n),l:Math.round(100*h)}},r.rgb_to_hsl=r.rgbToHsl=r.rgb2Hsl,r.rgb2Hsv=function(t,e,r){if("object"==typeof t){const o=t;t=o.r,e=o.g,r=o.b}t=255===t?1:t%255/parseFloat(255),e=255===e?1:e%255/parseFloat(255),r=255===r?1:r%255/parseFloat(255);var o,n,s=Math.max(t,e,r),a=Math.min(t,e,r),h=s,u=s-a;if(n=0===s?0:u/s,s===a)o=0;else{switch(s){case t:o=(e-r)/u+(e<r?6:0);break;case e:o=(r-t)/u+2;break;case r:o=(t-e)/u+4}o/=6}return{h:Math.round(360*o),s:Math.round(100*n),v:Math.round(100*h)}},r.rgb_to_hsv=r.rgbToHsv=r.rgb2Hsv,r.hsl2Rgb=function(t,e,r){if("object"==typeof t){const o=t;t=o.h,e=o.s,r=o.l}var s,a,h;if(t=360===(t=o(t))?1:t%360/parseFloat(360),e=100===e?1:e%100/parseFloat(100),r=100===r?1:r%100/parseFloat(100),0===e)s=a=h=r;else{var u=r<.5?r*(1+e):r+e-r*e,c=2*r-u;s=n(c,u,t+1/3),a=n(c,u,t),h=n(c,u,t-1/3)}return{r:Math.round(255*s),g:Math.round(255*a),b:Math.round(255*h)}},r.hsl_to_rgb=r.hslToRgb=r.hsl2Rgb,r.hsv2Rgb=function(t,e,r){if("object"==typeof t){const o=t;t=o.h,e=o.s,r=o.v}t=360===(t=o(t))?1:t%360/parseFloat(360)*6,e=100===e?1:e%100/parseFloat(100),r=100===r?1:r%100/parseFloat(100);var n=Math.floor(t),s=t-n,a=r*(1-e),h=r*(1-s*e),u=r*(1-(1-s)*e),c=n%6,i=[r,h,a,a,u,r][c],b=[u,r,r,h,a,a][c],g=[a,a,u,r,r,h][c];return{r:Math.floor(255*i),g:Math.floor(255*b),b:Math.floor(255*g)}},r.hsv_to_rgb=r.hsv2Rgb,r.hsvToRgb=r.hsv2Rgb,r.rgb2Hex=function(t,e,r){if("object"==typeof t){const o=t;t=o.r,e=o.g,r=o.b}return t=Math.round(t).toString(16),e=Math.round(e).toString(16),r=Math.round(r).toString(16),"#"+(t=1===t.length?"0"+t:t)+(e=1===e.length?"0"+e:e)+(r=1===r.length?"0"+r:r)},r.rgb_to_hex=r.rgbToHex=r.rgb2Hex,r.hex2Rgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},r.hex_to_rgb=r.hexToRgb=r.hex2Rgb,r.hsv2Hex=function(t,e,o){var n=r.hsv2Rgb(t,e,o);return r.rgb2Hex(n.r,n.g,n.b)},r.hsv_to_hex=r.hsv2Hex,r.hsvToHex=r.hsv2Hex,r.hex2Hsv=function(t){var e=r.hex2Rgb(t);return r.rgb2Hsv(e.r,e.g,e.b)},r.hex_to_hsv=r.hexToHsv=r.hex2Hsv,r.hsl2Hex=function(t,e,o){var n=r.hsl2Rgb(t,e,o);return r.rgb2Hex(n.r,n.g,n.b)},r.hsl_to_hex=r.hslToHex=r.hsl2Hex,r.hex2Hsl=function(t){var e=r.hex2Rgb(t);return r.rgb2Hsl(e.r,e.g,e.b)},r.hex_to_hsl=r.hexToHsl=r.hex2Hsl,r.rgb2Cmyk=function(t,e,r){if("object"==typeof t){const o=t;t=o.r,e=o.g,r=o.b}var o=t/255,n=e/255,s=r/255,a=1-Math.max(o,n,s),h=(1-n-a)/(1-a),u=(1-s-a)/(1-a);return{c:((1-o-a)/(1-a)).toFixed(3),m:h.toFixed(3),y:u.toFixed(3),k:a.toFixed(3)}},r.rgb_to_cmyk=r.rgbToCmyk=r.rgb2Cmyk,r.cmyk2Rgb=function(t,e,r,o){if("object"==typeof t){const n=t;t=n.c,e=n.m,r=n.y,o=n.k}var n=255*(1-t)*(1-o),s=255*(1-e)*(1-o),a=255*(1-r)*(1-o);return{r:Math.floor(n),g:Math.floor(s),b:Math.floor(a)}},r.cmyk_to_rgb=r.cmykToRgb=r.cmyk2Rgb,r.hsv2Hsl=function(t,e,r){if("object"==typeof t){const o=t;t=o.h,e=o.s,r=o.v}var o=(2-e)*r/2;return 0!==o&&(e=100===o?0:o<50?e*r/(2*o):e*r/(2-2*o)),{h:t,s:e,l:o}},r.hsv_to_hsl=r.hsvToHsl=r.hsv2Hsl,r.hsl2Hsv=function(t,e,r){if("object"==typeof t){const o=t;t=o.h,e=o.s,r=o.l}return e*=r<50?r:100-r,{h:t,s:Math.floor(2*e/(r+e)),v:Math.floor(r+e)}},r.hsl_to_hsv=r.hslToHsv=r.hsl2Hsv,r.parseCss=function(t){if(t.indexOf("#")>-1)return r.hex2Rgb(t);const e=t.split("(")[0],o=t.split("(")[1].split(")")[0].split(",");return e.split("").reduce(function(t,e,r){const n=t;return n[e]=parseFloat(o[r]),n},{})},r.parse_css=r.parseCss,r.stringify=function(t){return Object.keys(t).join("")+"("+Object.keys(t).map(function(e){var r=t[e];return"s"!==e&&"v"!==e&&"l"!==e||(r+="%"),r}).join(", ")+")"},r.random=function(){return"#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).substr(-6)},r.rotateHue=function(t,e){void 0===e&&(e=0);const r="object"==typeof t?(t.h+e)%360:(t+e)%360,o=r<0?360+r:r;return"object"==typeof t?Object.assign(t,{h:o}):o}},function(t,e,r){"use strict";var o=r(0),n=[{beg:0,end:94},{beg:180,end:274}],s=10;function a(t,e){return e.reduce(function(e,r){return 0==e?0:r.beg<t.h&&r.end>t.h?0:r.beg<t.h+360&&r.end>t.h+360?0:Math.min(Math.abs(t.h-r.beg),Math.abs(t.h-r.end),Math.abs(t.h+360-r.beg),Math.abs(t.h+360-r.end),e)},1e3)}window.onload=function(){!function(){var t=document.getElementsByTagName("img")[0];t.crossOrigin="Anonymous",t.setAttribute("crossOrigin","");var e=document.getElementById("canvas"),r=e.getContext("2d");e.width=t.width,e.height=t.height,r.drawImage(t,0,0);for(var h=r.getImageData(0,0,e.width,e.height),u=h.data,c=[],i=0;i<u.length;i+=4)c.push(o.rgb_to_hsl({r:u[i],g:u[i+1],b:u[i+2]}));for(var b=n,g=1/0,l=0,f=0;f<=360;f+=s){b=n.map(function(t){return{beg:t.beg+f,end:t.end+f}}),console.log(c[0]);var v=c.reduce(function(t,e){return t+a(e,b)},0);g>v&&(l=f),g=Math.min(g,v)}console.log(l)}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbG9yc3lzL2NvbG9yc3lzLmpzIiwid2VicGFjazovLy8uL2pzL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbG9yc3lzIiwiX25vcm1hbGl6ZUFuZ2xlIiwiZGVncmVlcyIsIl9odWUyUmdiIiwicSIsInQiLCJyZ2IySHNsIiwiZyIsImIiLCJhcmdzIiwicGFyc2VGbG9hdCIsImgiLCJtYXgiLCJNYXRoIiwibWluIiwicm91bmQiLCJyZ2JfdG9faHNsIiwicmdiVG9Ic2wiLCJyZ2IySHN2IiwidiIsInJnYl90b19oc3YiLCJyZ2JUb0hzdiIsImhzbDJSZ2IiLCJoc2xfdG9fcmdiIiwiaHNsVG9SZ2IiLCJoc3YyUmdiIiwiZmxvb3IiLCJmIiwibW9kIiwiaHN2X3RvX3JnYiIsImhzdlRvUmdiIiwicmdiMkhleCIsInRvU3RyaW5nIiwibGVuZ3RoIiwicmdiX3RvX2hleCIsInJnYlRvSGV4IiwiaGV4MlJnYiIsImhleCIsInJlc3VsdCIsImV4ZWMiLCJwYXJzZUludCIsImhleF90b19yZ2IiLCJoZXhUb1JnYiIsImhzdjJIZXgiLCJyZ2IiLCJoc3ZfdG9faGV4IiwiaHN2VG9IZXgiLCJoZXgySHN2IiwiaGV4X3RvX2hzdiIsImhleFRvSHN2IiwiaHNsMkhleCIsImhzbF90b19oZXgiLCJoc2xUb0hleCIsImhleDJIc2wiLCJoZXhfdG9faHNsIiwiaGV4VG9Ic2wiLCJyZ2IyQ215ayIsInJwcmltIiwiZ3ByaW0iLCJicHJpbSIsImsiLCJ5IiwidG9GaXhlZCIsInJnYl90b19jbXlrIiwicmdiVG9DbXlrIiwiY215azJSZ2IiLCJjbXlrX3RvX3JnYiIsImNteWtUb1JnYiIsImhzdjJIc2wiLCJTVl9NQVgiLCJoc3ZfdG9faHNsIiwiaHN2VG9Ic2wiLCJoc2wySHN2IiwiaHNsX3RvX2hzdiIsImhzbFRvSHN2IiwicGFyc2VDc3MiLCJjc3NTdHJpbmciLCJpbmRleE9mIiwicHJlZml4Iiwic3BsaXQiLCJyZWR1Y2UiLCJjb2xvciIsInBhcmFtIiwiaWR4IiwibmV4dENvbG9yIiwicGFyc2VfY3NzIiwic3RyaW5naWZ5Iiwib2JqIiwia2V5cyIsImpvaW4iLCJtYXAiLCJrZXkiLCJ2YWwiLCJyYW5kb20iLCJzdWJzdHIiLCJyb3RhdGVIdWUiLCJodWUiLCJhbW91bnQiLCJhdXgiLCJuZXh0SHVlIiwiYXNzaWduIiwidGVtcGxhdGUxIiwiYmVnIiwiZW5kIiwiYW5nbGVTdGVwIiwibWluQm9yZGVyRGlzdGFuY2UiLCJwaXhlbCIsInRlbXBsYXRlIiwiZGlzdGFuY2UiLCJzZWN0aW9uIiwiYWJzIiwid2luZG93Iiwib25sb2FkIiwiaW1nIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNyb3NzT3JpZ2luIiwic2V0QXR0cmlidXRlIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJjdHgiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3SW1hZ2UiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJkYXRhIiwiZGF0YUhTTCIsInB1c2giLCJtaW5TdW1EaXN0YW5jZSIsIkluZmluaXR5IiwiYmVzdEFuZ2xlIiwiYW5nbGUiLCJjb25zb2xlIiwibG9nIiwic3VtIiwiZHJhdyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFB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akNDLEVBQU1GLEVBQU9HLFdBQVcsTUFDNUJILEVBQU9JLE1BQVFULEVBQUlTLE1BQ25CSixFQUFPSyxPQUFTVixFQUFJVSxPQUNwQkgsRUFBSUksVUFBVVgsRUFBSyxFQUFHLEdBUXRCLElBTEEsSUFBSVksRUFBWUwsRUFBSU0sYUFBYSxFQUFHLEVBQUdSLEVBQU9JLE1BQU9KLEVBQU9LLFFBQ3hESSxFQUFPRixFQUFVRSxLQUdqQkMsS0FDS3pKLEVBQUksRUFBR0EsRUFBSXdKLEVBQUs5RixPQUFRMUQsR0FBSyxFQUNsQ3lKLEVBQVFDLEtBQUtqSSxFQUFTZ0IsWUFBYTFCLEVBQUd5SSxFQUFLeEosR0FBSWdDLEVBQUd3SCxFQUFLeEosRUFBSSxHQUFJaUMsRUFBR3VILEVBQUt4SixFQUFJLE1BTy9FLElBSkEsSUFBSW9JLEVBQVdOLEVBQ1g2QixFQUFpQkMsSUFDakJDLEVBQVksRUFFUEMsRUFBUSxFQUFHQSxHQUFPLElBQUtBLEdBQU83QixFQUFVLENBRTdDRyxFQUFXTixFQUFVWCxJQUFJLFNBQUNuRyxHQUN0QixPQUFRK0csSUFBTy9HLEVBQU0rRyxJQUFJK0IsRUFBTzlCLElBQU9oSCxFQUFNZ0gsSUFBSThCLEtBR3JEQyxRQUFRQyxJQUFJUCxFQUFRLElBRXBCLElBQUlRLEVBQU1SLEVBQVFoRCxPQUFPLFNBQUN3RCxFQUFLOUIsR0FFM0IsT0FBTzhCLEVBQU0vQixFQUFrQkMsRUFBT0MsSUFDdkMsR0FVQ3VCLEVBQWlCTSxJQUNqQkosRUFBWUMsR0FHaEJILEVBQWlCckgsS0FBS0MsSUFBSW9ILEVBQWdCTSxHQUc5Q0YsUUFBUUMsSUFBSUgsR0F2RGhCSyIsImZpbGUiOiIuL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJcbmNvbnN0IFJHQl9NQVggPSAyNTVcbmNvbnN0IEhVRV9NQVggPSAzNjBcbmNvbnN0IFNWX01BWCA9IDEwMFxuXG52YXIgY29sb3JzeXMgPSBtb2R1bGUuZXhwb3J0cyA9IHt9XG5cbmNvbG9yc3lzLnJnYjJIc2wgPSBmdW5jdGlvbiAociwgZywgYikge1xuICBpZiAodHlwZW9mIHIgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IHJcbiAgICByID0gYXJncy5yOyBnID0gYXJncy5nOyBiID0gYXJncy5iO1xuICB9XG4gIC8vIEl0IGNvbnZlcnRzIFswLDI1NV0gZm9ybWF0LCB0byBbMCwxXVxuICByID0gKHIgPT09IFJHQl9NQVgpID8gMSA6IChyICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG4gIGcgPSAoZyA9PT0gUkdCX01BWCkgPyAxIDogKGcgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcbiAgYiA9IChiID09PSBSR0JfTUFYKSA/IDEgOiAoYiAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuXG4gIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKVxuICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYilcbiAgdmFyIGgsIHMsIGwgPSAobWF4ICsgbWluKSAvIDJcblxuICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICBoID0gcyA9IDAgLy8gYWNocm9tYXRpY1xuICB9IGVsc2Uge1xuICAgIHZhciBkID0gbWF4IC0gbWluXG4gICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pXG4gICAgc3dpdGNoIChtYXgpIHtcbiAgICAgIGNhc2UgcjpcbiAgICAgICAgaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIGc6XG4gICAgICAgIGggPSAoYiAtIHIpIC8gZCArIDJcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgYjpcbiAgICAgICAgaCA9IChyIC0gZykgLyBkICsgNFxuICAgICAgICBicmVha1xuICAgIH1cbiAgICBoIC89IDZcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaDogTWF0aC5yb3VuZChoICogSFVFX01BWCksXG4gICAgczogTWF0aC5yb3VuZChzICogU1ZfTUFYKSxcbiAgICBsOiBNYXRoLnJvdW5kKGwgKiBTVl9NQVgpXG4gIH1cbn1cblxuY29sb3JzeXMucmdiX3RvX2hzbCA9IGNvbG9yc3lzLnJnYlRvSHNsID0gY29sb3JzeXMucmdiMkhzbFxuXG5jb2xvcnN5cy5yZ2IySHN2ID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSByXG4gICAgciA9IGFyZ3MucjsgZyA9IGFyZ3MuZzsgYiA9IGFyZ3MuYjtcbiAgfVxuXG4gIC8vIEl0IGNvbnZlcnRzIFswLDI1NV0gZm9ybWF0LCB0byBbMCwxXVxuICByID0gKHIgPT09IFJHQl9NQVgpID8gMSA6IChyICUgUkdCX01BWCAvIHBhcnNlRmxvYXQoUkdCX01BWCkpXG4gIGcgPSAoZyA9PT0gUkdCX01BWCkgPyAxIDogKGcgJSBSR0JfTUFYIC8gcGFyc2VGbG9hdChSR0JfTUFYKSlcbiAgYiA9IChiID09PSBSR0JfTUFYKSA/IDEgOiAoYiAlIFJHQl9NQVggLyBwYXJzZUZsb2F0KFJHQl9NQVgpKVxuXG4gIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKVxuICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYilcbiAgdmFyIGgsIHMsIHYgPSBtYXhcblxuICB2YXIgZCA9IG1heCAtIG1pblxuXG4gIHMgPSBtYXggPT09IDAgPyAwIDogZCAvIG1heFxuXG4gIGlmIChtYXggPT09IG1pbikge1xuICAgIGggPSAwIC8vIGFjaHJvbWF0aWNcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgY2FzZSByOlxuICAgICAgICBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgZzpcbiAgICAgICAgaCA9IChiIC0gcikgLyBkICsgMlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBiOlxuICAgICAgICBoID0gKHIgLSBnKSAvIGQgKyA0XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIGggLz0gNlxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoOiBNYXRoLnJvdW5kKGggKiBIVUVfTUFYKSxcbiAgICBzOiBNYXRoLnJvdW5kKHMgKiBTVl9NQVgpLFxuICAgIHY6IE1hdGgucm91bmQodiAqIFNWX01BWClcbiAgfVxufVxuXG5jb2xvcnN5cy5yZ2JfdG9faHN2ID0gY29sb3JzeXMucmdiVG9Ic3YgPSBjb2xvcnN5cy5yZ2IySHN2XG5cbmNvbG9yc3lzLmhzbDJSZ2IgPSBmdW5jdGlvbiAoaCwgcywgbCkge1xuICBpZiAodHlwZW9mIGggPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGhcbiAgICBoID0gYXJncy5oOyBzID0gYXJncy5zOyBsID0gYXJncy5sO1xuICB9XG5cbiAgdmFyIHIsIGcsIGJcblxuICBoID0gX25vcm1hbGl6ZUFuZ2xlKGgpXG4gIGggPSAoaCA9PT0gSFVFX01BWCkgPyAxIDogKGggJSBIVUVfTUFYIC8gcGFyc2VGbG9hdChIVUVfTUFYKSlcbiAgcyA9IChzID09PSBTVl9NQVgpID8gMSA6IChzICUgU1ZfTUFYIC8gcGFyc2VGbG9hdChTVl9NQVgpKVxuICBsID0gKGwgPT09IFNWX01BWCkgPyAxIDogKGwgJSBTVl9NQVggLyBwYXJzZUZsb2F0KFNWX01BWCkpXG5cbiAgaWYgKHMgPT09IDApIHtcbiAgICByID0gZyA9IGIgPSBsIC8vIGFjaHJvbWF0aWNcbiAgfSBlbHNlIHtcbiAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgciA9IF9odWUyUmdiKHAsIHEsIGggKyAxIC8gMylcbiAgICBnID0gX2h1ZTJSZ2IocCwgcSwgaClcbiAgICBiID0gX2h1ZTJSZ2IocCwgcSwgaCAtIDEgLyAzKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByOiBNYXRoLnJvdW5kKHIgKiBSR0JfTUFYKSxcbiAgICBnOiBNYXRoLnJvdW5kKGcgKiBSR0JfTUFYKSxcbiAgICBiOiBNYXRoLnJvdW5kKGIgKiBSR0JfTUFYKSxcbiAgfVxufVxuXG5jb2xvcnN5cy5oc2xfdG9fcmdiID0gY29sb3JzeXMuaHNsVG9SZ2IgPSBjb2xvcnN5cy5oc2wyUmdiXG5cbmNvbG9yc3lzLmhzdjJSZ2IgPSBmdW5jdGlvbiAoaCwgcywgdikge1xuICBpZiAodHlwZW9mIGggPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGhcbiAgICBoID0gYXJncy5oOyBzID0gYXJncy5zOyB2ID0gYXJncy52O1xuICB9XG5cbiAgaCA9IF9ub3JtYWxpemVBbmdsZShoKVxuICBoID0gKGggPT09IEhVRV9NQVgpID8gMSA6IChoICUgSFVFX01BWCAvIHBhcnNlRmxvYXQoSFVFX01BWCkgKiA2KVxuICBzID0gKHMgPT09IFNWX01BWCkgPyAxIDogKHMgJSBTVl9NQVggLyBwYXJzZUZsb2F0KFNWX01BWCkpXG4gIHYgPSAodiA9PT0gU1ZfTUFYKSA/IDEgOiAodiAlIFNWX01BWCAvIHBhcnNlRmxvYXQoU1ZfTUFYKSlcblxuICB2YXIgaSA9IE1hdGguZmxvb3IoaClcbiAgdmFyIGYgPSBoIC0gaVxuICB2YXIgcCA9IHYgKiAoMSAtIHMpXG4gIHZhciBxID0gdiAqICgxIC0gZiAqIHMpXG4gIHZhciB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpXG4gIHZhciBtb2QgPSBpICUgNlxuICB2YXIgciA9IFt2LCBxLCBwLCBwLCB0LCB2XVttb2RdXG4gIHZhciBnID0gW3QsIHYsIHYsIHEsIHAsIHBdW21vZF1cbiAgdmFyIGIgPSBbcCwgcCwgdCwgdiwgdiwgcV1bbW9kXVxuXG4gIHJldHVybiB7XG4gICAgcjogTWF0aC5mbG9vcihyICogUkdCX01BWCksXG4gICAgZzogTWF0aC5mbG9vcihnICogUkdCX01BWCksXG4gICAgYjogTWF0aC5mbG9vcihiICogUkdCX01BWCksXG4gIH1cbn1cblxuY29sb3JzeXMuaHN2X3RvX3JnYiA9IGNvbG9yc3lzLmhzdjJSZ2JcbmNvbG9yc3lzLmhzdlRvUmdiID0gY29sb3JzeXMuaHN2MlJnYlxuXG5jb2xvcnN5cy5yZ2IySGV4ID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSByXG4gICAgciA9IGFyZ3MucjsgZyA9IGFyZ3MuZzsgYiA9IGFyZ3MuYjtcbiAgfVxuICByID0gTWF0aC5yb3VuZChyKS50b1N0cmluZygxNilcbiAgZyA9IE1hdGgucm91bmQoZykudG9TdHJpbmcoMTYpXG4gIGIgPSBNYXRoLnJvdW5kKGIpLnRvU3RyaW5nKDE2KVxuXG4gIHIgPSByLmxlbmd0aCA9PT0gMSA/ICcwJyArIHIgOiByXG4gIGcgPSBnLmxlbmd0aCA9PT0gMSA/ICcwJyArIGcgOiBnXG4gIGIgPSBiLmxlbmd0aCA9PT0gMSA/ICcwJyArIGIgOiBiXG5cbiAgcmV0dXJuICcjJyArIHIgKyBnICsgYlxufVxuXG5jb2xvcnN5cy5yZ2JfdG9faGV4ID0gY29sb3JzeXMucmdiVG9IZXggPSBjb2xvcnN5cy5yZ2IySGV4XG5cbmNvbG9yc3lzLmhleDJSZ2IgPSBmdW5jdGlvbiAoaGV4KSB7XG4gIHZhciByZXN1bHQgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KVxuICByZXR1cm4gcmVzdWx0ID8ge1xuICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgIGc6IHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpLFxuICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXG4gIH0gOiBudWxsXG59XG5cbmNvbG9yc3lzLmhleF90b19yZ2IgPSBjb2xvcnN5cy5oZXhUb1JnYiA9IGNvbG9yc3lzLmhleDJSZ2JcblxuY29sb3JzeXMuaHN2MkhleCA9IGZ1bmN0aW9uIChoLCBzLCB2KSB7XG4gIHZhciByZ2IgPSBjb2xvcnN5cy5oc3YyUmdiKGgsIHMsIHYpXG4gIHJldHVybiBjb2xvcnN5cy5yZ2IySGV4KHJnYi5yLCByZ2IuZywgcmdiLmIpXG59XG5cbmNvbG9yc3lzLmhzdl90b19oZXggPSBjb2xvcnN5cy5oc3YySGV4XG5jb2xvcnN5cy5oc3ZUb0hleCA9IGNvbG9yc3lzLmhzdjJIZXhcblxuY29sb3JzeXMuaGV4MkhzdiA9IGZ1bmN0aW9uIChoZXgpIHtcbiAgdmFyIHJnYiA9IGNvbG9yc3lzLmhleDJSZ2IoaGV4KVxuICByZXR1cm4gY29sb3JzeXMucmdiMkhzdihyZ2IuciwgcmdiLmcsIHJnYi5iKVxufVxuXG5jb2xvcnN5cy5oZXhfdG9faHN2ID0gY29sb3JzeXMuaGV4VG9Ic3YgPSBjb2xvcnN5cy5oZXgySHN2XG5cbmNvbG9yc3lzLmhzbDJIZXggPSBmdW5jdGlvbiAoaCwgcywgbCkge1xuICB2YXIgcmdiID0gY29sb3JzeXMuaHNsMlJnYihoLCBzLCBsKVxuICByZXR1cm4gY29sb3JzeXMucmdiMkhleChyZ2IuciwgcmdiLmcsIHJnYi5iKVxufVxuXG5jb2xvcnN5cy5oc2xfdG9faGV4ID0gY29sb3JzeXMuaHNsVG9IZXggPSBjb2xvcnN5cy5oc2wySGV4XG5cbmNvbG9yc3lzLmhleDJIc2wgPSBmdW5jdGlvbiAoaGV4KSB7XG4gIHZhciByZ2IgPSBjb2xvcnN5cy5oZXgyUmdiKGhleClcbiAgcmV0dXJuIGNvbG9yc3lzLnJnYjJIc2wocmdiLnIsIHJnYi5nLCByZ2IuYilcbn1cblxuY29sb3JzeXMuaGV4X3RvX2hzbCA9IGNvbG9yc3lzLmhleFRvSHNsID0gY29sb3JzeXMuaGV4MkhzbFxuXG5jb2xvcnN5cy5yZ2IyQ215ayA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gIGlmICh0eXBlb2YgciA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBhcmdzID0gclxuICAgIHIgPSBhcmdzLnI7IGcgPSBhcmdzLmc7IGIgPSBhcmdzLmI7XG4gIH1cblxuICB2YXIgcnByaW0gPSByIC8gMjU1XG4gIHZhciBncHJpbSA9IGcgLyAyNTVcbiAgdmFyIGJwcmltID0gYiAvIDI1NVxuXG4gIHZhciBrID0gMSAtIE1hdGgubWF4KHJwcmltLCBncHJpbSwgYnByaW0pXG5cbiAgdmFyIGMgPSAoMSAtIHJwcmltIC0gaykgLyAoMSAtIGspXG4gIHZhciBtID0gKDEgLSBncHJpbSAtIGspIC8gKDEgLSBrKVxuICB2YXIgeSA9ICgxIC0gYnByaW0gLSBrKSAvICgxIC0gaylcblxuICByZXR1cm4ge1xuICAgIGM6IGMudG9GaXhlZCgzKSxcbiAgICBtOiBtLnRvRml4ZWQoMyksXG4gICAgeTogeS50b0ZpeGVkKDMpLFxuICAgIGs6IGsudG9GaXhlZCgzKVxuICB9XG59XG5cbmNvbG9yc3lzLnJnYl90b19jbXlrID0gY29sb3JzeXMucmdiVG9DbXlrID0gY29sb3JzeXMucmdiMkNteWtcblxuY29sb3JzeXMuY215azJSZ2IgPSBmdW5jdGlvbiAoYywgbSwgeSwgaykge1xuICBpZiAodHlwZW9mIGMgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgYXJncyA9IGNcbiAgICBjID0gYXJncy5jOyBtID0gYXJncy5tOyB5ID0gYXJncy55OyBrID0gYXJncy5rO1xuICB9XG5cbiAgdmFyIHIgPSAyNTUgKiAoMSAtIGMpICogKDEgLSBrKVxuICB2YXIgZyA9IDI1NSAqICgxIC0gbSkgKiAoMSAtIGspXG4gIHZhciBiID0gMjU1ICogKDEgLSB5KSAqICgxIC0gaylcblxuICByZXR1cm4ge1xuICAgIHI6IE1hdGguZmxvb3IociksXG4gICAgZzogTWF0aC5mbG9vcihnKSxcbiAgICBiOiBNYXRoLmZsb29yKGIpXG4gIH1cbn1cblxuY29sb3JzeXMuY215a190b19yZ2IgPSBjb2xvcnN5cy5jbXlrVG9SZ2IgPSBjb2xvcnN5cy5jbXlrMlJnYlxuXG5jb2xvcnN5cy5oc3YySHNsID0gZnVuY3Rpb24gKGgsIHMsIHYpIHtcbiAgaWYgKHR5cGVvZiBoID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSBoXG4gICAgaCA9IGFyZ3MuaDsgcyA9IGFyZ3MuczsgdiA9IGFyZ3MudjtcbiAgfVxuXG4gIHZhciBsID0gKDIgLSBzKSAqIHYgLyAyXG5cbiAgaWYgKGwgIT09IDApIHtcbiAgICBpZiAobCA9PT0gU1ZfTUFYKSB7XG4gICAgICBzID0gMFxuICAgIH0gZWxzZSBpZiAobCA8IFNWX01BWCAvIDIpIHtcbiAgICAgIHMgPSBzICogdiAvIChsICogMilcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IHMgKiB2IC8gKDIgLSBsICogMilcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBoOiBoLCBzOiBzLCBsOiBsIH1cbn1cblxuY29sb3JzeXMuaHN2X3RvX2hzbCA9IGNvbG9yc3lzLmhzdlRvSHNsID0gY29sb3JzeXMuaHN2MkhzbFxuXG5jb2xvcnN5cy5oc2wySHN2ID0gZnVuY3Rpb24gKGgsIHMsIGwpIHtcbiAgaWYgKHR5cGVvZiBoID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGFyZ3MgPSBoXG4gICAgaCA9IGFyZ3MuaDsgcyA9IGFyZ3MuczsgbCA9IGFyZ3MubDtcbiAgfVxuXG4gIHMgPSBzICogKGwgPCA1MCA/IGwgOiAoMTAwIC0gbCkpXG5cbiAgcmV0dXJuIHtcbiAgICBoOiBoLFxuICAgIHM6IE1hdGguZmxvb3IoMiAqIHMgLyAobCArIHMpKSxcbiAgICB2OiBNYXRoLmZsb29yKGwgKyBzKSxcbiAgfVxufVxuXG5jb2xvcnN5cy5oc2xfdG9faHN2ID0gY29sb3JzeXMuaHNsVG9Ic3YgPSBjb2xvcnN5cy5oc2wySHN2XG5cbi8qKlxuKiBQYXJzZXMgdmFsdWVzIGZyb20gYSBzdHJpbmcgaW50byBhIGphdmFzY3JpcHQgb2JqZWN0XG4qIGUuZzogaHNsYSgxNDAsIDMwJSwgNDAlLCAuNSkgPT4geyBoOiAxNDAsIHM6IDMwLCBsOiA0MCwgYWxwaGE6IDAuNX1cbiovXG5jb2xvcnN5cy5wYXJzZUNzcyA9IGZ1bmN0aW9uIChjc3NTdHJpbmcpIHtcbiAgaWYgKGNzc1N0cmluZy5pbmRleE9mKCcjJykgPiAtMSkge1xuICAgIHJldHVybiBjb2xvcnN5cy5oZXgyUmdiKGNzc1N0cmluZylcbiAgfVxuXG4gIGNvbnN0IHByZWZpeCA9IGNzc1N0cmluZy5zcGxpdCgnKCcpWzBdXG4gIGNvbnN0IGFyZ3MgPSBjc3NTdHJpbmcuc3BsaXQoJygnKVsxXS5zcGxpdCgnKScpWzBdLnNwbGl0KCcsJylcblxuICAvLyBVc2UgdGhlIHByZWZpeCBhcyBhbiBhcnJheSBbciwgZywgYiwgYV0gdG8gcGFyc2UgdGhlIGNvbG91cnNcbiAgcmV0dXJuIHByZWZpeC5zcGxpdCgnJykucmVkdWNlKGZ1bmN0aW9uIChjb2xvciwgcGFyYW0sIGlkeCkge1xuICAgIGNvbnN0IG5leHRDb2xvciA9IGNvbG9yXG4gICAgbmV4dENvbG9yW3BhcmFtXSA9IHBhcnNlRmxvYXQoYXJnc1tpZHhdKVxuICAgIHJldHVybiBuZXh0Q29sb3JcbiAgfSwge30pXG59XG5cbmNvbG9yc3lzLnBhcnNlX2NzcyA9IGNvbG9yc3lzLnBhcnNlQ3NzXG5cbmNvbG9yc3lzLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgY29uc3QgcHJlZml4ID0gT2JqZWN0LmtleXMob2JqKS5qb2luKCcnKVxuICBjb25zdCB2YWx1ZXMgPSBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbCA9IG9ialtrZXldXG4gICAgaWYgKGtleSA9PT0gJ3MnIHx8wqBrZXkgPT09ICd2JyB8fCBrZXkgPT09ICdsJykge1xuICAgICAgdmFsID0gdmFsICsgJyUnXG4gICAgfVxuICAgIHJldHVybiB2YWxcbiAgfSlcbiAgcmV0dXJuIHByZWZpeCArICcoJyArIHZhbHVlcy5qb2luKCcsICcpICsgJyknXG59XG5cbi8vIFdpbGwgcmV0dXJuIGEgcmFuZG9tIGhleCBjb2xvdXJcbmNvbG9yc3lzLnJhbmRvbSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgYmFzZSA9ICcwMDAwMDAnXG4gIGNvbnN0IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2Nzc3MjE1KS50b1N0cmluZygxNilcbiAgcmV0dXJuICcjJyArIChiYXNlICsgbnVtYmVyKS5zdWJzdHIoLTYpXG59XG5cbmNvbG9yc3lzLnJvdGF0ZUh1ZSA9IGZ1bmN0aW9uIChodWUsIGFtb3VudCkge1xuICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMDsgfVxuICBjb25zdCBhdXggPSB0eXBlb2YgaHVlID09PSAnb2JqZWN0J1xuICAgICAgPyAoaHVlLmggKyBhbW91bnQpICUgMzYwXG4gICAgICA6IChodWUgKyBhbW91bnQpICUgMzYwXG4gICAgICBcbiAgY29uc3QgbmV4dEh1ZSA9IGF1eCA8IDAgPyAoMzYwICsgYXV4KSA6IGF1eFxuICByZXR1cm4gdHlwZW9mIGh1ZSA9PT0gJ29iamVjdCdcbiAgICAgID8gT2JqZWN0LmFzc2lnbihodWUsIHsgaDogbmV4dEh1ZSB9KVxuICAgICAgOiBuZXh0SHVlXG59XG5cbmZ1bmN0aW9uIF9ub3JtYWxpemVBbmdsZSAoZGVncmVlcykge1xuICByZXR1cm4gKGRlZ3JlZXMgJSAzNjAgKyAzNjApICUgMzYwO1xufVxuXG5mdW5jdGlvbiBfaHVlMlJnYiAocCwgcSwgdCkge1xuICBpZiAodCA8IDApIHQgKz0gMVxuICBpZiAodCA+IDEpIHQgLT0gMVxuICBpZiAodCA8IDEgLyA2KSByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdFxuICBpZiAodCA8IDEgLyAyKSByZXR1cm4gcVxuICBpZiAodCA8IDIgLyAzKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDZcbiAgcmV0dXJuIHBcbn1cbiIsInZhciBjb2xvcnN5cyA9IHJlcXVpcmUoJ2NvbG9yc3lzJyk7XHJcbmNvbnN0IHRlbXBsYXRlMSA9IFt7YmVnOiAwLCBlbmQ6IDk0fSwge2JlZzogMTgwLCBlbmQ6IDI3NH0gXTtcclxuY29uc3QgYW5nbGVTdGVwID0gMTA7XHJcblxyXG4vKiBcclxuICAgIHJlc3VsdCAtMSAtINCy0L3Rg9GC0YDQuCDQs9GA0LDQvdC40YbRiztcclxuICAgIHJlc3VsdCA+PTAgLSDQstC90LUg0LPRgNCw0L3QuNGG0Ys7XHJcbiovXHJcbmZ1bmN0aW9uIG1pbkJvcmRlckRpc3RhbmNlKHBpeGVsLCB0ZW1wbGF0ZSl7XHJcbiAgICByZXR1cm4gdGVtcGxhdGUucmVkdWNlKChkaXN0YW5jZSwgc2VjdGlvbik9PntcclxuICAgICAgICAvL9C10YHQu9C4INC/0LjQutGB0LXQu9GMINGD0LbQtSDQstC90YPRgtGA0Lgg0LPRgNCw0L3QuNGGLCDRgtC+INC/0YDQvtC00L7Qu9C20LDQtdC8INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIC0xXHJcbiAgICAgICAgaWYgKGRpc3RhbmNlID09IDApIHJldHVybiAwO1xyXG4gICAgICAgIC8v0LXRgdC70Lgg0L/QuNC60YHQtdC70Ywg0YHRgtCw0Lsg0LLQvdGD0YLRgNC4INCz0YDQsNC90LjRhiwg0L3QsNGH0LjQvdCw0LXQvCDQstC+0LfQstGA0LDRidCw0YLRjCAtMVxyXG4gICAgICAgIGlmICgoc2VjdGlvbi5iZWcgPCBwaXhlbC5oKSAmJiAoc2VjdGlvbi5lbmQgPiBwaXhlbC5oKSl7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHNlY3Rpb24uYmVnIDwgKHBpeGVsLmggKyAzNjApKSAmJiAoc2VjdGlvbi5lbmQgPiAocGl4ZWwuaCArIDM2MCkpKXtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v0LjQvdCw0YfQtSDQstC+0LfQstGA0LDRidCw0LXQvCDQvNC40L3QuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUg0LzQtdC20LTRgyDQs9GA0LDQvdC40YbQsNC80Lgg0Lgg0L/RgNC10LTRi9C00YPRidC40Lwg0LLRi9GH0LjRgdC70LXQvdC90YvQvCDQt9C90LDRh9C10L3QuNC10LxcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5hYnMocGl4ZWwuaCAtIHNlY3Rpb24uYmVnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMocGl4ZWwuaCAtIHNlY3Rpb24uZW5kKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoKHBpeGVsLmggKyAzNjApIC0gc2VjdGlvbi5iZWcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicygocGl4ZWwuaCArIDM2MCkgLSBzZWN0aW9uLmVuZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICB9LCAxMDAwKTtcclxufVxyXG5cclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBkcmF3KCk7XHJcblxyXG4gICAgZnVuY3Rpb24gZHJhdygpe1xyXG4gICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImltZ1wiKVswXTtcclxuICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2Nyb3NzT3JpZ2luJywgJycpXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhpbWcpO1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XHJcbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcclxuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XHJcbiAgICAgICAgLy9pbWcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgdmFyIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xyXG4gICAgICAgIHZhciB0ZW1wSFNMLCB0ZW1wUkdCOyAgIFxyXG4gICAgICAgIC8vY29uc29sZS5sb2coZGF0YS5sZW5ndGgpO1xyXG4gICAgICAgIHZhciBkYXRhSFNMID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7XHJcbiAgICAgICAgICAgIGRhdGFIU0wucHVzaChjb2xvcnN5cy5yZ2JfdG9faHNsKHsgcjogZGF0YVtpXSwgZzogZGF0YVtpICsgMV0sIGI6IGRhdGFbaSArIDJdIH0pKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgdGVtcGxhdGUgPSB0ZW1wbGF0ZTE7XHJcbiAgICAgICAgdmFyIG1pblN1bURpc3RhbmNlID0gSW5maW5pdHk7XHJcbiAgICAgICAgdmFyIGJlc3RBbmdsZSA9IDA7XHJcbiAgICAgICAgLy/Qv9C10YDQtdCx0LjRgNCw0LXQvCDQstC+0LfQvNC+0LbQvdGL0LUg0YPQs9C70Ysg0L/QvtCy0L7RgNC+0YLQsCDRiNCw0LHQu9C+0L3QsFxyXG4gICAgICAgIGZvciAodmFyIGFuZ2xlID0gMDsgYW5nbGU8PTM2MDsgYW5nbGUrPWFuZ2xlU3RlcCl7XHJcbiAgICAgICAgICAgIC8v0L/QvtCy0L7RgNCw0YfQuNCy0LDQtdC8INGI0LDQsdC70L7QvVxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlMS5tYXAoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wiYmVnXCI6IHZhbHVlLmJlZythbmdsZSwgXCJlbmRcIjogdmFsdWUuZW5kK2FuZ2xlfTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy/RgdGH0LjRgtCw0LXQvCDRgdGD0LzQvNGDINGA0LDRgdGC0L7Rj9C90LjQuSDQv9C40LrRgdC70LXQuSDQtNC+INCx0LvQuNC20LDQudGJ0LXQuSDQs9GA0LDQvdC40YbRiyDQvdC+0LLQvtCz0L4g0YjQsNCx0LvQvtC90LBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YUhTTFswXSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3VtID0gZGF0YUhTTC5yZWR1Y2UoKHN1bSwgcGl4ZWwpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coc3VtKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdW0gKyBtaW5Cb3JkZXJEaXN0YW5jZShwaXhlbCwgdGVtcGxhdGUpXHJcbiAgICAgICAgICAgIH0sIDApO1xyXG5cclxuICAgICAgICAgICAgLy8gZGF0YUhTTC5mb3JFYWNoKChwaXhlbCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgLy9jb25zb2xlLmxvZyhzdW0pO1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cobWluQm9yZGVyRGlzdGFuY2UocGl4ZWwsIHRlbXBsYXRlKSk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy/QtdGB0LvQuCDRgdGD0LzQvNCwINGB0YLQsNC70LAg0LzQtdC90YzRiNC1LCDRh9C10Lwg0LTQu9GPINC/0YDQtdC00YvQtNGD0YnQuNGFINGI0LDQsdC70L7QvdC+0LIgLSDQt9Cw0L/QvtC80LjQvdCw0LXQvCDRjdGC0L7RgiDRiNCw0LHQu9C+0L1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJtaW5TdW1EaXN0YW5jZTogXCIgKyBtaW5TdW1EaXN0YW5jZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic3VtOiBcIiArIHN1bSk7XHJcbiAgICAgICAgICAgIGlmIChtaW5TdW1EaXN0YW5jZSA+IHN1bSkge1xyXG4gICAgICAgICAgICAgICAgYmVzdEFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFuZ2xlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtaW5TdW1EaXN0YW5jZSA9IE1hdGgubWluKG1pblN1bURpc3RhbmNlLCBzdW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYmVzdEFuZ2xlKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKG1pbkJvcmRlckRpc3RhbmNlKHsgXCJoXCI6IDUwfSwgdGVtcGxhdGUxKSk7XHJcblxyXG4gICAgICAgIHZhciBpbnZlcnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7XHJcbiAgICAgICAgICAgIHRlbXBIU0wgPSBjb2xvcnN5cy5yZ2JfdG9faHNsKHsgcjogZGF0YVtpXSwgZzogZGF0YVtpICsgMV0sIGI6IGRhdGFbaSArIDJdIH0pO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRlbXBIU0wpO1xyXG4gICAgICAgICAgICB0ZW1wUkdCID0gY29sb3JzeXMuaHNsVG9SZ2IoeyBoOiB0ZW1wSFNMLmgsIHM6IHRlbXBIU0wucywgbDogdGVtcEhTTC5sfSk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coY29sb3JzeXMucm90YXRlSHVlKDIwMCwgMjAwKSk7XHJcbiAgICAgICAgICAgIGRhdGFbaV0gICAgID0gMjU2IC0gdGVtcFJHQi5yLy9kYXRhW2ldOyAgICAgLy8gcmVkXHJcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gMjU2IC0gdGVtcFJHQi5nLy9kYXRhW2kgKyAxXTsgLy8gZ3JlZW5cclxuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSAyNTYgLSB0ZW1wUkdCLmIvL2RhdGFbaSArIDJdOyAvLyBibHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9pbWcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICBjdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvL2ludmVydCgpOyBcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=